(self["webpackChunk_projuris_justto_web"]=self["webpackChunk_projuris_justto_web"]||[]).push([[1410],{31410:function(t,e,o){"use strict";o.r(e),o.d(e,{default:function(){return d}});var n=function(){var t=this,e=t._self._c;return e("article",{staticClass:"party-contacts"},[t._l(t.processedContacts,(function(o){return e("span",{key:o.id,staticClass:"party-contacts__infoline-container"},[t.mappedRecipients.includes(o[t.model])?e("i",{staticClass:"party-contacts__infoline-icon el-icon-s-promotion"}):o.isMain?t._e():e("div",[e("el-tooltip",{attrs:{"open-delay":600,effect:"dark",placement:"bottom",content:t.LGPDMessage}},[t.isPhoneNumber?e("jusIcon",{staticClass:"party-contacts__infoline-icon",attrs:{icon:"not-main-phone-active"}}):e("jusIcon",{staticClass:"party-contacts__infoline-icon",attrs:{icon:"not-main-email-active"}})],1)],1),e("div",{staticClass:"party-contacts__popover"},[e("el-tooltip",{attrs:{"open-delay":600,effect:"dark",placement:"left",content:"Ver mais informações"}},[t.isOabContacts?e("el-popover",{ref:`popover-${o.number}-${o.state}`,refInFor:!0,attrs:{"popper-class":"party-contacts__info-popover-lawyer",placement:"top-end",trigger:"click"},on:{hide:function(e){return t.deactivePopover(`popover-${o.number}-${o.state}`)}}},[e("lawyer-detail",{on:{update:t.emitUpdate}}),e("i",{staticClass:"el-icon-info icon-info-popover",attrs:{slot:"reference"},on:{click:function(e){return t.searchThisLawyer({name:t.party.name,oabs:[o]},`popover-${o.number}-${o.state}`)}},slot:"reference"})],1):t._e()],1),o.blocked||t.party.optOutType?e("el-popover",{attrs:{"open-delay":500,placement:"top-end",trigger:"hover"}},[e("div",[t._v(" "+t._s(t.getBlockText(o))+" ")]),e("div",{attrs:{slot:"reference"},slot:"reference"},[e("TextInlineEditor",{staticClass:"party-contacts__infoline-data",class:{"party-contacts__infoline-data--selected":t.mappedRecipients.includes(o[t.model]),"party-contacts__infoline-data--disabled":!o.isValid||o.blocked||t.party.optOutType,"party-contacts__infoline-data--secondary":!o.isMain||o.blocked||t.party.optOutType},attrs:{mask:t.mask,filter:t.filter,"is-editable":!t.disabled&&!(o.blocked||t.party.optOutType),"is-deletable":!t.disabled},on:{call:t.makeCall,change:function(e){return t.updateContact(o.id,e)},delete:function(e){return t.removeContact(o.id)},click:function(e){t.selectContact(o[t.model],o.isValid,o.isMain&&!(o.blocked||t.party.optOutType),o)}},model:{value:o[t.model],callback:function(e){t.$set(o,t.model,e)},expression:"contact[model]"}})],1)]):e("TextInlineEditor",{staticClass:"party-contacts__infoline-data",class:{"party-contacts__infoline-data--selected":t.mappedRecipients.includes(o[t.model]),"party-contacts__infoline-data--disabled":!o.isValid||o.blocked||t.party.optOutType,"party-contacts__infoline-data--secondary":!o.isMain||o.blocked||t.party.optOutType},attrs:{mask:t.mask,filter:t.filter,"is-editable":!t.disabled&&!(o.blocked||t.party.optOutType),"is-deletable":!t.disabled},on:{call:t.makeCall,change:function(e){return t.updateContact(o.id,e)},delete:function(e){return t.removeContact(o.id)},click:function(e){t.selectContact(o[t.model],o.isValid,o.isMain&&!(o.blocked||t.party.optOutType),o)}},model:{value:o[t.model],callback:function(e){t.$set(o,t.model,e)},expression:"contact[model]"}})],1)])})),!(t.isAllContactsVisible||t.contactsLength<=3)||t.isAddingNewContact||t.disabled?t._e():e("div",{staticClass:"party-contacts__infoline-link"},[e("a",{on:{click:t.startAddNewContact}},[t._v("Adicionar")])]),t.isAddingNewContact?e("TextInlineEditor",{ref:"newContactInput",staticClass:"party-contacts__infoline-data",attrs:{mask:t.mask,filter:t.filter},on:{change:t.addContact,blur:t.stopAddNewContact,enableEdit:t.enableEdit},model:{value:t.newContactModel,callback:function(e){t.newContactModel=e},expression:"newContactModel"}}):t._e(),t.contactsLength>3?e("div",{staticClass:"party-contacts__infoline-link"},[e("a",{on:{click:t.toggleContactsVisible}},[t._v(" "+t._s(t.expandLinkText)+" ")])]):t._e()],2)},a=[],i=o(90408),r={name:"PartyContacts",components:{TextInlineEditor:()=>o.e(6433).then(o.bind(o,56433)),LawyerDetail:()=>o.e(764).then(o.bind(o,10764))},props:{party:{type:Object,required:!1,default:()=>({})},contacts:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},model:{type:String,required:!0},filter:{type:String,default:""},mask:{type:[Function,String],default:()=>"X".repeat(255)},partyName:{type:String,required:!1,default:()=>""}},data:()=>({isAllContactsVisible:!1,isAddingNewContact:!1,newContactModel:"",modalLoading:!1,blocks:{}}),computed:{...(0,i.Se)({appInstance:"getAppInstance",recipients:"getEditorRecipients",ticketStatus:"getTicketOverviewStatus"}),isPhoneNumber(){return"number"===this.model},LGPDMessage(){const t=this.isPhoneNumber?"telefone":"e-mail";return`Este ${t} está desabilitado para receber mensagens automáticas`},contactsFiltered(){return this.contacts.filter((({archived:t})=>!t))},mappedRecipients(){return this.recipients.map((({value:t})=>t))},contactsLength(){return this.contactsFiltered.length},expandLinkText(){const{isAllContactsVisible:t,contactsLength:e}=this;return t?`Ver menos (-${e-3})`:`Ver mais (+${e-3})`},processedContacts(){const{contactsFiltered:t,isAllContactsVisible:e,contactsLength:o}=this,n=e?o:3;return t?.slice(0,n)},isOabContacts(){return Object.values(this.party).length>0&&"oab"===this.filter},getBlockText(){return t=>{const e=(t.address||"").length>0;return Object.keys(this.blocks).includes(String(t.id))?this.blocks[t.id]:this.$tc(`blocked.${e?"email":"phone"}.${t.blockedType||this.party.optOutType||"UNKNOW"}`)}}},watch:{contacts:{deep:!0,handler:"handleValidateContacts"}},methods:{...(0,i.nv)(["addCall","searchLawyers","getContactBlockReason","hideSearchLawyerLoading"]),handleValidateContacts(){this.contacts.forEach((t=>{if(t.blocked){const e=Number(this.$route?.params?.id),{blockedType:o,id:n}=t,a={number:"phone",address:"email",fullOab:"oab"}[this.model],i={disputeId:e,blockedType:o,addressType:a,contactId:n};this.getContactBlockReason(i).then((({reason:e})=>{const o=e||this.$tc(`blocked.${a}.${t.blockedType||"UNKNOW"}`);this.$set(this.blocks,Number(n),o)}))}}))},toggleContactsVisible(){this.isAllContactsVisible=!this.isAllContactsVisible},startAddNewContact(){this.isAddingNewContact=!0},enableEdit(){this.isAddingNewContact&&this.$refs.newContactInput.enableEdit()},stopAddNewContact(){this.isAddingNewContact=!1,this.newContactModel=""},updateContact(t,e){this.$emit("change",t,e)},removeContact(t){this.$emit("delete",t)},addContact(t){this.$emit("post",t)},selectContact(t,e,o,n){["COMMUNICATION_OPT_OUT"].includes(n?.blockedType)||this.emitClick(t,e,o)},emitClick(t,e,o){e&&this.$emit("click",t,"address",o)},searchThisLawyer(t,e){this.$refs[e][0].showPopper||(this.$refs[e][0].$el.classList.add("active-popover"),this.searchLawyers(t).finally(this.hideSearchLawyerLoading))},deactivePopover(t){this.$refs[t][0].$el.classList.remove("active-popover")},emitUpdate(t){this.$emit("update",t)},makeCall(t){const e=this.party.phonesDto.find((({number:e})=>e.includes(t)));e?.blocked||this.addCall({disputeId:Number(this.$route.params.id),disputeStatus:this.ticketStatus,toRoleId:this.party.disputeRoleId,toRoleName:this.party.name,number:`+55${t}`,appInstance:this.appInstance,contacts:{emails:this.party.emailsDto,phones:this.party.phonesDto}}).then((t=>{this.$jusNotification({type:"success",title:"Yay!",message:"Sua ligação entrou na fila, assim que tiver um telefone disponível para você usar, nós emitiremos um aviso sonoro"})}))}}},c=r,l=(o(71792),o(27339),o(1001)),s=(0,l.Z)(c,n,a,!1,null,"582ed49b",null),d=s.exports},95732:function(t,e,o){"use strict";o.r(e);var n=o(87537),a=o.n(n),i=o(23645),r=o.n(i),c=r()(a());c.push([t.id,".party-contacts .party-contacts__infoline-data[data-v-582ed49b],.party-contacts .party-contacts__infoline-link[data-v-582ed49b]{margin-left:18px;margin-bottom:3px;line-height:normal}.party-contacts .party-contacts__infoline-container[data-v-582ed49b]{position:relative}.party-contacts .party-contacts__infoline-container .party-contacts__popover i[data-v-582ed49b]:hover{color:#0756e4}.party-contacts .party-contacts__infoline-container .icon-info-popover[data-v-582ed49b]{position:absolute}.party-contacts .party-contacts__infoline-container .party-contacts__infoline-icon[data-v-582ed49b]{position:absolute;left:0;top:0;padding:3px 0}.party-contacts .party-contacts__infoline-container .party-contacts__infoline-data--selected[data-v-582ed49b]{color:#424242!important}.party-contacts .party-contacts__infoline-container .party-contacts__infoline-data--disabled[data-v-582ed49b],.party-contacts .party-contacts__infoline-container .party-contacts__infoline-data--secondary[data-v-582ed49b]{color:#979797}.party-contacts .party-contacts__infoline-link[data-v-582ed49b]{border-bottom:2px solid transparent}.party-contacts__lgpd-header[data-v-582ed49b]{display:flex;flex-direction:row;justify-content:center;margin-bottom:10px}.party-contacts__lgpd-header .party-contacts__lgpd-header__icon[data-v-582ed49b]{width:28px;height:28px;margin-right:8px}.party-contacts__lgpd-header .party-contacts__lgpd-header__label[data-v-582ed49b]{color:#018ef0;font-weight:700;font-size:22px}.party-contacts__lgpd-body[data-v-582ed49b]{display:flex;flex-direction:column;align-items:center}.party-contacts__lgpd-body .party-contacts__lgpd-body-item[data-v-582ed49b]{margin-bottom:5px}.party-contacts__lgpd-body .party-contacts__lgpd-body-item .party-contacts__lgpd-body-item-person-name[data-v-582ed49b]{text-transform:capitalize}.party-contacts__lgpd-body .party-contacts__lgpd-body-item-alert[data-v-582ed49b]{font-size:18px;margin-bottom:8px;font-weight:700}.party-contacts__lgpd-footer[data-v-582ed49b]{display:flex;flex-direction:row;justify-content:center;margin-top:12px}","",{version:3,sources:["webpack://./src/views/main/negotiation/partials/ticket/overview/tabs/parties/PartyContacts.vue","webpack://./node_modules/projuris-acordos-theme/src/common/colors.scss"],names:[],mappings:"AAIE,gIAEE,gBAAA,CACA,iBAAA,CACA,kBAAA,CAEF,qEACE,iBAAA,CAEE,sGACE,aCFU,CDKd,wFACE,iBAAA,CAGF,oGACE,iBAAA,CACA,MAAA,CACA,KAAA,CACA,aAAA,CAIA,8GAAA,uBAAA,CAEA,6NAAA,aC1BS,CD+Bb,gEACE,mCAAA,CAGJ,8CACE,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,kBAAA,CACA,iFACE,UAAA,CACA,WAAA,CACA,gBAAA,CAEF,kFACE,aCtCoB,CDuCpB,eAAA,CACA,cAAA,CAIJ,4CACE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,4EACE,iBAAA,CAEA,wHACE,yBAAA,CAGJ,kFACE,cAAA,CACA,iBAAA,CACA,eAAA,CAGJ,8CACE,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA",sourcesContent:["\n@import '~projuris-acordos-theme/src/common/colors.scss';\n\n.party-contacts {\n  .party-contacts__infoline-data,\n  .party-contacts__infoline-link {\n    margin-left: 18px;\n    margin-bottom: 3px;\n    line-height: normal;\n  }\n  .party-contacts__infoline-container {\n    position: relative;\n    .party-contacts__popover {\n      i:hover {\n        color: $--color-primary;\n      }\n    }\n    .icon-info-popover {\n      position: absolute;\n    }\n\n    .party-contacts__infoline-icon {\n      position: absolute;\n      left: 0;\n      top: 0;\n      padding: 3px 0;\n    }\n\n    .party-contacts__infoline-data {\n      &--selected { color: $--color-text-primary !important; }\n      &--secondary { color: $--color-text-secondary; }\n      &--disabled { color: $--color-text-secondary; }\n    }\n\n  }\n\n  .party-contacts__infoline-link {\n    border-bottom: 2px solid transparent;\n  }\n}\n.party-contacts__lgpd-header {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  margin-bottom: 10px;\n  .party-contacts__lgpd-header__icon {\n    width: 28px;\n    height: 28px;\n    margin-right: 8px;\n  }\n  .party-contacts__lgpd-header__label {\n    color: $--color-secondary;\n    font-weight: bold;\n    font-size: 22px;\n  }\n}\n\n.party-contacts__lgpd-body {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  .party-contacts__lgpd-body-item {\n    margin-bottom: 5px;\n\n    .party-contacts__lgpd-body-item-person-name {\n      text-transform: capitalize;\n    }\n  }\n  .party-contacts__lgpd-body-item-alert {\n    font-size: 18px;\n    margin-bottom: 8px;\n    font-weight: bold;\n  }\n}\n.party-contacts__lgpd-footer {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  margin-top: 12px;\n}\n","/* Colors\n-------------------------- */\n\n$--color-white: #fff !default;\n$--color-black: #424242 !default;\n$--color-gray: #979797 !default;\n$--color-gray-light-1: mix($--color-white, $--color-gray, 10%) !default;\n$--color-light-gray: #f3f4f5 !default;\n$--color-whatsapp: #075E54 !default;\n\n$--pj-color-darker-blue: #0A0022 !default;\n$--pj-color-dark-blue: #280BA0 !default;\n$--pj-color-blue: #0756e4 !default;\n$--pj-color-light-blue: #018EF0 !default;\n$--pj-color-lighter-blue: #30A9FB !default;\n$--pj-color-white-blue: #F0F9FE !default;\n$--pj-color-disabled-blue: #9ad2f9 !default;\n\n$-pg-color-overlay: #19415F !default;\n\n$--pj-color-red: #CC4148 !default;\n$--pj-color-light-red: #EC767C !default;\n$--pj-color-disable-red: #FFF2F3 !default;\n\n$--color-primary: $--pj-color-blue !default;\n$--color-primary-light-1: mix($--color-white, $--color-primary, 10%) !default;\n$--color-primary-light-2: mix($--color-white, $--color-primary, 20%) !default;\n$--color-primary-light-3: mix($--color-white, $--color-primary, 30%) !default;\n$--color-primary-light-4: mix($--color-white, $--color-primary, 40%) !default;\n$--color-primary-light-5: mix($--color-white, $--color-primary, 50%) !default;\n$--color-primary-light-6: mix($--color-white, $--color-primary, 60%) !default;\n$--color-primary-light-7: mix($--color-white, $--color-primary, 70%) !default;\n$--color-primary-light-8: mix($--color-white, $--color-primary, 80%) !default;\n$--color-primary-light-9: mix($--color-white, $--color-primary, 90%) !default;\n\n$--color-secondary: $--pj-color-light-blue !default;\n$--color-secondary-light-1: mix($--color-white, $--color-secondary, 10%) !default;\n$--color-secondary-light-2: mix($--color-white, $--color-secondary, 20%) !default;\n$--color-secondary-light-3: mix($--color-white, $--color-secondary, 30%) !default;\n$--color-secondary-light-4: mix($--color-white, $--color-secondary, 40%) !default;\n$--color-secondary-light-5: mix($--color-white, $--color-secondary, 50%) !default;\n$--color-secondary-light-6: mix($--color-white, $--color-secondary, 60%) !default;\n$--color-secondary-light-7: mix($--color-white, $--color-secondary, 70%) !default;\n$--color-secondary-light-8: mix($--color-white, $--color-secondary, 80%) !default;\n$--color-secondary-light-9: mix($--color-white, $--color-secondary, 90%) !default;\n\n$--color-primary-dark: $--pj-color-dark-blue !default;\n$--color-success: #14CC30 !default;\n$--color-warning: #FFC900 !default;\n$--color-danger: #FF4B54 !default;\n$--color-info: #2FBBEC !default;\n\n$--color-success-light-1: mix($--color-white, $--color-success, 10%) !default;\n$--color-success-light-5: mix($--color-white, $--color-success, 50%) !default;\n$--color-warning-light-5: mix($--color-white, $--color-warning, 50%) !default;\n$--color-danger-light-5: mix($--color-white, $--color-danger, 50%) !default;\n$--color-danger-light-3: mix($--color-white, $--color-danger, 30%) !default;\n$--color-info-light-5: mix($--color-white, $--color-info, 50%) !default;\n\n$--color-success-light: mix($--color-white, $--color-success, 80%) !default;\n$--color-warning-light: mix($--color-white, $--color-warning, 80%) !default;\n$--color-danger-light: mix($--color-white, $--color-danger, 80%) !default;\n$--color-info-light: mix($--color-white, $--color-info, 80%) !default;\n\n$--color-success-lighter: mix($--color-white, $--color-success, 90%) !default;\n$--color-warning-lighter: mix($--color-white, $--color-warning, 90%) !default;\n$--color-danger-lighter: mix($--color-white, $--color-danger, 90%) !default;\n$--color-info-lighter: mix($--color-white, $--color-info, 90%) !default;\n\n$--color-text-primary: $--color-black !default;\n$--color-text-secondary: $--color-gray !default;\n\n$--color-nps-promoter: #14CC30 !default;\n$--color-nps-neutral: #979797 !default;\n$--color-nps-detractor: #FF4B54 !default;\n\n$--color-negotiator-bg: #9461f74f !default;\n$--color-email-bg: $--color-info-light !default;\n$--color-whatsapp-bg: $--color-success-light-5 !default;"],sourceRoot:""}]),e["default"]=c},91482:function(t,e,o){"use strict";o.r(e);var n=o(87537),a=o.n(n),i=o(23645),r=o.n(i),c=r()(a());c.push([t.id,".party-contacts .party-contacts__infoline-container .party-contacts__infoline-data--selected .text-inline-editor__inner{font-weight:500}.party-contacts .party-contacts__infoline-container .party-contacts__infoline-data--disabled .text-inline-editor__inner{text-decoration:line-through;cursor:not-allowed}.party-contacts__info-popover-lawyer{width:500px;min-height:20vh;max-height:50vh}","",{version:3,sources:["webpack://./src/views/main/negotiation/partials/ticket/overview/tabs/parties/PartyContacts.vue"],names:[],mappings:"AAMM,wHACE,eAAA,CAEF,wHACE,4BAAA,CACA,kBAAA,CAKR,qCACE,WAAA,CACA,eAAA,CACA,eAAA",sourcesContent:["\n@import '~projuris-acordos-theme/src/common/colors.scss';\n\n.party-contacts {\n  .party-contacts__infoline-container {\n    .party-contacts__infoline-data {\n      &--selected .text-inline-editor__inner {\n        font-weight: 500;\n      }\n      &--disabled .text-inline-editor__inner {\n        text-decoration: line-through;\n        cursor: not-allowed;\n      }\n    }\n  }\n}\n.party-contacts__info-popover-lawyer {\n  width: 500px;\n  min-height: 20vh;\n  max-height: 50vh;\n}\n"],sourceRoot:""}]),e["default"]=c},71792:function(t,e,o){var n=o(95732);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var a=o(39185).Z;a("44ccf826",n,!0,{sourceMap:!0,shadowMode:!1})},27339:function(t,e,o){var n=o(91482);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var a=o(39185).Z;a("5e5ecba0",n,!0,{sourceMap:!0,shadowMode:!1})}}]);
//# sourceMappingURL=1410.js.map