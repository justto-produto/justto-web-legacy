(self["webpackChunk_projuris_justto_web"]=self["webpackChunk_projuris_justto_web"]||[]).push([[1579],{71579:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return u}});var s=function(){var e=this,l=e._self._c;return l("article",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"scheduled-call"},[l("div",{staticClass:"scheduled-call__update"},[l("el-tooltip",{attrs:{content:"Atualizar chamadas agendadas.","open-delay":500}},[l("el-button",{staticClass:"scheduled-call__update-btn",attrs:{type:"secondary",size:"mini",icon:e.loading?"el-icon-loading":"el-icon-refresh",round:""},on:{click:e.updatePhoneCalls}})],1),e.scheduledCallQueue.length>0?l("el-tooltip",{attrs:{content:"Remover todas as chamadas agendadas.","open-delay":500}},[l("el-button",{staticClass:"scheduled-call__update-btn",attrs:{type:"danger",size:"mini",icon:"el-icon-delete-solid",round:""},on:{click:e.removeAllCalls}})],1):e._e()],1),l("el-collapse",{model:{value:e.collapseState,callback:function(l){e.collapseState=l},expression:"collapseState"}},[l("el-collapse-item",{attrs:{title:e.collapseTitle,name:"show",disabled:!e.scheduledCallQueue.length}},[l("ul",{staticClass:"scheduled-call_list"},e._l(e.scheduledCallQueue,(function(a,s){return l("li",{key:`scheduledCall#${s}`},[l("call",{staticClass:"scheduled-call_list-item",model:{value:e.scheduledCallQueue[s],callback:function(l){e.$set(e.scheduledCallQueue,s,l)},expression:"scheduledCallQueue[callIndex]"}})],1)})),0)])],1)],1)},n=[],t=a(90408),d={components:{Call:()=>a.e(7116).then(a.bind(a,87116))},data:()=>({loading:!1,collapseModel:["show"]}),computed:{...(0,t.Se)({queue:"getScheduledCallsQueue",callQueue:"getCallQueue"}),scheduledCallQueue(){const e=this.callQueue.filter((({scheduling:e})=>e?.disputeMessageId)).map((({scheduling:e})=>e?.disputeMessageId));return this.queue.filter((({disputeMessageId:l})=>!e.includes(l)))},collapseTitle(){const e=this.scheduledCallQueue?.length>1;return`${this.scheduledCallQueue?.length||0} ${e?"ligações agendadas":"ligação agendada"}`},collapseState:{get(){return this.scheduledCallQueue.length?this.collapseModel:[]},set(e){this.collapseModel=[...e]}}},methods:{...(0,t.nv)({getPhoneCalls:"getPhoneCalls",removeCall:"unschedulePhoneCallStatus"}),updatePhoneCalls(){this.loading=!0,this.getPhoneCalls().finally((()=>{setTimeout((()=>{this.loading=!1}),1e3)}))},removeAllCalls(){const e=this.scheduledCallQueue.map((({disputeMessageId:e})=>e));e.length&&this.$confirm(`Deseja remover todas as ${e.length} chamadas agendadas?`,`${e.length} chamadas agendadas`,{closeOnPressEscape:!1,closeOnClickModal:!1,confirmButtonText:"Sim",cancelButtonText:"Não",center:!0}).then((()=>{this.loading=!0,Promise.all(e.map((e=>this.removeCall(e)))).finally((()=>{this.loading=!1}))}))}}},c=d,i=(a(44863),a(69472),a(1001)),o=(0,i.Z)(c,s,n,!1,null,"058ccb4d",null),u=o.exports},64082:function(e,l,a){"use strict";a.r(l);var s=a(87537),n=a.n(s),t=a(23645),d=a.n(t),c=d()(n());c.push([e.id,".scheduled-call .scheduled-call__update{position:absolute;right:0}.scheduled-call .scheduled-call__update .scheduled-call__update-btn span{display:none}.scheduled-call .scheduled-call__update .scheduled-call__update-btn:hover span{display:inline}.scheduled-call .scheduled-call__update .el-button+.el-button{margin-left:4px}.scheduled-call .el-collapse .el-collapse-item div[role=tab] .el-collapse-item__header{height:30px;border:none;display:flex;gap:4px;flex-direction:row-reverse;justify-content:flex-end}.scheduled-call .el-collapse .el-collapse-item div[role=tab] .el-collapse-item__header i{margin:0}.scheduled-call .el-collapse .el-collapse-item div[role=tabpanel] .el-collapse-item__content{padding:0}.scheduled-call .el-collapse .el-collapse-item div[role=tabpanel] .el-collapse-item__content .scheduled-call_list{padding:0;width:100%;overflow-y:scroll}.scheduled-call .el-collapse .el-collapse-item div[role=tabpanel] .el-collapse-item__content .scheduled-call_list::-webkit-scrollbar{width:16px}","",{version:3,sources:["webpack://./src/views/main/dialer/ScheduledCallsQueue.vue"],names:[],mappings:"AAEE,wCACE,iBAAA,CACA,OAAA,CAGE,yEACE,YAAA,CAGF,+EACE,cAAA,CAIJ,8DACE,eAAA,CAOE,uFACE,WAAA,CACA,WAAA,CACA,YAAA,CACA,OAAA,CACA,0BAAA,CACA,wBAAA,CAEA,yFACE,QAAA,CAMJ,6FACE,SAAA,CAEA,kHACE,SAAA,CACA,UAAA,CACA,iBAAA,CAEA,qIACE,UAAA",sourcesContent:['\n.scheduled-call {\n  .scheduled-call__update {\n    position: absolute;\n    right: 0;\n\n    .scheduled-call__update-btn {\n      span {\n        display: none;\n      }\n\n      &:hover span {\n        display: inline;\n      }\n    }\n\n    .el-button + .el-button {\n      margin-left: 4px;\n    }\n  }\n\n  .el-collapse {\n    .el-collapse-item {\n      div[role="tab"] {\n        .el-collapse-item__header {\n          height: 30px;\n          border: none;\n          display: flex;\n          gap: 4px;\n          flex-direction: row-reverse;\n          justify-content: flex-end;\n\n          i {\n            margin: 0;\n          }\n        }\n      }\n\n      div[role="tabpanel"] {\n        .el-collapse-item__content {\n          padding: 0;\n\n          .scheduled-call_list {\n            padding: 0;\n            width: 100%;\n            overflow-y: scroll;\n\n            &::-webkit-scrollbar {\n              width: 16px;\n            }\n          }\n        }\n      }\n    }\n  }\n}\n'],sourceRoot:""}]),l["default"]=c},45269:function(e,l,a){"use strict";a.r(l);var s=a(87537),n=a.n(s),t=a(23645),d=a.n(t),c=d()(n());c.push([e.id,".scheduled-call[data-v-058ccb4d]{display:flex;flex-direction:column;gap:8px;position:relative}.scheduled-call .el-divider[data-v-058ccb4d]{margin:8px 0}.scheduled-call .scheduled-call_list[data-v-058ccb4d]{margin:0;list-style:none;padding:0;max-height:40vh;overflow-y:scroll;overflow-x:visible}.scheduled-call .scheduled-call_list .scheduled-call_list-item+.scheduled-call_list-item[data-v-058ccb4d]{margin-top:16px}","",{version:3,sources:["webpack://./src/views/main/dialer/ScheduledCallsQueue.vue"],names:[],mappings:"AACA,iCACE,YAAA,CACA,qBAAA,CACA,OAAA,CACA,iBAAA,CAEA,6CACE,YAAA,CAGF,sDACE,QAAA,CACA,eAAA,CACA,SAAA,CACA,eAAA,CACA,iBAAA,CACA,kBAAA,CAEA,0GACE,eAAA",sourcesContent:["\n.scheduled-call {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  position: relative;\n\n  .el-divider {\n    margin: 8px 0;\n  }\n\n  .scheduled-call_list {\n    margin: 0;\n    list-style: none;\n    padding: 0;\n    max-height: 40vh;\n    overflow-y: scroll;\n    overflow-x: visible;\n\n    .scheduled-call_list-item + .scheduled-call_list-item {\n      margin-top: 16px;\n    }\n  }\n}\n"],sourceRoot:""}]),l["default"]=c},44863:function(e,l,a){var s=a(64082);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var n=a(39185).Z;n("8d6b3f16",s,!0,{sourceMap:!0,shadowMode:!1})},69472:function(e,l,a){var s=a(45269);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var n=a(39185).Z;n("7af97b41",s,!0,{sourceMap:!0,shadowMode:!1})}}]);
//# sourceMappingURL=1579.js.map