(self["webpackChunk_projuris_justto_web"]=self["webpackChunk_projuris_justto_web"]||[]).push([[2276],{12276:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return d}});var n=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"dispute-properties-view",attrs:{"element-loading-background":"rgba(247, 247, 247, 0.7)"}},[e._l(e.disputePropertiesList,(function(i,n){return t("div",{key:e.lineKey+n,staticClass:"dispute-properties-view__line"},[t("div",{staticClass:"edit"},[t("div",{staticClass:"key"},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.editing[i.key+n],expression:"!editing[propriety.key + index]"}],staticClass:"label",on:{click:function(t){return e.focus(i.key,n)}}},[e._v(" "+e._s(i.key+":")+" ")]),t("el-input",{directives:[{name:"show",rawName:"v-show",value:e.editing[i.key+n],expression:"editing[propriety.key + index]"}],ref:"input"+i.key+n,refInFor:!0,on:{blur:function(t){return e.blurKey(i.key,n)}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.blurKey(i.key,n)}},model:{value:e.editable,callback:function(t){e.editable=t},expression:"editable"}})],1),t("div",{staticClass:"value"},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.editing[i.value+n],expression:"!editing[propriety.value + index]"}],staticClass:"label",on:{click:function(t){return e.focus(i.value,n)}}},[t("span",[e._v(" "+e._s(i.value)+" ")])]),t("el-input",{directives:[{name:"show",rawName:"v-show",value:e.editing[i.value+n],expression:"editing[propriety.value + index]"}],ref:"input"+i.value+n,refInFor:!0,attrs:{autosize:!0,type:"textarea"},on:{blur:function(t){return e.blurValue(i.key,i.value,n)}},nativeOn:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void t.preventDefault()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.shiftKey?t.ctrlKey||t.altKey||t.metaKey?null:void t.preventDefault():null}],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.blurValue(i.key,i.value,n)}},model:{value:e.editable,callback:function(t){e.editable=t},expression:"editable"}})],1)]),e.isPreNegotiation?e._e():t("el-link",{attrs:{underline:!1,type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.removePropriety(i.key)}}})],1)})),t("el-tooltip",{attrs:{content:"Propriedade não editável","open-delay":600}},[e.disputeProperties["ENRIQUECIDO"]?t("div",{staticClass:"dispute-properties-view__line"},[t("div",{staticClass:"key"},[t("div",{staticClass:"label"},[e._v(" ENRIQUECIDO: ")])]),t("div",{staticClass:"value"},[t("div",{staticClass:"label"},[e._v(" "+e._s(e.disputeProperties["ENRIQUECIDO"])+" ")])])]):e._e()]),e.isPreNegotiation?e._e():t("div",{staticClass:"dispute-properties-view__line mt20"},[t("div",{staticClass:"key"},[t("el-autocomplete",{attrs:{"fetch-suggestions":e.getSuggestionsKeys,placeholder:"Chave"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.newPropriety.apply(null,arguments)}},model:{value:e.newKey,callback:function(t){e.newKey=t},expression:"newKey"}})],1),t("div",{staticClass:"value"},[t("el-input",{attrs:{autosize:"",placeholder:"Valor",type:"textarea"},nativeOn:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void t.preventDefault()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.shiftKey?t.ctrlKey||t.altKey||t.metaKey?null:void t.preventDefault():null}],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.newPropriety.apply(null,arguments)}},model:{value:e.newValue,callback:function(t){e.newValue=t},expression:"newValue"}})],1),t("el-tooltip",{attrs:{content:"Adicionar propriedade","open-delay":500}},[t("el-link",{attrs:{underline:!1,type:"primary",icon:"el-icon-plus"},on:{click:e.newPropriety}})],1)],1)],2)},r=[],s=(i(57658),i(90408)),l=i(87325),o={name:"OverviewProperties",mixins:[l.Z],data(){return{loading:!1,lineKey:0,keyToEdit:{},valueToEdit:{},editing:{},editable:"",newKey:"",newValue:""}},computed:{...(0,s.Se)({ticketProperties:"getTicketOverviewProperties"}),disputePropertiesList(){const e=[];for(const t of Object.entries(this.disputeProperties))["ERROR_COUT","ENRIQUECIDO"].includes(t[0])||e.push({key:t[0],value:t[1]});return e.sort(((e,t)=>e.key===t.key?0:e.key>t.key?1:-1))},disputeProperties:{get(){return this.ticketProperties},set(e){const{id:t}=this.$route.params;this.$store.dispatch("putDisputeProperties",{disputeId:t,data:e}).finally((()=>{this.getAssociatedContacts(t),this.newKey="",this.newValue="",this.loading=!1}))}}},methods:{...(0,s.nv)(["getAssociatedContacts"]),focus(e,t){this.isPreNegotiation||(this.editing[e+t]=!0,this.lineKey+=1,this.editable=e,this.$nextTick((()=>this.$refs["input"+e+t][0].$el.children[0].focus())))},blurKey(e,t){if(this.editing[e+t]=!1,this.lineKey+=1,e!==this.editable){this.loading=!0;const t=JSON.parse(JSON.stringify(this.disputeProperties));t[this.editable]=t[e],delete t[e],this.disputeProperties=t}},blurValue(e,t,i){if(this.editing[t+i]=!1,this.lineKey+=1,t!==this.editable){this.loading=!0;const t=JSON.parse(JSON.stringify(this.disputeProperties));t[e]=this.editable,this.disputeProperties=t}},removePropriety(e){this.loading=!0;const t=JSON.parse(JSON.stringify(this.disputeProperties));delete t[e],this.disputeProperties=t},newPropriety(){if(this.newKey&&this.newValue){this.loading=!0;const e=JSON.parse(JSON.stringify(this.disputeProperties));e[this.newKey]=this.newValue,this.disputeProperties=e}},getSuggestionsKeys(e,t){const i=[{value:"COMARCA"},{value:"AREA"},{value:"FORO"},{value:"VARA"},{value:"SITUACAO"},{value:"TRIBUNAL"},{value:"ESTADO"}];t(e?i.filter((t=>0===t.value.toLowerCase().indexOf(e.toLowerCase()))):i)}}},a=o,p=(i(33183),i(1001)),u=(0,p.Z)(a,n,r,!1,null,null,null),d=u.exports},82121:function(e,t,i){"use strict";i.r(t);var n=i(87537),r=i.n(n),s=i(23645),l=i.n(s),o=l()(r());o.push([e.id,".dispute-properties-view{overflow-y:auto;height:100%;padding-top:4px}.dispute-properties-view__line{display:flex;align-items:flex-start;justify-content:space-between}.dispute-properties-view__line .edit{display:flex;flex-direction:column}.dispute-properties-view__line .edit .key{white-space:nowrap}.dispute-properties-view__line .edit .key .label{font-weight:600}.dispute-properties-view__line .edit .value{width:100%;margin-left:5px}.dispute-properties-view__line .label{margin:5px 0;word-break:break-all;border-bottom:2px solid #ffffff00}.dispute-properties-view__line .el-link{margin-top:6px;margin-left:10px}.dispute-properties-view__line .el-autocomplete,.dispute-properties-view__line .el-input__inner,.dispute-properties-view__line .el-textarea__inner{overflow:hidden;line-height:normal!important;border:0;border-radius:0;border-bottom:2px solid #e4e7ed;padding-left:0;height:28px!important;min-height:28px!important;line-height:28px!important;background-color:#ffffff00}.dispute-properties-view__line .el-autocomplete{min-width:120px}","",{version:3,sources:["webpack://./src/views/main/negotiation/partials/ticket/overview/tabs/OverviewProperties.vue"],names:[],mappings:"AACA,yBACE,eAAA,CACA,WAAA,CACA,eAAA,CACA,+BACE,YAAA,CACA,sBAAA,CACA,6BAAA,CACA,qCACE,YAAA,CACA,qBAAA,CACA,0CACE,kBAAA,CACA,iDACE,eAAA,CAGJ,4CACE,UAAA,CACA,eAAA,CAGJ,sCACE,YAAA,CACA,oBAAA,CACA,iCAAA,CAEF,wCACE,cAAA,CACA,gBAAA,CAEF,mJACE,eAAA,CACA,4BAAA,CACA,QAAA,CACA,eAAA,CACA,+BAAA,CACA,cAAA,CACA,qBAAA,CACA,yBAAA,CACA,0BAAA,CACA,0BAAA,CAEF,gDACE,eAAA",sourcesContent:["\n.dispute-properties-view {\n  overflow-y: auto;\n  height: 100%;\n  padding-top: 4px;\n  &__line {\n    display: flex;\n    align-items: flex-start;\n    justify-content: space-between;\n    .edit {\n      display: flex;\n      flex-direction: column;\n      .key {\n        white-space: nowrap;\n        .label {\n          font-weight: 600;\n        }\n      }\n      .value {\n        width: 100%;\n        margin-left: 5px;\n      }\n    }\n    .label {\n      margin: 5px 0;\n      word-break: break-all;\n      border-bottom: 2px solid #FFFFFF00\n    }\n    .el-link {\n      margin-top: 6px;\n      margin-left: 10px;\n    }\n    .el-input__inner, .el-textarea__inner, .el-autocomplete {\n      overflow: hidden;\n      line-height: initial !important;\n      border: 0;\n      border-radius: 0;\n      border-bottom: 2px solid #e4e7ed;\n      padding-left: 0px;\n      height: 28px !important;\n      min-height: 28px !important;\n      line-height: 28px !important;\n      background-color: #FFFFFF00\n    }\n    .el-autocomplete {\n      min-width: 120px;\n    }\n  }\n}\n"],sourceRoot:""}]),t["default"]=o},33183:function(e,t,i){var n=i(82121);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var r=i(39185).Z;r("b38063b6",n,!0,{sourceMap:!0,shadowMode:!1})}}]);
//# sourceMappingURL=2276.js.map