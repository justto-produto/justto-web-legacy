{"version":3,"file":"chunks/2709.js","mappings":"sLAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,UAAU,CAACE,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOP,EAAIQ,QAASC,WAAW,YAAYC,YAAY,6BAA6BC,MAAM,CAAC,cAAa,EAAM,wBAAuB,EAAM,yBAAwB,IAAQ,EAAEX,EAAIY,WAAeZ,EAAIa,SAAYb,EAAIc,OAAm3Cd,EAAIc,QAAUd,EAAIa,SAAWb,EAAIe,OAAOC,qBAAsBd,EAAG,yBAAyB,CAACS,MAAM,CAAC,OAASX,EAAIe,QAAQE,GAAG,CAAC,MAAQjB,EAAIkB,WAAW,MAAQlB,EAAImB,eAAejB,EAAG,yBAAyB,CAACe,GAAG,CAAC,OAASjB,EAAIoB,4BAA4B,OAASpB,EAAImB,eAA9mDjB,EAAG,UAAU,CAACQ,YAAY,wBAAwBC,MAAM,CAAC,MAAQX,EAAIe,OAAO,aAAe,QAAQ,CAACb,EAAG,SAAS,CAACQ,YAAY,2BAA2BV,EAAIqB,GAAIrB,EAAIe,QAAQ,SAASO,EAAWC,GAAU,OAAOrB,EAAG,SAAS,CAACE,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,OAAQgB,EAASC,SAAS,WAAYf,WAAW,kCAAkCgB,IAAIF,EAASb,YAAY,yBAAyBC,MAAM,CAAC,KAAO,KAAK,CAACT,EAAG,eAAe,CAACS,MAAM,CAAC,MAAQX,EAAI0B,gBAAgBH,KAAY,CAAGA,EAASC,SAAS,WAAsdxB,EAAI2B,KAA9czB,EAAG,WAAW,CAACS,MAAM,CAAC,gBAAgBY,EAASC,SAAS,aAAa,cAAcxB,EAAI4B,eAAeL,GAAU,aAAe,MAAM,gBAAgB,OAAOM,MAAM,CAACtB,MAAOP,EAAIe,OAAOQ,GAAWO,SAAS,SAAUC,GAAM/B,EAAIgC,KAAKhC,EAAIe,OAAQQ,EAAUQ,EAAI,EAAEtB,WAAW,qBAAqB,CAAEc,EAASC,SAAS,QAAStB,EAAG,YAAY,CAACS,MAAM,CAAC,KAAO,SAAS,KAAO,cAAc,KAAO,kBAAkBM,GAAG,CAAC,MAAQjB,EAAIiC,aAAaC,KAAK,WAAWlC,EAAI2B,MAAM,IAAa,IAAI,EAAE,IAAG,GAAIQ,OAAOC,KAAKpC,EAAIe,QAAQsB,OAAQnC,EAAG,eAAe,CAACQ,YAAY,WAAW,CAACR,EAAG,YAAY,CAACe,GAAG,CAAC,MAAQjB,EAAImB,cAAc,CAACnB,EAAIsC,GAAG,cAAetC,EAAIa,SAAWb,EAAIuC,UAAWrC,EAAG,YAAY,CAACS,MAAM,CAAC,KAAO,aAAaM,GAAG,CAAC,MAAQjB,EAAIiC,cAAc,CAACjC,EAAIsC,GAAG,eAAetC,EAAI2B,KAAKzB,EAAG,YAAY,CAACS,MAAM,CAAC,KAAO,WAAWM,GAAG,CAAC,MAAQjB,EAAIwC,aAAa,CAACxC,EAAIsC,GAAG,eAAe,GAAGtC,EAAI2B,MAAM,GAAuRzB,EAAG,8BAA8B,CAACuC,IAAI,sBAAsB,EACvhE,EACIC,EAAkB,G,WCsFtB,GACArC,KAAA,qBAEAsC,WAAA,CACAC,uBAAAA,IAAA,gCACAC,4BAAAA,IAAA,gCACAC,uBAAAA,IAAA,iCAGAC,MAAA,CACAC,QAAA,CACAC,UAAA,EACAC,KAAAC,SAIAC,KAAAA,KAAA,CACA5C,SAAA,EACA+B,WAAA,IAGAc,SAAA,KACAC,EAAAA,EAAAA,IAAA,CACAC,eAAA,4BACAC,YAAA,cACAC,UAAA,wBACA3C,OAAA,sBAGAC,OAAA,CACA2C,GAAAA,GAAA,YAAAD,SAAA,EACAE,GAAAA,CAAApD,GAAA,KAAAqD,sBAAArD,EAAA,GAGAK,SAAAA,GACA,YAAA2B,WAAA,KAAAxB,QAAA8C,cAAA,KAAA9C,QAAAC,sBAAA,KAAAD,QAAA+C,qBACA,EAEAjD,OAAAA,GACA,YAAA0B,YAAA,KAAAgB,gBAAA,IAAAQ,QAAA,EAAAtC,MAAA,GAAAlB,QAAA,MAAAkB,EAAAD,SAAA,YAAAjB,IAAAyD,QAAA,KAAA3B,OAAA,CACA,EAEA4B,aAAAA,GACA,OAAAC,GAAA,sBAAA1C,SAAA0C,EACA,GAGAC,MAAA,CACAvD,SAAAA,CAAAwD,GACA,GAAAA,EAAA,CACA,MAAAC,EAAAC,SAAAC,cAAA,kCAEAF,GAAAA,EAAAG,aAAA,qBACA,CACA,GAGAC,OAAAA,GACA,KAAAC,MACA,EAEAC,QAAA,KACAC,EAAAA,EAAAA,IAAA,CACA,oBACA,uBACA,wBACA,yBACA,iCACA,gCAGAC,EAAAA,EAAAA,IAAA,2BAEAH,IAAAA,GACA,MAAAI,EAAAA,CAAAC,EAAAC,KAAAD,GAAA,IAAAE,MAAA,EAAAxD,SAAAA,IAAAuD,KAAAzE,OAAA,GAEA2C,GAAA,MAAAK,gBAAA,IAAA0B,MAAA,EAAAxD,MAAA,GAAAlB,QAAA,MAAAkB,EAAAD,SAAA,qBAAAjB,KAAAkB,IAGA,OADA,KAAAyD,wBACAhC,GACA,2BACA,KAAAiC,8BAAA,CACAC,IAAAN,EAAA,KAAAvB,eAAA,qBACA8B,MAAAP,EAAA,KAAAvB,eAAA,uBACA+B,SAAA,SACAC,QAAAT,EAAA,KAAAvB,eAAA,4BAEA,MACA,mBACA,KAAAiC,qBAAA,CACAJ,IAAAN,EAAA,KAAAvB,eAAA,kBACA+B,SAAA,SACAC,QAAAT,EAAA,KAAAvB,eAAA,oBAEA,MACA,4BACA,KAAAkC,sBAAA,CACAL,IAAAN,EAAA,KAAAvB,eAAA,2BACA+B,SAAA,SACAC,QAAAT,EAAA,KAAAvB,eAAA,6BAEA,MACA,QACA,MAEA,EAEAnC,2BAAAA,CAAAgE,GACA,KAAAM,kBAAAN,GAAAO,MAAA,EAAAP,MAAAlC,WACA,KAAA0C,sBAAA,CAAAR,MAAAlC,QAAA,IACA2C,OAAAC,GAAA,KAAAC,iBAAA,CAAAD,WACA,EAEAE,2BAAAA,EAAA,IAAAZ,EAAA,OAAAa,EAAA,KAAA/C,IACA,OAAA+C,GACA,aACA,KAAA7E,4BAAAgE,GACA,MACA,aACA,KAAAQ,sBAAA,CAAAR,MAAAlC,SACA,MACA,QACA,MAEA,EAEA0C,qBAAAA,EAAA,IAAAR,EAAA,KAAAlC,IACA,OAAAA,GACA,oBACA,KAAAiC,8BAAA,CAAAC,QACA,MACA,YACA,KAAAI,qBAAA,CAAAJ,QACA,MACA,QACA,KAAAK,sBAAA,CAAAL,QACA,MAEA,EAEAD,6BAAAA,EAAA,IAAAC,EAAA,MAAAC,EAAA,KACA,KAAAtE,OAAA,CACAC,sBAAA,EACAkF,oBAAAb,EACAc,kBAAAf,EAEA,EAEAI,oBAAAA,EAAA,IAAAJ,EAAA,SAAAE,EAAA,WAAAC,EAAA,KACA,KAAAxE,OAAA,CACA8C,cAAA,EACAuC,eAAAhB,EACAiB,eAAAd,EACAe,eAAAhB,EAEA,EAEAG,qBAAAA,EAAA,IAAAL,EAAA,SAAAE,EAAA,WAAAC,EAAA,KACA,KAAAxE,OAAA,CACA+C,uBAAA,EACAyC,wBAAAnB,EACAoB,wBAAAjB,EACAkB,wBAAAnB,EAEA,EAEA1D,cAAAA,CAAAH,GACA,uEAAAD,SAAAC,GACA,eACA,sEAAAD,SAAAC,GACA,eACA,sEAAAD,SAAAC,GACA,eACA,wBAAAD,SAAAC,GACA,qBAGA,cACA,EAEAC,eAAAA,CAAAD,GACA,uEAAAD,SAAAC,GACA,uBACA,sEAAAD,SAAAC,GACA,WACA,sEAAAD,SAAAC,GACA,WACA,wBAAAD,SAAAC,GACA,4CAGAA,CACA,EAEAN,WAAAA,GACA,KAAAoB,WAAA,EACA,KAAAmE,MAAA,QACA,EAEAzE,WAAAA,GACA,KAAA0E,SAAA,8CACAC,kBAAA,MACAC,iBAAA,MACAC,WAAA,EACAC,mBAAA,EACAC,oBAAA,IACArB,MAAA,KACA,KAAAnF,SAAA,EACA,KAAA+B,WAAA,EAEA,KAAA0E,0BAAAtB,MAAA,KACA,KAAAI,iBAAA,CACA7C,KAAA,UACAgE,MAAA,OACAC,QAAA,0BAGA,KAAApG,OAAA,GAEA,KAAAqG,YAAAzB,KAAA,KAAA0B,cAAA,IACAxB,OAAAC,GAAA,KAAAC,iBAAA,CACAD,YACAwB,SAAA,UAAA9G,SAAA,OAEA,EAEAgC,UAAAA,GACA,KAAAhC,SAAA,EACA,KAAA+B,WAAA,EAEA,MAAAxB,EAAAoB,OAAAC,KAAA,KAAArB,QAAAwG,QAAA,CAAAC,EAAA/F,KACA,gBAAAV,OAAAU,KAAA+F,EAAA/F,GAAAuC,OAAA,KAAAjD,OAAAU,KAEA+F,IACA,IACA,KAAAC,uBAAA,IAAA1G,IAAA4E,MAAA,KACA,KAAAI,iBAAA,CACA7C,KAAA,UACAgE,MAAA,OACAC,QAAA,uBAGA,KAAApG,OAAA,GAEA,KAAAqG,YAAAzB,KAAA,KAAA0B,cAAA,IACAxB,OAAAC,GAAA,KAAAC,iBAAA,CACAD,YACAwB,SAAA,UAAA9G,SAAA,IACA,EAEA6G,aAAAA,GACA,KAAAnC,wBAAAS,KAAA,KAAAjB,MAAAmB,OAAAC,GAAA,KAAAC,iBAAA,CACAD,YACAwB,SAAA,UAAA9G,SAAA,IACA,EAEAU,UAAAA,GACAwG,QAAAC,IAAA,cACA,KAAApF,WAAA,CACA,IC3V+S,I,qBCQ3SqF,GAAY,OACd,EACA7H,EACA2C,GACA,EACA,KACA,KACA,MAIF,EAAekF,EAAiB,O,wFChB5BC,EAA0B,IAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,miCAAsiC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,gHAAgH,MAAQ,GAAG,SAAW,8KAA8K,eAAiB,CAAC,+qBAA+qB,WAAa,MAE5mE,c,wBCJA,IAAIC,EAAU,EAAQ,OACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,kBAAZF,IAAsBA,EAAU,CAAC,CAACF,EAAOC,GAAIC,EAAS,MAC7DA,EAAQG,SAAQL,EAAOM,QAAUJ,EAAQG,QAE5C,IAAIE,EAAM,WACGA,EAAI,WAAYL,GAAS,EAAM,CAAC,WAAY,EAAK,YAAa,G","sources":["webpack://@projuris/justto-web/./src/views/main/configurations/partials/FeaturesAndModulesDialogs/partials/ApiIntegrationForm.vue","webpack://@projuris/justto-web/src/views/main/configurations/partials/FeaturesAndModulesDialogs/partials/ApiIntegrationForm.vue","webpack://@projuris/justto-web/./src/views/main/configurations/partials/FeaturesAndModulesDialogs/partials/ApiIntegrationForm.vue?e0ef","webpack://@projuris/justto-web/./src/views/main/configurations/partials/FeaturesAndModulesDialogs/partials/ApiIntegrationForm.vue?e0d9","webpack://@projuris/justto-web/./src/views/main/configurations/partials/FeaturesAndModulesDialogs/partials/ApiIntegrationForm.vue?20b2","webpack://@projuris/justto-web/./src/views/main/configurations/partials/FeaturesAndModulesDialogs/partials/ApiIntegrationForm.vue?6aad"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('article',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"api-integration__container\",attrs:{\"show-close\":false,\"close-on-click-modal\":false,\"close-on-press-escape\":false}},[(_vm.hasFields && (!_vm.disable || !_vm.useBFF))?_c('el-form',{staticClass:\"api-integration__form\",attrs:{\"model\":_vm.fields,\"autocomplete\":\"off\"}},[_c('el-row',{staticClass:\"api-integration__fields\"},_vm._l((_vm.fields),function(fieldValue,fieldKey){return _c('el-col',{directives:[{name:\"show\",rawName:\"v-show\",value:(!fieldKey.includes('_ACTIVE')),expression:\"!fieldKey.includes('_ACTIVE')\"}],key:fieldKey,staticClass:\"api-integration__field\",attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":_vm.buildTitleByKey(fieldKey)}},[(!fieldKey.includes('_ACTIVE'))?_c('el-input',{attrs:{\"show-password\":fieldKey.includes('_PASSWORD'),\"prefix-icon\":_vm.buildIconByKey(fieldKey),\"autocomplete\":\"off\",\"auto-complete\":\"off\"},model:{value:(_vm.fields[fieldKey]),callback:function ($$v) {_vm.$set(_vm.fields, fieldKey, $$v)},expression:\"fields[fieldKey]\"}},[(fieldKey.includes('_URL'))?_c('el-button',{attrs:{\"slot\":\"append\",\"type\":\"transparent\",\"icon\":\"el-icon-delete\"},on:{\"click\":_vm.handleReset},slot:\"append\"}):_vm._e()],1):_vm._e()],1)],1)}),1),(Object.keys(_vm.fields).length)?_c('el-form-item',{staticClass:\"actions\"},[_c('el-button',{on:{\"click\":_vm.handleClose}},[_vm._v(\" Fechar \")]),(_vm.disable || _vm.forceEdit)?_c('el-button',{attrs:{\"type\":\"secondary\"},on:{\"click\":_vm.handleReset}},[_vm._v(\" Resetar \")]):_vm._e(),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSave}},[_vm._v(\" Salvar \")])],1):_vm._e()],1):(_vm.useBFF && _vm.disable && _vm.fields.PROJURIS_SOAP_ACTIVE)?_c('ProjurisSoapConfigView',{attrs:{\"fields\":_vm.fields},on:{\"reset\":_vm.handleEdit,\"close\":_vm.handleClose}}):_c('InitialIntegrationForm',{on:{\"submit\":_vm.handleVerifyIntegrationType,\"cancel\":_vm.handleClose}}),_c('SelectIntegrationTypeDialog',{ref:\"selectTypeDialog\"})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <article\n    v-loading=\"loading\"\n    class=\"api-integration__container\"\n    :show-close=\"false\"\n    :close-on-click-modal=\"false\"\n    :close-on-press-escape=\"false\"\n  >\n    <el-form\n      v-if=\"hasFields && (!disable || !useBFF)\"\n      :model=\"fields\"\n      class=\"api-integration__form\"\n      autocomplete=\"off\"\n    >\n      <el-row class=\"api-integration__fields\">\n        <el-col\n          v-for=\"(fieldValue, fieldKey) in fields\"\n          v-show=\"!fieldKey.includes('_ACTIVE')\"\n          :key=\"fieldKey\"\n          :span=\"24\"\n          class=\"api-integration__field\"\n        >\n          <el-form-item :label=\"buildTitleByKey(fieldKey)\">\n            <el-input\n              v-if=\"!fieldKey.includes('_ACTIVE')\"\n              v-model=\"fields[fieldKey]\"\n              :show-password=\"fieldKey.includes('_PASSWORD')\"\n              :prefix-icon=\"buildIconByKey(fieldKey)\"\n              autocomplete=\"off\"\n              auto-complete=\"off\"\n            >\n              <el-button\n                v-if=\"fieldKey.includes('_URL')\"\n                slot=\"append\"\n                type=\"transparent\"\n                icon=\"el-icon-delete\"\n                @click=\"handleReset\"\n              />\n            </el-input>\n          </el-form-item>\n        </el-col>\n      </el-row>\n\n      <el-form-item\n        v-if=\"Object.keys(fields).length\"\n        class=\"actions\"\n      >\n        <el-button @click=\"handleClose\">\n          Fechar\n        </el-button>\n\n        <el-button\n          v-if=\"disable || forceEdit\"\n          type=\"secondary\"\n          @click=\"handleReset\"\n        >\n          Resetar\n        </el-button>\n\n        <el-button\n          type=\"primary\"\n          @click=\"handleSave\"\n        >\n          Salvar\n        </el-button>\n      </el-form-item>\n    </el-form>\n\n    <ProjurisSoapConfigView\n      v-else-if=\"useBFF && disable && fields.PROJURIS_SOAP_ACTIVE\"\n      :fields=\"fields\"\n      @reset=\"handleEdit\"\n      @close=\"handleClose\"\n    />\n\n    <InitialIntegrationForm\n      v-else\n      @submit=\"handleVerifyIntegrationType\"\n      @cancel=\"handleClose\"\n    />\n\n    <SelectIntegrationTypeDialog ref=\"selectTypeDialog\" />\n  </article>\n</template>\n\n<script>\nimport { mapActions, mapGetters, mapMutations } from 'vuex'\n\nexport default {\n  name: 'ApiIntegrationForm',\n\n  components: {\n    InitialIntegrationForm: () => import('./partials/InitialIntegrationForm'),\n    SelectIntegrationTypeDialog: () => import('./partials/SelectIntegrationTypeDialog'),\n    ProjurisSoapConfigView: () => import('./partials/ProjurisSoapConfigView')\n  },\n\n  props: {\n    feature: {\n      required: true,\n      type: Number\n    }\n  },\n\n  data: () => ({\n    loading: false,\n    forceEdit: false\n  }),\n\n  computed: {\n    ...mapGetters({\n      configurations: 'getIntegrationConfigsList',\n      workspaceId: 'workspaceId',\n      getFields: 'getIntegrationConfigs',\n      useBFF: 'useIntegrationBff'\n    }),\n\n    fields: {\n      get() { return this.getFields },\n      set(value) { this.setIntegrationConfigs(value) }\n    },\n\n    hasFields() {\n      return this.forceEdit || this.fields?.FINCH_ACTIVE || this.fields?.PROJURIS_SOAP_ACTIVE || this.fields?.JUSTTO_WEBHOOK_ACTIVE\n    },\n\n    disable() {\n      return !this.forceEdit && (this.configurations || []).filter(({ key = '', value = '' }) => (key.includes('_ACTIVE') && value === String(true))).length > 0\n    },\n\n    isNotEditable() {\n      return (field) => ['PROJURIS_SOAP_URL'].includes(field)\n    }\n  },\n\n  watch: {\n    hasFields(has) {\n      if (has) {\n        const form = document.querySelector('.el-form.api-integration__form')\n\n        if (form) form.setAttribute('autocomplete', 'off')\n      }\n    }\n  },\n\n  mounted() {\n    this.init()\n  },\n\n  methods: {\n    ...mapActions([\n      'detectIntegration',\n      'getFeatureProperties',\n      'getIntegrationConfigs',\n      'saveIntegrationConfigs',\n      'setApiIntegrationConfiguration',\n      'resetIntegrationConfigs'\n    ]),\n\n    ...mapMutations(['setIntegrationConfigs']),\n\n    init() {\n      const getKey = (options, search) => (options ?? []).find(({ key }) => (key === search))?.value || ''\n\n      const type = (this?.configurations || []).find(({ key = '', value = '' }) => (key.includes('_ACTIVE') && value === 'true'))?.key\n\n      this.getIntegrationConfigs()\n      switch (type) {\n        case 'PROJURIS_SOAP_ACTIVE':\n          this.handleInitProjurisIntegration({\n            url: getKey(this.configurations, 'PROJURIS_SOAP_URL'),\n            token: getKey(this.configurations, 'PROJURIS_SOAP_TOKEN'),\n            password: '******',\n            usename: getKey(this.configurations, 'PROJURIS_SOAP_USERNAME')\n          })\n          break\n        case 'FINCH_ACTIVE':\n          this.initFinchIntegration({\n            url: getKey(this.configurations, 'FINCH_ENDPOINT'),\n            password: '******',\n            usename: getKey(this.configurations, 'FINCH_USERNAME')\n          })\n          break\n        case 'JUSTTO_WEBHOOK_ACTIVE':\n          this.initJusttoIntegration({\n            url: getKey(this.configurations, 'JUSTTO_WEBHOOK_ENDPOINT'),\n            password: '******',\n            usename: getKey(this.configurations, 'JUSTTO_WEBHOOK_USERNAME')\n          })\n          break\n        default:\n          break\n      }\n    },\n\n    handleVerifyIntegrationType(url) {\n      this.detectIntegration(url).then(({ url, type }) => {\n        this.handleInitIntegration({ url, type })\n      }).catch(error => this.$jusNotification({ error }))\n    },\n\n    handleSelectIntegrationType({ url, action, type }) {\n      switch (action) {\n        case 'cancel':\n          this.handleVerifyIntegrationType(url)\n          break\n        case 'select':\n          this.handleInitIntegration({ url, type })\n          break\n        default:\n          break\n      }\n    },\n\n    handleInitIntegration({ url, type }) {\n      switch (type) {\n        case 'PROJURIS_SOAP':\n          this.handleInitProjurisIntegration({ url })\n          break\n        case 'FINCH':\n          this.initFinchIntegration({ url })\n          break\n        default:\n          this.initJusttoIntegration({ url })\n          break\n      }\n    },\n\n    handleInitProjurisIntegration({ url, token = '' }) {\n      this.fields = {\n        PROJURIS_SOAP_ACTIVE: true,\n        PROJURIS_SOAP_TOKEN: token,\n        PROJURIS_SOAP_URL: url\n      }\n    },\n\n    initFinchIntegration({ url, password = '', usename = '' }) {\n      this.fields = {\n        FINCH_ACTIVE: true,\n        FINCH_ENDPOINT: url,\n        FINCH_USERNAME: usename,\n        FINCH_PASSWORD: password\n      }\n    },\n\n    initJusttoIntegration({ url, password = '', usename = '' }) {\n      this.fields = {\n        JUSTTO_WEBHOOK_ACTIVE: true,\n        JUSTTO_WEBHOOK_ENDPOINT: url,\n        JUSTTO_WEBHOOK_USERNAME: usename,\n        JUSTTO_WEBHOOK_PASSWORD: password\n      }\n    },\n\n    buildIconByKey(key) {\n      if (['JUSTTO_WEBHOOK_ENDPOINT', 'FINCH_ENDPOINT', 'PROJURIS_SOAP_URL'].includes(key)) {\n        return 'el-icon-link'\n      } else if (['JUSTTO_WEBHOOK_USERNAME', 'FINCH_USERNAME', 'PROJURIS_SOAP_USERNAME'].includes(key)) {\n        return 'el-icon-user'\n      } else if (['JUSTTO_WEBHOOK_PASSWORD', 'FINCH_PASSWORD', 'PROJURIS_SOAP_PASSWORD'].includes(key)) {\n        return 'el-icon-lock'\n      } else if (['PROJURIS_SOAP_TOKEN'].includes(key)) {\n        return 'el-icon-connection'\n      }\n\n      return 'el-icon-open'\n    },\n\n    buildTitleByKey(key) {\n      if (['JUSTTO_WEBHOOK_ENDPOINT', 'FINCH_ENDPOINT', 'PROJURIS_SOAP_URL'].includes(key)) {\n        return 'Endereço configurado'\n      } else if (['JUSTTO_WEBHOOK_USERNAME', 'FINCH_USERNAME', 'PROJURIS_SOAP_USERNAME'].includes(key)) {\n        return 'USERNAME'\n      } else if (['JUSTTO_WEBHOOK_PASSWORD', 'FINCH_PASSWORD', 'PROJURIS_SOAP_PASSWORD'].includes(key)) {\n        return 'PASSWORD'\n      } else if (['PROJURIS_SOAP_TOKEN'].includes(key)) {\n        return 'Forneça o token de acesso para prosseguir'\n      }\n\n      return key\n    },\n\n    handleClose() {\n      this.forceEdit = false\n      this.$emit('close')\n    },\n\n    handleReset() {\n      this.$confirm('Deseja realmente reiniciar a configuração?', {\n        confirmButtonText: 'Sim',\n        cancelButtonText: 'Não',\n        showClose: false,\n        closeOnClickModal: false,\n        closeOnPressEscape: false\n      }).then(() => {\n        this.loading = true\n        this.forceEdit = false\n\n        this.resetIntegrationConfigs().then(() => {\n          this.$jusNotification({\n            type: 'success',\n            title: 'Yay!',\n            message: 'Resetado com sucesso!'\n          })\n\n          this.fields = {}\n\n          this.$nextTick().then(this.handleRefresh)\n        }).catch(error => this.$jusNotification({\n          error\n        })).finally(() => { this.loading = false })\n      })\n    },\n\n    handleSave() {\n      this.loading = true\n      this.forceEdit = false\n\n      const fields = Object.keys(this.fields).reduce((payload, key) => {\n        if (this.fields[key] !== '******') payload[key] = String(this.fields[key])\n\n        return payload\n      }, {})\n      this.saveIntegrationConfigs({ ...fields }).then(() => {\n        this.$jusNotification({\n          type: 'success',\n          title: 'Yay!',\n          message: 'Salvo com sucesso!'\n        })\n\n        this.fields = {}\n\n        this.$nextTick().then(this.handleRefresh)\n      }).catch(error => this.$jusNotification({\n        error\n      })).finally(() => { this.loading = false })\n    },\n\n    handleRefresh() {\n      this.getIntegrationConfigs().then(this.init).catch(error => this.$jusNotification({\n        error\n      })).finally(() => { this.loading = false })\n    },\n\n    handleEdit() {\n      console.log('handleEdit')\n      this.forceEdit = true\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.api-integration__container {\n  .api-integration__fields {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n    .api-integration__field {\n      .el-form-item {\n        margin: 0;\n\n        .el-form-item__label {\n          line-height: unset;\n\n          &::after { content: ':'; }\n        }\n\n        .el-form-item__content {\n          line-height: unset;\n        }\n      }\n    }\n  }\n\n  .api-integration__form .actions .el-form-item__content:last-child {\n      display: flex;\n      justify-content: flex-end;\n      gap: 8px;\n\n      &:after, &:before {\n        display: none;\n      }\n\n      .el-button {\n        margin: 0;\n      }\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ApiIntegrationForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ApiIntegrationForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ApiIntegrationForm.vue?vue&type=template&id=37859f90&\"\nimport script from \"./ApiIntegrationForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ApiIntegrationForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ApiIntegrationForm.vue?vue&type=style&index=0&id=37859f90&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".api-integration__container .api-integration__fields{display:flex;flex-direction:column;gap:8px}.api-integration__container .api-integration__fields .api-integration__field .el-form-item{margin:0}.api-integration__container .api-integration__fields .api-integration__field .el-form-item .el-form-item__label{line-height:unset}.api-integration__container .api-integration__fields .api-integration__field .el-form-item .el-form-item__label:after{content:\\\":\\\"}.api-integration__container .api-integration__fields .api-integration__field .el-form-item .el-form-item__content{line-height:unset}.api-integration__container .api-integration__form .actions .el-form-item__content:last-child{display:flex;justify-content:flex-end;gap:8px}.api-integration__container .api-integration__form .actions .el-form-item__content:last-child:after,.api-integration__container .api-integration__form .actions .el-form-item__content:last-child:before{display:none}.api-integration__container .api-integration__form .actions .el-form-item__content:last-child .el-button{margin:0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/views/main/configurations/partials/FeaturesAndModulesDialogs/partials/ApiIntegrationForm.vue\"],\"names\":[],\"mappings\":\"AAEE,qDACE,YAAA,CACA,qBAAA,CACA,OAAA,CAEE,2FACE,QAAA,CAEA,gHACE,iBAAA,CAEA,sHAAA,WAAA,CAGF,kHACE,iBAAA,CAMR,8FACI,YAAA,CACA,wBAAA,CACA,OAAA,CAEA,yMACE,YAAA,CAGF,yGACE,QAAA\",\"sourcesContent\":[\"\\n.api-integration__container {\\n  .api-integration__fields {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 8px;\\n    .api-integration__field {\\n      .el-form-item {\\n        margin: 0;\\n\\n        .el-form-item__label {\\n          line-height: unset;\\n\\n          &::after { content: ':'; }\\n        }\\n\\n        .el-form-item__content {\\n          line-height: unset;\\n        }\\n      }\\n    }\\n  }\\n\\n  .api-integration__form .actions .el-form-item__content:last-child {\\n      display: flex;\\n      justify-content: flex-end;\\n      gap: 8px;\\n\\n      &:after, &:before {\\n        display: none;\\n      }\\n\\n      .el-button {\\n        margin: 0;\\n      }\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../../../../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../../../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../../../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[4]!../../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ApiIntegrationForm.vue?vue&type=style&index=0&id=37859f90&prod&lang=scss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"0e490c60\", content, true, {\"sourceMap\":true,\"shadowMode\":false});"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","loading","expression","staticClass","attrs","hasFields","disable","useBFF","fields","PROJURIS_SOAP_ACTIVE","on","handleEdit","handleClose","handleVerifyIntegrationType","_l","fieldValue","fieldKey","includes","key","buildTitleByKey","_e","buildIconByKey","model","callback","$$v","$set","handleReset","slot","Object","keys","length","_v","forceEdit","handleSave","ref","staticRenderFns","components","InitialIntegrationForm","SelectIntegrationTypeDialog","ProjurisSoapConfigView","props","feature","required","type","Number","data","computed","mapGetters","configurations","workspaceId","getFields","get","set","setIntegrationConfigs","FINCH_ACTIVE","JUSTTO_WEBHOOK_ACTIVE","filter","String","isNotEditable","field","watch","has","form","document","querySelector","setAttribute","mounted","init","methods","mapActions","mapMutations","getKey","options","search","find","getIntegrationConfigs","handleInitProjurisIntegration","url","token","password","usename","initFinchIntegration","initJusttoIntegration","detectIntegration","then","handleInitIntegration","catch","error","$jusNotification","handleSelectIntegrationType","action","PROJURIS_SOAP_TOKEN","PROJURIS_SOAP_URL","FINCH_ENDPOINT","FINCH_USERNAME","FINCH_PASSWORD","JUSTTO_WEBHOOK_ENDPOINT","JUSTTO_WEBHOOK_USERNAME","JUSTTO_WEBHOOK_PASSWORD","$emit","$confirm","confirmButtonText","cancelButtonText","showClose","closeOnClickModal","closeOnPressEscape","resetIntegrationConfigs","title","message","$nextTick","handleRefresh","finally","reduce","payload","saveIntegrationConfigs","console","log","component","___CSS_LOADER_EXPORT___","push","module","id","content","__esModule","default","locals","exports","add"],"sourceRoot":""}