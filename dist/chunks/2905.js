(self["webpackChunk_projuris_justto_web"]=self["webpackChunk_projuris_justto_web"]||[]).push([[2905],{62905:function(e,o,i){"use strict";i.r(o),i.d(o,{default:function(){return s}});var l=function(){var e=this,o=e._self._c;return o("div",{staticClass:"panel-minute-view"},[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingMinutes,expression:"loadingMinutes"}],key:e.tableKey,attrs:{data:e.filteredMinutes,width:"100%"}},[o("el-table-column",{attrs:{"class-name":"panel-minute-view__name",prop:"name",label:"Nome"},scopedSlots:e._u([{key:"default",fn:function(i){return[o("el-input",{directives:[{name:"show",rawName:"v-show",value:i.row.editing,expression:"props.row.editing"}],ref:"input"+i.row.id,on:{blur:function(o){i.row.editing=!1,e.editMinuteName(i.row)}},nativeOn:{keyup:function(o){if(!o.type.indexOf("key")&&e._k(o.keyCode,"enter",13,o.key,"Enter"))return null;i.row.editing=!1,e.editMinuteName(i.row)}},model:{value:i.row.name,callback:function(o){e.$set(i.row,"name",o)},expression:"props.row.name"}}),o("div",{directives:[{name:"show",rawName:"v-show",value:!i.row.editing,expression:"!props.row.editing"}],staticClass:"label panel-minute-view__editable-label",on:{click:function(o){i.row.editing=!0,e.focusInput(i.row.id,i.row.name)}}},[e._v(" "+e._s(i.row.name)+" "),o("jus-icon",{staticClass:"edit-icon",attrs:{icon:"edit"}})],1)]}}])}),o("el-table-column",{attrs:{align:"right",width:"360px"},scopedSlots:e._u([{key:"default",fn:function(i){return o("div",{},[i.row.privateDocumentModel?o("el-button",{attrs:{content:"Excluir",size:"mini",type:"danger",plain:"",icon:"el-icon-delete"},on:{click:function(o){return e.deleteMinute(i.row.id)}}},[e._v(" Excluir ")]):e._e(),o("el-button",{attrs:{size:"mini",type:"primary",plain:"",icon:"el-icon-edit"},on:{click:function(o){return e.editMinute(i.row.url)}}},[e._v(" Editar documento ")])],1)}}])},[o("div",{staticStyle:{display:"flex"},attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"el-input"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"el-input__inner",attrs:{placeholder:"Buscar"},domProps:{value:e.search},on:{input:function(o){o.target.composing||(e.search=o.target.value)}}})]),o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addMinute}},[e._v(" Adicionar ")])],1)])],1),o("el-dialog",{staticClass:"panel-minute-view__dialog",class:{"panel-minute-view__dialog--full":e.fullscreen,"panel-minute-view__dialog--large":!e.fullscreen},attrs:{visible:e.editDialogVisible,width:e.width,"close-on-click-modal":!1,"append-to-body":"",title:"Editar minuta","custom-class":"panel-minute-view__dialog"},on:{"update:visible":function(o){e.editDialogVisible=o}}},[o("i",{staticClass:"panel-minute-view__fullscreen-icon",class:e.fullscreen?"el-icon-bottom-left":"el-icon-top-right",on:{click:function(o){e.fullscreen=!e.fullscreen}}}),o("iframe",{staticStyle:{border:"none"},attrs:{src:e.editDialogUrl,title:"Editar minuta"}}),o("JusVariablesCard",{attrs:{variables:e.types}})],1)],1)},n=[],t={name:"PanelMinute",components:{JusVariablesCard:()=>i.e(5938).then(i.bind(i,65938))},data(){return{tableKey:0,nameToEdit:"",loadingMinutes:!0,search:"",editDialogVisible:!1,editDialogUrl:"",minutes:[],types:{},fullscreen:!1,variableFilterTerm:""}},computed:{filteredMinutes(){return this.minutes.filter((e=>!(e.archived||!e.name)&&(!this.search||e.name.toLowerCase().includes(this.search.toLowerCase()))))},width(){return!0===this.fullscreen?"100%":"90%"}},mounted(){this.fetchMinutes(),this.$store.dispatch("getDocumentTypes").then((e=>{this.types=e}))},methods:{fetchMinutes(){this.loadingMinutes=!0,this.$store.dispatch("getDocumentModels").then((e=>{this.minutes=e})).catch((e=>{console.error(e)})).finally((()=>{this.loadingMinutes=!1}))},addMinute(){this.$prompt("Insira a URL (Google Docs) do documento:","Adicionar minuta",{confirmButtonText:"Adicionar",cancelButtonText:"Cancelar",inputPattern:/.*(drive|docs)\.google\.com.*/,inputErrorMessage:"URL inválida",beforeClose:(e,o,i)=>{"confirm"===e?(o.confirmButtonLoading=!0,this.$store.dispatch("addModel",o.inputValue).then((e=>{this.fetchMinutes(),this.$jusNotification({title:"Yay!",message:"Minuta adicionada com sucesso",type:"success"})})).catch((e=>{console.error(e),this.$jusNotification({title:"Ops!",message:"Houve uma falha ao adicionar minuta. Certifique-se de que o documento adicionado é público.",type:"warning"})})).finally((()=>{i(),o.confirmButtonLoading=!1}))):i()}})},editMinute(e){this.editDialogUrl=e,this.editDialogVisible=!0},deleteMinute(e){this.$confirm("Tem certeza que deseja excluir?","Atenção!",{confirmButtonText:"Excluir",cancelButtonText:"Cancelar",confirmButtonClass:"el-button--danger",beforeClose:(o,i,l)=>{"confirm"===o?(i.confirmButtonLoading=!0,this.$store.dispatch("deleteModel",e).then((e=>{l(),this.fetchMinutes()})).catch((e=>{console.error(e)})).finally((()=>{i.confirmButtonLoading=!1}))):l()}}).then((()=>{this.$jusNotification({title:"Yay!",message:"Minuta excluída com sucesso",type:"success"})}))},focusInput(e,o){this.tableKey+=1,this.nameToEdit=o,this.$nextTick((()=>this.$refs["input"+e].$el.children[0].focus()))},editMinuteName(e){this.tableKey+=1,e.name!==this.nameToEdit&&this.$store.dispatch("editModel",e)},copy(e){navigator.clipboard.writeText(`{{${e}}}`)}}},r=t,a=(i(59036),i(1001)),c=(0,a.Z)(r,l,n,!1,null,null,null),s=c.exports},44263:function(e,o,i){"use strict";i.r(o);var l=i(87537),n=i.n(l),t=i(23645),r=i.n(t),a=r()(n());a.push([e.id,".panel-minute-view__dialog .el-dialog__body{display:flex!important}.panel-minute-view__dialog .el-dialog__body iframe{flex:1!important}.panel-minute-view{display:flex;justify-content:center;align-items:center;height:100%}.panel-minute-view__dialog--full{padding:10px}.panel-minute-view__dialog--full .el-dialog .el-dialog__body{height:calc(100vh - 134px)}.panel-minute-view__dialog--large .el-dialog .el-dialog__body{height:calc(100vh - 200px)}.panel-minute-view__fullscreen-icon{position:absolute;color:#979797;font-size:16px;top:31px;right:53px;cursor:pointer}.panel-minute-view__fullscreen-icon:hover{color:#0756e4}.panel-minute-view th.is-right .cell{display:flex}.panel-minute-view .el-dialog{overflow:auto}.panel-minute-view .el-table:before{content:none}.panel-minute-view .el-dialog__body{display:flex;height:calc(100vh - 194px)}.panel-minute-view iframe{flex:1;width:calc(100% - 280px)}.panel-minute-view__name .label{margin-top:1px;border:1px solid transparent}.panel-minute-view__name .el-input{margin-left:-5px}.panel-minute-view__name .el-input__inner{padding-left:5px;height:28px;line-height:28px}.panel-minute-view__editable-label .edit-icon{display:none;cursor:pointer;width:16px}.panel-minute-view__editable-label:hover .edit-icon{display:inline}","",{version:3,sources:["webpack://./src/views/adminPanel/partials/PanelMinute.vue","webpack://./node_modules/projuris-acordos-theme/src/common/colors.scss"],names:[],mappings:"AAIE,4CACE,sBAAA,CAEA,mDACE,gBAAA,CAKN,mBACE,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,WAAA,CAEE,iCACE,YAAA,CAEE,6DACE,0BAAA,CAMF,8DACE,0BAAA,CAKR,oCACE,iBAAA,CACA,aChCW,CDiCX,cAAA,CACA,QAAA,CACA,UAAA,CACA,cAAA,CACA,0CACE,aC/BY,CDkChB,qCACE,YAAA,CAEF,8BACE,aAAA,CAEF,oCACE,YAAA,CAEF,oCACE,YAAA,CACA,0BAAA,CAEF,0BACE,MAAA,CACA,wBAAA,CAGA,gCACE,cAAA,CACA,4BAAA,CAEF,mCACE,gBAAA,CAEF,0CACE,gBAAA,CACA,WAAA,CACA,gBAAA,CAIF,8CACE,YAAA,CACA,cAAA,CACA,UAAA,CAGA,oDACE,cAAA",sourcesContent:["\n@import '~projuris-acordos-theme/src/common/colors.scss';\n\n.panel-minute-view__dialog {\n  .el-dialog__body {\n    display: flex !important;\n\n    iframe {\n      flex: 1 !important;\n    }\n  }\n}\n\n.panel-minute-view {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  &__dialog {\n    &--full {\n      padding: 10px;\n      .el-dialog {\n        .el-dialog__body {\n          height: calc(100vh - 134px);\n        }\n      }\n    }\n    &--large  {\n      .el-dialog {\n        .el-dialog__body {\n          height: calc(100vh - 200px);\n        }\n      }\n    }\n  }\n  &__fullscreen-icon {\n    position: absolute;\n    color: $--color-text-secondary;\n    font-size: 16px;\n    top: 31px;\n    right: 53px;\n    cursor: pointer;\n    &:hover {\n      color: $--color-primary\n    }\n  }\n  th.is-right .cell {\n    display: flex;\n  }\n  .el-dialog {\n    overflow: auto;\n  }\n  .el-table::before  {\n    content: none;\n  }\n  .el-dialog__body {\n    display: flex;\n    height: calc(100vh - 194px);\n  }\n  iframe {\n    flex: 1;\n    width: calc(100% - 280px);\n  }\n  &__name {\n    .label {\n      margin-top: 1px;\n      border: 1px solid transparent;\n    }\n    .el-input  {\n      margin-left: -5px;\n    }\n    .el-input__inner {\n      padding-left: 5px;\n      height: 28px;\n      line-height: 28px;\n    }\n  }\n  &__editable-label {\n    .edit-icon {\n      display: none;\n      cursor: pointer;\n      width: 16px;\n    }\n    &:hover {\n      .edit-icon {\n        display: inline;\n      }\n    }\n  }\n}\n\n","/* Colors\n-------------------------- */\n\n$--color-white: #fff !default;\n$--color-black: #424242 !default;\n$--color-gray: #979797 !default;\n$--color-gray-light-1: mix($--color-white, $--color-gray, 10%) !default;\n$--color-light-gray: #f3f4f5 !default;\n$--color-whatsapp: #075E54 !default;\n\n$--pj-color-darker-blue: #0A0022 !default;\n$--pj-color-dark-blue: #280BA0 !default;\n$--pj-color-blue: #0756e4 !default;\n$--pj-color-light-blue: #018EF0 !default;\n$--pj-color-lighter-blue: #30A9FB !default;\n$--pj-color-white-blue: #F0F9FE !default;\n$--pj-color-disabled-blue: #9ad2f9 !default;\n\n$-pg-color-overlay: #19415F !default;\n\n$--pj-color-red: #CC4148 !default;\n$--pj-color-light-red: #EC767C !default;\n$--pj-color-disable-red: #FFF2F3 !default;\n\n$--color-primary: $--pj-color-blue !default;\n$--color-primary-light-1: mix($--color-white, $--color-primary, 10%) !default;\n$--color-primary-light-2: mix($--color-white, $--color-primary, 20%) !default;\n$--color-primary-light-3: mix($--color-white, $--color-primary, 30%) !default;\n$--color-primary-light-4: mix($--color-white, $--color-primary, 40%) !default;\n$--color-primary-light-5: mix($--color-white, $--color-primary, 50%) !default;\n$--color-primary-light-6: mix($--color-white, $--color-primary, 60%) !default;\n$--color-primary-light-7: mix($--color-white, $--color-primary, 70%) !default;\n$--color-primary-light-8: mix($--color-white, $--color-primary, 80%) !default;\n$--color-primary-light-9: mix($--color-white, $--color-primary, 90%) !default;\n\n$--color-secondary: $--pj-color-light-blue !default;\n$--color-secondary-light-1: mix($--color-white, $--color-secondary, 10%) !default;\n$--color-secondary-light-2: mix($--color-white, $--color-secondary, 20%) !default;\n$--color-secondary-light-3: mix($--color-white, $--color-secondary, 30%) !default;\n$--color-secondary-light-4: mix($--color-white, $--color-secondary, 40%) !default;\n$--color-secondary-light-5: mix($--color-white, $--color-secondary, 50%) !default;\n$--color-secondary-light-6: mix($--color-white, $--color-secondary, 60%) !default;\n$--color-secondary-light-7: mix($--color-white, $--color-secondary, 70%) !default;\n$--color-secondary-light-8: mix($--color-white, $--color-secondary, 80%) !default;\n$--color-secondary-light-9: mix($--color-white, $--color-secondary, 90%) !default;\n\n$--color-primary-dark: $--pj-color-dark-blue !default;\n$--color-success: #14CC30 !default;\n$--color-warning: #FFC900 !default;\n$--color-danger: #FF4B54 !default;\n$--color-info: #2FBBEC !default;\n\n$--color-success-light-1: mix($--color-white, $--color-success, 10%) !default;\n$--color-success-light-5: mix($--color-white, $--color-success, 50%) !default;\n$--color-warning-light-5: mix($--color-white, $--color-warning, 50%) !default;\n$--color-danger-light-5: mix($--color-white, $--color-danger, 50%) !default;\n$--color-danger-light-3: mix($--color-white, $--color-danger, 30%) !default;\n$--color-info-light-5: mix($--color-white, $--color-info, 50%) !default;\n\n$--color-success-light: mix($--color-white, $--color-success, 80%) !default;\n$--color-warning-light: mix($--color-white, $--color-warning, 80%) !default;\n$--color-danger-light: mix($--color-white, $--color-danger, 80%) !default;\n$--color-info-light: mix($--color-white, $--color-info, 80%) !default;\n\n$--color-success-lighter: mix($--color-white, $--color-success, 90%) !default;\n$--color-warning-lighter: mix($--color-white, $--color-warning, 90%) !default;\n$--color-danger-lighter: mix($--color-white, $--color-danger, 90%) !default;\n$--color-info-lighter: mix($--color-white, $--color-info, 90%) !default;\n\n$--color-text-primary: $--color-black !default;\n$--color-text-secondary: $--color-gray !default;\n\n$--color-nps-promoter: #14CC30 !default;\n$--color-nps-neutral: #979797 !default;\n$--color-nps-detractor: #FF4B54 !default;\n\n$--color-negotiator-bg: #9461f74f !default;\n$--color-email-bg: $--color-info-light !default;\n$--color-whatsapp-bg: $--color-success-light-5 !default;"],sourceRoot:""}]),o["default"]=a},59036:function(e,o,i){var l=i(44263);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var n=i(39185).Z;n("528716ff",l,!0,{sourceMap:!0,shadowMode:!1})}}]);
//# sourceMappingURL=2905.js.map