(self["webpackChunk_projuris_justto_web"]=self["webpackChunk_projuris_justto_web"]||[]).push([[3661],{23661:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return l}});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"onboarding-step-content"},[t("div",{staticClass:"onboarding-invite-step"},[t("div",{staticClass:"onboarding-step-content__title"},[t("h2",[e._v("Adicione pessoas à sua equipe")]),t("p",[e._v(" Adicione todos os usuários que farão parte da sua equipe (você poderá adicionar pessoas posteriormente). Os convidados irão receber um e-mail para juntar-se à equipe "+e._s(e.$store.state.workspaceModule.name)+" no sistema da ProJuris. ")])]),t("el-form",{ref:"teamMembersForm",attrs:{model:e.teamMembersForm,rules:e.teamMembersFormRules,"label-position":"top"},nativeOn:{submit:function(t){return t.preventDefault(),e.addTeamMember("teamMembersForm")}}},[t("el-form-item",{attrs:{label:"E-mail",prop:"teamMember"}},[t("el-input",{attrs:{name:"teamMember","data-testid":"email-teammember"},model:{value:e.teamMembersForm.teamMember,callback:function(t){e.$set(e.teamMembersForm,"teamMember",t)},expression:"teamMembersForm.teamMember"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-plus",type:"transparent","native-type":"submit","data-testid":"submit-teammember"},on:{click:function(t){return e.addTeamMember("teamMembersForm")}},slot:"append"})],1)],1),t("ul",e._l(e.teamMembersForm.teamMembers,(function(r){return t("li",{key:r.$index},[t("div",[t("img",{attrs:{"data-testid":"check-teammember",src:i(93809),alt:"Convidado adicionado com sucesso"}}),t("span",{staticClass:"member-email"},[e._v(" "+e._s(r.email)+" ")])]),t("div",[t("el-select",{attrs:{"data-testid":"profile-teammember",size:"mini"},model:{value:r.profile,callback:function(t){e.$set(r,"profile",t)},expression:"member.profile"}},e._l(e.profiles,(function(e){return t("el-option",{key:e.$index,attrs:{label:e.label,value:e.value}})})),1),t("img",{staticClass:"remove-member",attrs:{src:i(81425),alt:"Remover convidado"},on:{click:function(t){return e.removeTeamMember(r)}}})],1)])})),0)],1)],1),e.showError?t("el-alert",{attrs:{title:"Houve uma falha de conexão com o servidor.\n    Tente novamente ou entre em contato com o administrador do sistema.",type:"error"}}):e._e(),t("el-button",{attrs:{disabled:0===e.teamMembersForm.teamMembers.length,type:"primary","data-testid":"invite-teammember"},on:{click:e.submitForm}},[e._v(" Convidar ")]),t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.$emit("onboarding:step:next")}}},[e._v(" Pular ")])],1)},n=[],a=(i(57658),{props:{isGuest:{type:Boolean,default:!1}},data(){return{showError:!1,profiles:[{label:"Administrador",value:"ADMINISTRATOR"},{label:"Negociador",value:"NEGOTIATOR"}],teamMembersForm:{teamMember:"",teamMemberType:"",teamMembers:[]},teamMembersFormRules:{teamMember:[{type:"email",required:!0,message:"Insira um e-mail válido",trigger:["submit"]}]}}},methods:{addTeamMember(e){this.$refs[e].validate((t=>{if(!t)return!1;this.teamMembersForm.teamMember===this.$store.state.accountModule.email?this.$jusNotification({title:"Ops!",message:"Não é possível enviar convites a si mesmo",type:"warning"}):this.teamMembersForm.teamMembers.includes(this.teamMembersForm.teamMember)||this.teamMembersForm.teamMembers.push({email:this.teamMembersForm.teamMember,profile:"NEGOTIATOR"}),this.$refs[e].resetFields()}))},removeTeamMember(e){this.teamMembersForm.teamMembers.splice(this.teamMembersForm.teamMembers.indexOf(e),1)},submitForm(){this.showError=!1,this.$store.dispatch("showLoading"),this.$store.dispatch("inviteTeammates",this.teamMembersForm.teamMembers).then((()=>{this.$emit("onboarding:step:next")})).catch((()=>{this.showError=!0})).finally((()=>{this.$store.dispatch("hideLoading")}))}}}),o=a,s=(i(92738),i(1001)),m=(0,s.Z)(o,r,n,!1,null,null,null),l=m.exports},88969:function(e,t,i){"use strict";i.r(t);var r=i(87537),n=i.n(r),a=i(23645),o=i.n(a),s=o()(n());s.push([e.id,".onboarding-invite-step form{max-width:554px!important}.onboarding-invite-step form .el-select{max-width:134px!important}.onboarding-invite-step ul{padding:0;max-height:380px;overflow-y:auto;margin:10px 4px 40px}.onboarding-invite-step ul li{height:28px;margin-top:10px;list-style-type:none;justify-content:space-between}.onboarding-invite-step ul li,.onboarding-invite-step ul li div{display:flex;align-items:center}.onboarding-invite-step ul li .member-email{margin-left:20px}.onboarding-invite-step ul li .remove-member{cursor:pointer;margin-left:20px}@media(max-width:991px){.onboarding-invite-step form{max-width:100%!important}.onboarding-invite-step ul{max-height:120px;overflow-y:auto;margin:0}.onboarding-invite-step li{display:flex}.onboarding-invite-step li span{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;width:100%}.onboarding-invite-step li img:first-of-type{margin-right:10px!important}.onboarding-invite-step li img:last-of-type{cursor:pointer;float:right}}","",{version:3,sources:["webpack://./src/views/onboarding/steps/InviteStep.vue"],names:[],mappings:"AAEE,6BACE,yBAAA,CACA,wCACE,yBAAA,CAGJ,2BACE,SAAA,CACA,gBAAA,CACA,eAAA,CACA,oBAAA,CACA,8BACE,WAAA,CACA,eAAA,CACA,oBAAA,CAEA,6BACA,CACA,gEAHA,YAAA,CAEA,kBAGE,CAEF,4CACE,gBAAA,CAEF,6CACE,cAAA,CACA,gBAAA,CAIN,wBACE,6BACE,wBAAA,CAEF,2BACE,gBAAA,CACA,eAAA,CACA,QAAA,CAEF,2BACE,YAAA,CACA,gCACE,sBAAA,CACA,kBAAA,CACA,eAAA,CACA,UAAA,CAGA,6CACE,2BAAA,CAEF,4CACE,cAAA,CACA,WAAA,CAAA",sourcesContent:["\n.onboarding-invite-step {\n  form {\n    max-width: 554px !important;\n    .el-select {\n      max-width: 134px !important;\n    }\n  }\n  ul{\n    padding: 0;\n    max-height: 380px;\n    overflow-y: auto;\n    margin: 10px 4px 40px;\n    li{\n      height: 28px;\n      margin-top: 10px;\n      list-style-type: none;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      div {\n        display: flex;\n        align-items: center;\n      }\n      .member-email{\n        margin-left: 20px;\n      }\n      .remove-member {\n        cursor: pointer;\n        margin-left: 20px;\n      }\n    }\n  }\n  @media (max-width: 991px) {\n    form {\n      max-width: 100% !important;\n    }\n    ul {\n      max-height: 120px;\n      overflow-y: auto;\n      margin: 0;\n    }\n    li {\n      display: flex;\n      span {\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        overflow: hidden;\n        width: 100%;\n      }\n      img{\n        &:first-of-type{\n          margin-right: 10px !important;\n        }\n        &:last-of-type{\n          cursor: pointer;\n          float: right;\n        }\n      }\n    }\n  }\n}\n"],sourceRoot:""}]),t["default"]=s},92738:function(e,t,i){var r=i(88969);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var n=i(39185).Z;n("347b0233",r,!0,{sourceMap:!0,shadowMode:!1})}}]);
//# sourceMappingURL=3661.js.map