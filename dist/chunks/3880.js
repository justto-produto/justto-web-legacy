(self["webpackChunk_projuris_justto_web"]=self["webpackChunk_projuris_justto_web"]||[]).push([[3880,4226],{34226:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var o=function(){var e=this,t=e._self._c;return t("article",{directives:[{name:"loading",rawName:"v-loading",value:e.isAttachmentLoading,expression:"isAttachmentLoading"}],ref:"dragAreaElm",staticClass:"jus-drag-area",class:{"jus-drag-area--dragging":e.maskIsVisible},on:{dragenter:e.handleDragenter}},[e._t("default"),t("label",{attrs:{for:`input-file-drag-area-${e._uid}`},on:{dragover:function(t){return t.preventDefault(),e.handleDragenter.apply(null,arguments)},dragleave:e.handleDragleave,drop:function(t){return t.preventDefault(),e.handleDrop.apply(null,arguments)}}},[t("el-card",{staticClass:"el-card--dashed-hover jus-drag-area__mask",attrs:{"body-style":{"text-align":"center"},shadow:"never"}},[t("div",{staticClass:"jus-drag-area__mask-action"}),t("div",[t("jus-icon",{attrs:{icon:"upload-file","is-active":""}}),t("br"),e._v(" Arraste aqui os anexos que deseja importar! ")],1)])],1),t("input",{staticClass:"jus-drag-area__input-file",attrs:{id:`input-file-drag-area-${e._uid}`,"data-max-size":"20971520",type:"file"},on:{change:e.handleDrop}}),t("el-dialog",{attrs:{visible:e.attachmentDialog.isVisible,"append-to-body":"",title:"Enviar Anexos","custom-class":"attachment-dialog","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,"before-close":e.closeAttachmentDialog},on:{"update:visible":function(t){return e.$set(e.attachmentDialog,"isVisible",t)}}},[t("div",{staticClass:"attachment-dialog__container"},[t("span",{staticClass:"attachment-dialog__container-message"},[e._v(" "+e._s(e.attachmentDialog.message)+" ")]),t("div",{staticClass:"attachment-dialog__container-check"},[t("el-switch",{class:e.attachmentDialog.confidential?"inactive":"active",model:{value:e.attachmentDialog.confidential,callback:function(t){e.$set(e.attachmentDialog,"confidential",t)},expression:"attachmentDialog.confidential"}}),t("span",[t("strong",[e._v(" "+e._s(e.attachmentDialog.confidential?"Não exibir":"Exibir")+" ")]),e._v(" anexo no portal de negociações ")])],1)]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.attachmentDialog.isVisible=!1}}},[e._v(" Cancelar ")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.uploadFiles(e.attachmentDialog)}}},[e._v(" Continuar ")])],1)])],2)},i=[],s=a(90408),n={name:"JusDragArea",props:{visible:{type:Boolean,default:!1}},data:()=>({isDragging:!1,isAttachmentLoading:!1,attachmentDialog:{isVisible:!1,message:"",confidential:!1,files:[]}}),computed:{maskIsVisible:e=>e.visible||e.isDragging},methods:{...(0,s.nv)(["uploadAttachment","getDisputeAttachments","hideLoadingAttachments","getTicketOverviewAttachments"]),handleDragenter(e){e.dataTransfer.types.includes("Files")&&(this.isDragging=!0)},handleDragleave(e){this.isDragging=!1},handleDrop(e){const{files:t}=e.dataTransfer||e.target;this.uploadVerification(t),this.isDragging=!1},closeAttachmentDialog(e){e(),this.attachmentDialog.message="",this.attachmentDialog.confidential=!1,this.attachmentDialog.files=[]},uploadFiles({files:e,confidential:t}){Promise.all([...Object.keys(e).map((a=>this.saveFile(e[a],t)))]).then((()=>{this.attachmentDialog.isVisible=!1}))},uploadVerification(e){const t=Object.keys(e),a=20971520,o=Array(...e).filter((e=>e.size>a)).length>0;o?this.$jusNotification({title:"Arquivo muito grande!",message:"Não suportamos arquivos com mais de 20 Mb.",type:"warning"}):(1===t.length?this.attachmentDialog.message=`Tem certeza que deseja fazer o upload do arquivo "${e[0].name}"?`:this.attachmentDialog.message=`Tem certeza que deseja fazer o upload de ${t.length} arquivos?`,this.attachmentDialog.files=e,this.attachmentDialog.isVisible=!0)},updateAttachments(e){return window.location.href.includes("negotiation")?this.getTicketOverviewAttachments(e):window.location.href.includes("dispute")?this.getDisputeAttachments(e):new Promise((e=>e))},saveFile(e,t=!1){this.isAttachmentLoading=!0;const a="Solicitação de upload do arquivo",o=this.$route.params.id,i=new FormData;return i.append("file",e),this.uploadAttachment({disputeId:o,formData:i,file:e,confidential:t}).then((()=>{this.updateAttachments(o).then((()=>{this.$jusNotification({title:"Yay!",message:"Anexo(s) adicionado(s) com sucesso",type:"success"}),this.$jusSegment(a,{fileName:e.name})}))})).catch((t=>{this.$jusNotification({error:t}),this.$jusSegment(`${a} falhou`,{fileName:e.name})})).finally((()=>{this.$emit("closeDialog"),this.isAttachmentLoading=!1,this.hideLoadingAttachments()}))}}},r=n,l=(a(8652),a(46041),a(1001)),c=(0,l.Z)(r,o,i,!1,null,"23cc1084",null),d=c.exports},53880:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var o=function(){var e=this,t=e._self._c;return t("section",{staticClass:"dialog-actions"},[t("el-dialog",{staticClass:"dialog-actions__manual-offer",attrs:{title:e.offerDialogTitle,visible:e.offerDialogVisible,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":"",width:"600px"},on:{"update:visible":function(t){e.offerDialogVisible=t}}},[t("el-form",{ref:"offerForm",attrs:{model:e.offerForm,rules:e.offerFormRules,disabled:e.modalLoading,"label-position":"top"}},["UNSETTLED"===e.offerFormType?t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"Motivo da perda:",prop:"unsettledType"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Escolha o motivo da perda"},on:{change:e.handleUnsettledTypeChange},model:{value:e.offerForm.unsettledType,callback:function(t){e.$set(e.offerForm,"unsettledType",t)},expression:"offerForm.unsettledType"}},e._l(e.unsettledOutcomeReasonsSorted,(function(e,a){return t("el-option",{key:a,attrs:{value:e[0],label:e[1]}})})),1)],1)],1)],1):e._e(),t("el-row",{attrs:{gutter:20}},["UNSETTLED"!==e.offerFormType||e.isInsufficientUpperRange?t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"Valor:",prop:"value"}},[t("div",{staticClass:"el-input",class:{"is-disabled":e.modalLoading}},[t("money",{staticClass:"el-input__inner",attrs:{disabled:e.modalLoading,maxlength:"16"},model:{value:e.offerForm.value,callback:function(t){e.$set(e.offerForm,"value",t)},expression:"offerForm.value"}})],1)])],1):e._e(),"UNSETTLED"!==e.offerFormType||e.isInsufficientUpperRange?t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"Proposto por:",prop:"roleId"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Autor da contraproposta"},model:{value:e.offerForm.roleId,callback:function(t){e.$set(e.offerForm,"roleId",t)},expression:"offerForm.roleId"}},e._l(e.ticketPlaintiffs,(function(e){return t("el-option",{key:e.disputeRoleId,attrs:{value:e.disputeRoleId,label:e.name}})})),1)],1)],1):e._e(),t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"Nota:",prop:"note"}},[t("el-input",{attrs:{type:"textarea",rows:"4",maxlength:255},model:{value:e.offerForm.note,callback:function(t){e.$set(e.offerForm,"note",t)},expression:"offerForm.note"}}),t("div",{staticStyle:{"text-align":"right"}},[e._v(" "+e._s((e.offerForm.note||"").length)+"/255 ")])],1)],1)],1)],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{disabled:e.modalLoading,plain:""},on:{click:function(t){e.offerDialogVisible=!1}}},[e._v(" Cancelar ")]),t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.modalLoading,expression:"modalLoading"}],attrs:{disabled:e.modalLoading,type:"primary"},on:{click:function(t){return t.preventDefault(),e.handleDialogAction.apply(null,arguments)}}},[e._v(" Continuar ")])],1)],1),t("el-dialog",{staticClass:"dialog-actions__ticket-resume",attrs:{visible:e.ticketResumeDialogVisible,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":"",width:"500px",title:"Resumo da disputa"},on:{"update:visible":function(t){e.ticketResumeDialogVisible=t}}},[t("strong",{staticClass:"dialog-actions__ticket-resume-subtitle"},[e._v(" Confira os dados da disputa para "+e._s(e.ticketResumeType.toLowerCase())+": ")]),t("div",{staticClass:"dialog-actions__ticket-resume-infobox"},e._l(e.ticketResume,(function(a){return t("p",{key:a.key,staticClass:"dialog-actions__ticket-resume-infoline"},[t("b",[e._v(e._s(a.label))]),e._v(": "),t("span",[e._v(e._s(a.value))])])})),0),t("el-form",{ref:"offerForm",attrs:{model:e.offerForm,rules:e.offerFormRules,disabled:e.modalLoading,"label-position":"top"}},[t("el-form-item",{attrs:{label:"Nota:",prop:"note"}},[t("el-input",{attrs:{type:"textarea",rows:"4",maxlength:255},model:{value:e.offerForm.note,callback:function(t){e.$set(e.offerForm,"note",t)},expression:"offerForm.note"}}),t("div",{staticStyle:{"text-align":"right"}},[e._v(" "+e._s(e.offerForm.note.length)+"/255 ")])],1)],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{disabled:e.modalLoading,plain:""},on:{click:function(t){e.ticketResumeDialogVisible=!1}}},[e._v(" Cancelar ")]),t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.modalLoading,expression:"modalLoading"}],attrs:{disabled:e.modalLoading,type:"primary"},on:{click:function(t){return t.preventDefault(),e.handleSettled.apply(null,arguments)}}},[e._v(" "+e._s(e.ticketResumeType)+" ")])],1)],1),t("el-dialog",{staticClass:"dialog-actions__increase-alert",attrs:{visible:e.confirmIncreaseUpperrangeDialogVisible,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":"",width:"400px",title:`${e.isRecoveryStrategy?"Ajustar":"Majorar"} ${e.$tc("UPPER_RANGE_WITH_ARTICLE",e.isRecoveryStrategy)}?`},on:{"update:visible":function(t){e.confirmIncreaseUpperrangeDialogVisible=t}}},[t("strong",{staticClass:"dialog-actions__increase-alert-subtitle"},[e._v(" Valor da contraproposta é "+e._s(e.isRecoveryStrategy?"menor":"maior")+" que o "+e._s("d"+e.$tc("UPPER_RANGE_WITH_ARTICLE",e.isRecoveryStrategy))+"! ")]),t("div",{staticClass:"dialog-actions__increase-alert-infobox"},[t("p",{staticClass:"dialog-actions__increase-alert-infoline"},[t("span",[e._v("*")]),t("small",[e._v(" Ao clicar em "),t("strong",[e._v(e._s(e.isRecoveryStrategy?"ajustar":"majorar"))]),e._v(", será feita a "),t("strong",[e._v("contraproposta")]),e._v(". "+e._s(e.isRecoveryStrategy?"O":"A")+" "),t("strong",[e._v(e._s(e.$tc("UPPER_RANGE",e.isRecoveryStrategy)))]),e._v(" será "+e._s(e.isRecoveryStrategy?"ajustada":"majorada")+" para o "),t("strong",[e._v("valor")]),e._v(" da contraproposta e a disputa será alterada para "),t("strong",[e._v("proposta aceita")]),e._v(". ")])]),t("p",{staticClass:"dialog-actions__increase-alert-infoline"},[t("span",[e._v("*")]),t("small",[e._v(" Ao clicar em "),t("strong",[e._v("não "+e._s(e.isRecoveryStrategy?"ajustar":"majorar"))]),e._v(", somente será feita a "),t("strong",[e._v("contraproposta")]),e._v(", sem alterações no status da disputa. ")])])]),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{disabled:e.modalLoading,plain:""},on:{click:function(t){e.confirmIncreaseUpperrangeDialogVisible=!1}}},[e._v(" Cancelar ")]),e.isSettledIncreaseAlertType?e._e():t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.modalLoading,expression:"modalLoading"}],attrs:{disabled:e.modalLoading,plain:""},on:{click:function(t){return t.preventDefault(),e.handleIncreaseManualOffer(!0)}}},[e._v(" "+e._s(e.isRecoveryStrategy?"Ajustar":"Majorar")+" ")]),t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.modalLoading,expression:"modalLoading"}],attrs:{disabled:e.modalLoading,type:"primary"},on:{click:function(t){return t.preventDefault(),e.handleIncreaseManualOffer(e.isSettledIncreaseAlertType)}}},[e._v(" "+e._s(e.isSettledIncreaseAlertType?e.isRecoveryStrategy?"ajustar":"majorar":e.isRecoveryStrategy?"Não ajustar":"Não majorar")+" ")])],1)]),t("el-dialog",{staticClass:"dialog-actions__increase-alert",attrs:{visible:e.editNegotiatorsDialogVisible,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":"",width:"604px",title:"Editar negociadores"},on:{"update:visible":function(t){e.editNegotiatorsDialogVisible=t}}},[t("el-form",{ref:"editNegotiatorsForm",attrs:{"label-position":"top",disabled:e.modalLoading}},[t("el-transfer",{attrs:{titles:["Equipe","Disputa"],"button-texts":["Remover","Adicionar"],data:e.mappedWorkspaceMembers,"filter-placeholder":"Buscar",filterable:""},model:{value:e.editNegotiatorsForm,callback:function(t){e.editNegotiatorsForm=t},expression:"editNegotiatorsForm"}})],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{disabled:e.modalLoading,plain:""},on:{click:function(t){e.editNegotiatorsDialogVisible=!1}}},[e._v(" Cancelar ")]),t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.modalLoading,expression:"modalLoading"}],attrs:{disabled:e.modalLoading,type:"primary"},on:{click:function(t){return t.preventDefault(),e.handleEditNegotiators.apply(null,arguments)}}},[e._v(" Trocar negociadores ")])],1)],1),t("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.modalLoading,expression:"modalLoading"}],attrs:{visible:e.attachmentDialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,center:"","append-to-body":"",width:"600px",title:"Enviar anexo","custom-class":"dialog-actions__add-attachment"},on:{"update:visible":function(t){e.attachmentDialogVisible=t}}},[t("JusDragArea",{attrs:{visible:!0},on:{closeDialog:function(t){e.attachmentDialogVisible=!1}}}),t("span")],1),t("el-dialog",{staticClass:"dialog-actions__increase-alert",attrs:{visible:e.dropLawsuitDialogVisible,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":"","destroy-on-close":"",width:"604px",title:"Cancelar disputa"},on:{"update:visible":function(t){e.dropLawsuitDialogVisible=t}}},[t("DropLawsuitForm",{attrs:{loading:e.modalLoading},on:{cancel:function(t){e.dropLawsuitDialogVisible=!1},submit:function(t){return e.handleDropLawsuit(t)}}})],1)],1)},i=[],s=a(90408),n=a(45318),r={name:"DialogActions",components:{JusDragArea:n.U,DropLawsuitForm:()=>a.e(8665).then(a.bind(a,88665))},props:{ticket:{type:Object,required:!0},forceStatus:{type:String,default:""}},data:()=>({modalLoading:!1,offerDialogVisible:!1,sendNotificationAwaitingCompanyAnalysisVisible:!1,offerFormType:"MANUAL_COUNTERPROPOSAL",offerForm:{roleId:null,value:"",note:"",unsettledType:""},offerFormRules:{unsettledType:[{required:!0,message:"Campo obrigatório",trigger:"submit"}],value:[{required:!0,message:"Campo obrigatório",trigger:"submit"}],roleId:[{required:!0,message:"Campo obrigatório",trigger:"submit"}]},isSettledIncreaseAlertType:!1,ticketResumeDialogVisible:!1,ticketResumeType:"Ganhar",editNegotiatorsDialogVisible:!1,editNegotiatorsForm:[],confirmIncreaseUpperrangeDialogVisible:!1,attachmentDialogVisible:!1,dropLawsuitDialogVisible:!1,nextStatusMap:{IMPORTED:"ACCEPTED",ENRICHED:"ACCEPTED",ENGAGEMENT:"ACCEPTED",PENDING:"ACCEPTED",RUNNING:"ACCEPTED",UNSETTLED:"ACCEPTED",ACCEPTED:"CHECKOUT",CHECKOUT:"SETTLED"}}),computed:{...(0,s.Se)({ticketParties:"getTicketOverviewParties",workspaceMembers:"workspaceMembers",outcomeReasons:"getOutcomeReasons",lastTicketOffers:"getLastTicketOffers",activeTab:"getActiveTab",isRecoveryStrategy:"isWorkspaceRecovery"}),isInsufficientUpperRange(){return"INSUFFICIENT_UPPER_RANGE"===this.offerForm.unsettledType},ticketResume(){const{disputeId:e,code:t}=this.ticket,{plaintiffOffer:a,acceptedValue:o}=this.lastTicketOffers;return[{key:"id",label:"Nº da disputa",value:`#${e}`},{key:"code",label:"Nº do processo",value:t},...this.ticketParties.filter((({polarity:e,roles:t})=>"CLAIMANT"===e&&t.includes("PARTY"))).map((({name:e},t)=>({key:`plaintiff-${t+1}`,label:"Autor",value:this.$options.filters.capitalize(e)}))),...this.ticketParties.filter((({polarity:e,roles:t})=>"CLAIMANT"===e&&t.includes("LAWYER"))).map((({name:e},t)=>({key:`lawyer-${t+1}`,label:"Advogado do autor",value:this.$options.filters.capitalize(e)}))),...this.ticketParties.filter((({polarity:e,roles:t})=>"RESPONDENT"===e&&t.includes("PARTY"))).map((({name:e},t)=>({key:`defendant-${t+1}`,label:this.$tc("PARTY_RESPONDENT",this.isRecoveryStrategy),value:this.$options.filters.capitalize(e)}))),{key:"value",label:"Valor do acordo",value:this.$options.filters.currency(o||a?.value)}]},offerDialogTitle(){switch(this.offerFormType){case"SETTLED":return"Aceitar acordo";case"UNSETTLED":return"Perder";case"MANUAL_COUNTERPROPOSAL":default:return"Contraproposta manual"}},unsettledOutcomeReasons(){return this.outcomeReasons.UNSETTLED},unsettledOutcomeReasonsSorted(){return Object.entries(this.outcomeReasons.UNSETTLED||{}).sort(((e,t)=>e[1]>t[1]?1:-1))},ticketPlaintiffs(){return this.ticketParties?.filter((e=>"CLAIMANT"===e.polarity))},ticketNegotiators(){return this.ticketParties?.filter((e=>e.roles.includes("NEGOTIATOR")))},mappedWorkspaceMembers(){return this.workspaceMembers.map((e=>{const{id:t,name:a}=e.person;return{key:t,label:a,value:t}}))},forcedStatusValue(){return this.nextStatusMap[this.ticket?.status]===this.forceStatus?void 0:this.forceStatus}},beforeMount(){const{unsettledOutcomeReasons:e}=this;e&&Object.keys(e).length||this.getOutcomeReasons("UNSETTLED")},methods:{...(0,s.nv)(["getOutcomeReasons","sendTicketAction","sendOffer","cancelTicket","setAccountProperty","getAccountProperty"]),confirmAction(e,t="Tem certeza que deseja realizar está ação?"){const{status:a}=this.ticket;let o=this.$options.filters.capitalize(this.$tc(`actions.${e}.name`,1));"SETTLED"===e&&(o="ACCEPTED"===a||"CHECKOUT"===a?this.$options.filters.capitalize(this.$tc(`actions.${e}.name`,1)):this.$options.filters.capitalize(this.$tc(`actions.${e}.name`,0)));const i={confirmButtonText:"Continuar",cancelButtonText:"Cancelar",dangerouslyUseHTMLString:!0,showClose:!1};return new Promise(((e,a)=>{this.$confirm(t,o,i).then((t=>e(t))).catch((e=>a(e)))}))},concludeAction(e,t,a=!1){"MANUAL_COUNTERPROPOSAL"!==e&&"SETTLED"!==e||(a=!a);const o=this.$tc(`actions.${e}.feedback-message`,a);this.$jusNotification({message:`${o} com sucesso.`,title:"Yay!",type:"success",dangerouslyUseHTMLString:!0}),this.$jusSegment(o,{disputeId:t}),this.offerDialogVisible=!1,this.ticketResumeDialogVisible=!1,this.editNegotiatorsDialogVisible=!1,this.confirmIncreaseUpperrangeDialogVisible=!1},openOfferDialog(e){const{ticketPlaintiffs:t}=this,{plaintiffProposal:a}=this.ticket;let o;o=1===t.length?t[0].disputeRoleId:"MANUAL_COUNTERPROPOSAL"===e?null:a?t.find((({name:e})=>e===a.ownerName))?.disputeRoleId:null,this.offerForm.unsettledType="",this.offerForm.roleId=o,this.offerForm.value="",this.offerForm.note="",this.offerFormType=e,this.offerDialogVisible=!0,this.$refs.offerForm&&this.$refs.offerForm.clearValidate()},handleUnsettledTypeChange(e){if("INSUFFICIENT_UPPER_RANGE"===e){const{ticketPlaintiffs:e}=this,{plaintiffProposal:t}=this.ticket;t&&(this.offerForm.roleId=e.find((({name:e})=>e===t.ownerName))?.disputeRoleId,this.offerForm.value=t.value)}},openEditNegotiatorsDialog(e){this.editNegotiatorsForm=this.ticketNegotiators.map((e=>e.person.id)),this.editNegotiatorsDialogVisible=!0},openTicketResumeDialog(e,t){this.offerFormType=e,this.ticketResumeType="WIN"===t?"Ganhar":"Aceitar acordo",this.ticketResumeDialogVisible=!0},openAttachmentDialog(e){this.attachmentDialogVisible=!0},openDropLawsuitDialog(e){this.dropLawsuitDialogVisible=!0},handleDialogAction(){const{offerFormType:e}=this;switch(e){case"MANUAL_COUNTERPROPOSAL":this.handleManualOffer(e);break;case"SETTLED":this.handleManualOffer(e);break;case"UNSETTLED":this.handleUnsettled();break}},handleManualOffer(e){const{disputeId:t}=this.ticket;this.validateOfferForm().then((()=>{(this.isRecoveryStrategy?this.offerForm.value<this.ticket.upperRange:this.offerForm.value>this.ticket.upperRange)?(this.isSettledIncreaseAlertType="SETTLED"===e,this.confirmIncreaseUpperrangeDialogVisible=!0):this.confirmAction(e).then((()=>{this.modalLoading=!0,this.sendManualOffer().then((a=>this.concludeAction(e,t,!0))).catch((e=>this.$jusNotification({error:e}))).finally((()=>this.modalLoading=!1))}))}))},handleIncreaseManualOffer(e=!1){const{offerFormType:t}=this,{disputeId:a}=this.ticket;this.modalLoading=!0,this.sendManualOffer(e).then((o=>this.concludeAction(t,a,e))).catch((e=>this.$jusNotification({error:e}))).finally((()=>this.modalLoading=!1))},sendManualOffer(e=!1){const{offerFormType:t}=this;return new Promise(((a,o)=>{const{disputeId:i}=this.ticket,{value:s,roleId:n,note:r}=this.offerForm,l={value:s,note:r,conclusionNote:r,roleId:n,updateUpperRange:e,action:t,forceStatus:this.forcedStatusValue||void 0},c="plaintiffOffer";this.sendOffer({disputeId:i,data:l,polarityObjectKey:c,change:e}).then((e=>a(e))).catch((e=>o(e))).finally((()=>this.$emit("conclude")))}))},handleEditNegotiators(){const{disputeId:e}=this.ticket,t={negotiatorsId:this.editNegotiatorsForm},a="NEGOTIATORS";this.modalLoading=!0,this.sendTicketAction({disputeId:e,action:a,data:t}).then((t=>this.concludeAction(a,e))).catch((e=>this.$jusNotification({error:e}))).finally((()=>this.modalLoading=!1))},handleSettled(){const{disputeId:e}=this.ticket,t="SETTLED",{note:a}=this.offerForm,o={note:a,conclusionNote:a,forceStatus:this.forcedStatusValue||void 0};this.confirmAction(t).then((()=>{this.modalLoading=!0,this.sendTicketAction({disputeId:e,action:t,data:o}).then((a=>this.concludeAction(t,e))).catch((e=>this.$jusNotification({error:e}))).finally((()=>{this.modalLoading=!1,this.$emit("conclude")}))}))},handleUnsettled(){const{ticket:e,offerForm:t,unsettledOutcomeReasons:a}=this,{note:o,unsettledType:i}=t,{disputeId:s}=e,n={note:o,reason:a[i]},r="UNSETTLED";this.isInsufficientUpperRange?this.validateOfferForm().then((()=>this.confirmAction(r).then((()=>{this.modalLoading=!0,this.sendManualOffer().then((()=>this.sendTicketAction({disputeId:s,action:r,data:n}).then((e=>this.concludeAction(r,s))).catch((e=>this.$jusNotification({error:e}))).finally((()=>this.modalLoading=!1)))).catch((e=>{this.$jusNotification({error:e}),this.modalLoading=!1}))})))):this.confirmAction(r).then((()=>{this.modalLoading=!0,this.sendTicketAction({disputeId:s,action:r,data:n}).then((e=>this.concludeAction(r,s))).catch((e=>this.$jusNotification({error:e}))).finally((()=>this.modalLoading=!1))}))},validateOfferForm(e){return new Promise(((e,t)=>{this.$refs.offerForm.validate((a=>{a?e():t(new Error("Campos obrigatórios não preenchidos"))}))}))},validateForm(e){return new Promise(((t,a)=>{this.$refs[e].validate((e=>{e?t():a(new Error("Campos obrigatórios não preenchidos"))}))}))},handleDropLawsuit(e){this.modalLoading=!0;const t=this.$route.params.id,{reason:a,conclusionNote:o}=e;this.cancelTicket({disputeId:t,reason:a,conclusionNote:o}).then((()=>{this.$jusNotification({message:"Disputa cancelada com sucesso.",title:"Yay!",type:"success"}),this.dropLawsuitDialogVisible=!1,this.$jusSegment("Cancelamento de disputa na tela /negotiation",{disputeId:t})})).catch((e=>this.$jusNotification({error:e}))).finally((()=>{this.modalLoading=!1}))},sendNotificationAwaitingCompanyAnalysis(e){}}},l=r,c=(a(10166),a(1001)),d=(0,c.Z)(l,o,i,!1,null,null,null),u=d.exports},45318:function(e,t,a){"use strict";a.d(t,{U:function(){return o["default"]}});var o=a(34226)},83630:function(e,t,a){"use strict";a.r(t);var o=a(87537),i=a.n(o),s=a(23645),n=a.n(s),r=n()(i());r.push([e.id,".jus-drag-area[data-v-23cc1084]{position:relative;height:100%}.jus-drag-area .jus-drag-area__mask[data-v-23cc1084]{display:none;cursor:pointer}.jus-drag-area .jus-drag-area__input-file[data-v-23cc1084]{display:none}.jus-drag-area.jus-drag-area--dragging .jus-drag-area__mask[data-v-23cc1084]{align-items:center;display:flex;height:100%;justify-content:center;left:0;position:absolute;top:0;z-index:2;width:100%}.jus-drag-area.jus-drag-area--dragging .jus-drag-area__mask .jus-drag-area__mask-action[data-v-23cc1084]{height:100%;left:0;position:absolute;top:0;width:100%}.attachment-dialog .el-dialog__body .attachment-dialog__container[data-v-23cc1084]{display:flex;flex-direction:column;gap:24px}.attachment-dialog .el-dialog__body .attachment-dialog__container .attachment-dialog__container-check[data-v-23cc1084]{display:flex;gap:16px}","",{version:3,sources:["webpack://./src/components/JusDragArea/JusDragArea.vue"],names:[],mappings:"AAGA,gCACE,iBAAA,CACA,WAAA,CAEA,qDACE,YAAA,CACA,cAAA,CAGF,2DACE,YAAA,CAKA,6EACE,kBAAA,CACA,YAAA,CACA,WAAA,CACA,sBAAA,CACA,MAAA,CACA,iBAAA,CACA,KAAA,CACA,SAAA,CACA,UAAA,CAEA,yGACE,WAAA,CACA,MAAA,CACA,iBAAA,CACA,KAAA,CACA,UAAA,CAQJ,mFACE,YAAA,CACA,qBAAA,CACA,QAAA,CAEA,uHACE,YAAA,CACA,QAAA",sourcesContent:["\n@import '~projuris-acordos-theme/src/common/colors.scss';\n\n.jus-drag-area {\n  position: relative;\n  height: 100%;\n\n  .jus-drag-area__mask {\n    display: none;\n    cursor: pointer;\n  }\n\n  .jus-drag-area__input-file {\n    display: none;\n  }\n\n  &.jus-drag-area--dragging {\n\n    .jus-drag-area__mask {\n      align-items: center;\n      display: flex;\n      height: 100%;\n      justify-content: center;\n      left: 0;\n      position: absolute;\n      top: 0;\n      z-index: 2;\n      width: 100%;\n\n      .jus-drag-area__mask-action {\n        height: 100%;\n        left: 0;\n        position: absolute;\n        top: 0;\n        width: 100%;\n      }\n    }\n  }\n}\n\n.attachment-dialog {\n  .el-dialog__body {\n    .attachment-dialog__container {\n      display: flex;\n      flex-direction: column;\n      gap: 24px;\n\n      .attachment-dialog__container-check {\n        display: flex;\n        gap: 16px;\n      }\n    }\n  }\n}\n"],sourceRoot:""}]),t["default"]=r},64126:function(e,t,a){"use strict";a.r(t);var o=a(87537),i=a.n(o),s=a(23645),n=a.n(s),r=n()(i());r.push([e.id,".attachment-dialog__container-check .el-switch.inactive .el-switch__core:after{margin:0;left:1px}.attachment-dialog__container-check .el-switch.active .el-switch__core:after{left:20px}","",{version:3,sources:["webpack://./src/components/JusDragArea/JusDragArea.vue"],names:[],mappings:"AAIM,+EACE,QAAA,CACA,QAAA,CAKF,6EACE,SAAA",sourcesContent:["\n.attachment-dialog__container-check {\n  .el-switch {\n    &.inactive {\n      .el-switch__core::after {\n        margin: 0;\n        left: 1px;\n      }\n    }\n\n    &.active {\n      .el-switch__core::after {\n        left: 20px;\n      }\n    }\n  }\n}\n"],sourceRoot:""}]),t["default"]=r},47752:function(e,t,a){"use strict";a.r(t);var o=a(87537),i=a.n(o),s=a(23645),n=a.n(s),r=n()(i());r.push([e.id,".dialog-actions__ticket-resume .dialog-actions__ticket-resume-subtitle{color:#979797}.dialog-actions__ticket-resume .dialog-actions__ticket-resume-infobox{margin-top:12px}.dialog-actions__ticket-resume .dialog-actions__ticket-resume-infobox .dialog-actions__ticket-resume-infoline{margin:6px 0}.dialog-actions__increase-alert .el-dialog__footer .dialog-actions__increase-alert-footer{display:flex;justify-content:flex-end;gap:8px}.dialog-actions__increase-alert .dialog-actions__increase-alert-subtitle{color:#979797}.dialog-actions__increase-alert .dialog-actions__increase-alert-infobox{margin:12px 0 24px}.dialog-actions__increase-alert .dialog-actions__increase-alert-infobox .dialog-actions__increase-alert-infoline{word-break:break-word}.dialog-actions__increase-alert .dialog-actions__increase-alert-infobox .dialog-actions__increase-alert-infoline span{color:#ff4b54}.dialog-actions__add-attachment .el-dialog__body .jus-drag-area{min-height:25vh}","",{version:3,sources:["webpack://./src/views/main/negotiation/partials/ticket/TicketActionsDialogs.vue","webpack://./node_modules/projuris-acordos-theme/src/common/colors.scss"],names:[],mappings:"AAIE,uEACE,aAAA,CAEF,sEACE,eAAA,CAEA,8GACE,YAAA,CAcF,0FACE,YAAA,CACA,wBAAA,CACA,OAAA,CAIJ,yEACE,aC5BW,CD+Bb,wEACE,kBAAA,CAEA,iHACE,qBAAA,CACA,sHAAA,aCQW,CDDb,gEACE,eAAA",sourcesContent:["\n@import '~projuris-acordos-theme/src/common/colors.scss';\n\n.dialog-actions__ticket-resume {\n  .dialog-actions__ticket-resume-subtitle {\n    color: $--color-text-secondary;\n  }\n  .dialog-actions__ticket-resume-infobox {\n    margin-top: 12px;\n\n    .dialog-actions__ticket-resume-infoline {\n      margin: 6px 0;\n    }\n  }\n}\n\n.dialog-actions__increase-alert {\n  .el-dialog__header {}\n\n  .el-dialog__body {\n    .dialog-actions__increase-alert-body {\n    }\n  }\n\n  .el-dialog__footer {\n    .dialog-actions__increase-alert-footer {\n      display: flex;\n      justify-content: flex-end;\n      gap: 8px;\n    }\n  }\n\n  .dialog-actions__increase-alert-subtitle {\n    color: $--color-text-secondary;\n  }\n\n  .dialog-actions__increase-alert-infobox {\n    margin: 12px 0 24px;\n\n    .dialog-actions__increase-alert-infoline {\n      word-break: break-word;\n      span { color: $--color-danger }\n    }\n  }\n}\n\n.dialog-actions__add-attachment {\n  .el-dialog__body {\n    .jus-drag-area {\n      min-height: 25vh;\n    }\n  }\n}\n","/* Colors\n-------------------------- */\n\n$--color-white: #fff !default;\n$--color-black: #424242 !default;\n$--color-gray: #979797 !default;\n$--color-gray-light-1: mix($--color-white, $--color-gray, 10%) !default;\n$--color-light-gray: #f3f4f5 !default;\n$--color-whatsapp: #075E54 !default;\n\n$--pj-color-darker-blue: #0A0022 !default;\n$--pj-color-dark-blue: #280BA0 !default;\n$--pj-color-blue: #0756e4 !default;\n$--pj-color-light-blue: #018EF0 !default;\n$--pj-color-lighter-blue: #30A9FB !default;\n$--pj-color-white-blue: #F0F9FE !default;\n$--pj-color-disabled-blue: #9ad2f9 !default;\n\n$-pg-color-overlay: #19415F !default;\n\n$--pj-color-red: #CC4148 !default;\n$--pj-color-light-red: #EC767C !default;\n$--pj-color-disable-red: #FFF2F3 !default;\n\n$--color-primary: $--pj-color-blue !default;\n$--color-primary-light-1: mix($--color-white, $--color-primary, 10%) !default;\n$--color-primary-light-2: mix($--color-white, $--color-primary, 20%) !default;\n$--color-primary-light-3: mix($--color-white, $--color-primary, 30%) !default;\n$--color-primary-light-4: mix($--color-white, $--color-primary, 40%) !default;\n$--color-primary-light-5: mix($--color-white, $--color-primary, 50%) !default;\n$--color-primary-light-6: mix($--color-white, $--color-primary, 60%) !default;\n$--color-primary-light-7: mix($--color-white, $--color-primary, 70%) !default;\n$--color-primary-light-8: mix($--color-white, $--color-primary, 80%) !default;\n$--color-primary-light-9: mix($--color-white, $--color-primary, 90%) !default;\n\n$--color-secondary: $--pj-color-light-blue !default;\n$--color-secondary-light-1: mix($--color-white, $--color-secondary, 10%) !default;\n$--color-secondary-light-2: mix($--color-white, $--color-secondary, 20%) !default;\n$--color-secondary-light-3: mix($--color-white, $--color-secondary, 30%) !default;\n$--color-secondary-light-4: mix($--color-white, $--color-secondary, 40%) !default;\n$--color-secondary-light-5: mix($--color-white, $--color-secondary, 50%) !default;\n$--color-secondary-light-6: mix($--color-white, $--color-secondary, 60%) !default;\n$--color-secondary-light-7: mix($--color-white, $--color-secondary, 70%) !default;\n$--color-secondary-light-8: mix($--color-white, $--color-secondary, 80%) !default;\n$--color-secondary-light-9: mix($--color-white, $--color-secondary, 90%) !default;\n\n$--color-primary-dark: $--pj-color-dark-blue !default;\n$--color-success: #14CC30 !default;\n$--color-warning: #FFC900 !default;\n$--color-danger: #FF4B54 !default;\n$--color-info: #2FBBEC !default;\n\n$--color-success-light-1: mix($--color-white, $--color-success, 10%) !default;\n$--color-success-light-5: mix($--color-white, $--color-success, 50%) !default;\n$--color-warning-light-5: mix($--color-white, $--color-warning, 50%) !default;\n$--color-danger-light-5: mix($--color-white, $--color-danger, 50%) !default;\n$--color-danger-light-3: mix($--color-white, $--color-danger, 30%) !default;\n$--color-info-light-5: mix($--color-white, $--color-info, 50%) !default;\n\n$--color-success-light: mix($--color-white, $--color-success, 80%) !default;\n$--color-warning-light: mix($--color-white, $--color-warning, 80%) !default;\n$--color-danger-light: mix($--color-white, $--color-danger, 80%) !default;\n$--color-info-light: mix($--color-white, $--color-info, 80%) !default;\n\n$--color-success-lighter: mix($--color-white, $--color-success, 90%) !default;\n$--color-warning-lighter: mix($--color-white, $--color-warning, 90%) !default;\n$--color-danger-lighter: mix($--color-white, $--color-danger, 90%) !default;\n$--color-info-lighter: mix($--color-white, $--color-info, 90%) !default;\n\n$--color-text-primary: $--color-black !default;\n$--color-text-secondary: $--color-gray !default;\n\n$--color-nps-promoter: #14CC30 !default;\n$--color-nps-neutral: #979797 !default;\n$--color-nps-detractor: #FF4B54 !default;\n\n$--color-negotiator-bg: #9461f74f !default;\n$--color-email-bg: $--color-info-light !default;\n$--color-whatsapp-bg: $--color-success-light-5 !default;"],sourceRoot:""}]),t["default"]=r},8652:function(e,t,a){var o=a(83630);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var i=a(39185).Z;i("193bc929",o,!0,{sourceMap:!0,shadowMode:!1})},46041:function(e,t,a){var o=a(64126);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var i=a(39185).Z;i("570f49b3",o,!0,{sourceMap:!0,shadowMode:!1})},10166:function(e,t,a){var o=a(47752);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var i=a(39185).Z;i("10d41f66",o,!0,{sourceMap:!0,shadowMode:!1})}}]);
//# sourceMappingURL=3880.js.map