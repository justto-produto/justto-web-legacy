(self["webpackChunk_projuris_justto_web"]=self["webpackChunk_projuris_justto_web"]||[]).push([[4752],{54752:function(o,e,n){"use strict";n.r(e),n.d(e,{default:function(){return d}});var t=function(){var o=this,e=o._self._c;return e("article",{staticClass:"recomendations-container"},[o.recomendations.length?e("el-dropdown",{attrs:{size:"mini"},on:{command:o.handleCommand}},[e("span",{staticClass:"el-dropdown-link"},[e("el-popover",{attrs:{title:o.currentRecomendation&&!o.loading?o.$t(`recomendations.${o.currentRecomendation.type}.title`):"","popper-class":"popover-recomendation",trigger:"manual"},model:{value:o.showRecomendationPopover,callback:function(e){o.showRecomendationPopover=e},expression:"showRecomendationPopover"}},[e("img",{staticClass:"recomendation-icon el-icon-swing",attrs:{slot:"reference",src:"https://blog.maxieduca.com.br/wp-content/uploads/2020/02/Repert%C3%B3rio.gif",alt:"Recomendação"},slot:"reference"}),null!==o.currentRecomendation?e("div",{directives:[{name:"loading",rawName:"v-loading",value:o.loading,expression:"loading"}],staticClass:"popover-recomendation-container"},[e("div",{staticClass:"popover-recomendation-container__body"},[o._l(o.currentRecomendation.properties,(function(n,t){return e("div",{key:t,staticClass:"popover-recomendation-container__body-item"},["PHONE_NUMBER"===t?e("span",{staticClass:"popover-recomendation-container__body-item-container"},[e("label",{staticClass:"popover-recomendation-container__body-item-container-label"},[o._v(" Contato: ")]),e("span",{staticClass:"popover-recomendation-container__body-item-container-value"},[o._v(" "+o._s(o._f("phoneNumber")(n))+" ")])]):o._e(),"EMAIL_ADDRESS"===t?e("span",{staticClass:"popover-recomendation-container__body-item-container"},[e("label",{staticClass:"popover-recomendation-container__body-item-container-label"},[o._v(" E-mail: ")]),e("span",{staticClass:"popover-recomendation-container__body-item-container-value"},[o._v(" "+o._s(n)+" ")])]):o._e(),"PERSON_NAME"===t?e("span",{staticClass:"popover-recomendation-container__body-item-container"},[e("label",{staticClass:"popover-recomendation-container__body-item-container-label"},[o._v(" Nome: ")]),e("span",{staticClass:"popover-recomendation-container__body-item-container-value"},[o._v(" "+o._s(o._f("capitalize")(n))+" ")])]):o._e(),"ROLE_NAME"===t?e("span",{staticClass:"popover-recomendation-container__body-item-container"},[e("label",{staticClass:"popover-recomendation-container__body-item-container-label"},[o._v(" Função: ")]),e("span",{staticClass:"popover-recomendation-container__body-item-container-value"},[o._v(" "+o._s(o._f("capitalize")(o.$tc(`roles.${n}.CLAIMANT`,o.isRecovery)))+" ")])]):o._e(),"MESSAGE_SUBJECT"===t?e("span",{staticClass:"popover-recomendation-container__body-item-container"},[e("label",{staticClass:"popover-recomendation-container__body-item-container-label"},[o._v(" Assunto: ")]),e("span",{staticClass:"popover-recomendation-container__body-item-container-value"},[o._v(" "+o._s(n)+" ")])]):o._e(),"MESSAGE_CONTENT"===t?e("span",{staticClass:"popover-recomendation-container__body-item-container"},[e("label",{staticClass:"popover-recomendation-container__body-item-container-label"},[o._v(" Mensagem: ")]),e("span",{staticClass:"popover-recomendation-container__body-item-container-value",domProps:{innerHTML:o._s(n)}})]):o._e()])})),"NEW_CONTACT"===o.currentRecomendation.type&&o.currentRecomendation.properties?e("div",{staticClass:"popover-recomendation-container__body-item"},[e("span",{staticClass:"popover-recomendation-container__body-item-container"},[e("label",{staticClass:"popover-recomendation-container__body-item-container-label",attrs:{for:"newContactParty"}},[o._v(" Parte: ")]),e("el-select",{staticClass:"popover-recomendation-container__body-item-container-value",attrs:{id:"newContactParty",placeholder:"Selecionar parte",size:"mini"},model:{value:o.currentRecomendation.properties.ROLE_ID,callback:function(e){o.$set(o.currentRecomendation.properties,"ROLE_ID",e)},expression:"currentRecomendation.properties.ROLE_ID"}},o._l(o.parties,(function({disputeRoleId:o,name:n}){return e("el-option",{key:`${o}-${n}`,attrs:{label:n,value:o}})})),1)],1)]):o._e()],2),e("div",{staticClass:"popover-recomendation-container__footer"},[o.$t(`recomendations.${o.currentRecomendation.type}.buttons.secondary`).length?e("el-button",{attrs:{type:"secondary",size:"mini"},on:{click:o.handleSecondaryAction}},[o._v(" "+o._s(o.$t(`recomendations.${o.currentRecomendation.type}.buttons.secondary`))+" "),e("i",{staticClass:"el-icon-edit"})]):o._e(),e("el-button",{attrs:{type:"primary",size:"mini",disabled:o.disablePrimaryAction},on:{click:o.handlePrimaryAction}},[o._v(" "+o._s(o.$t(`recomendations.${o.currentRecomendation.type}.buttons.primary`))+" "),e("i",{staticClass:"el-icon-s-promotion"})])],1)]):o._e()])],1),o.showRecomendationPopover?o._e():e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},o._l(o.recomendations,(function(n,t){return e("el-dropdown-item",{key:`recomendation-${t}`,attrs:{command:n}},[o._v(" "+o._s(o.$tc(`recomendations.${n.type}.option`))+" ")])})),1)],1):o._e()],1)},r=[],i=n(90408),a={props:{interactionId:{type:Number,required:!0}},data:()=>({loading:!1,recomendations:[],showRecomendationPopover:!1,currentRecomendation:null}),computed:{...(0,i.Se)({recipients:"getEditorRecipients",isRecovery:"isWorkspaceRecovery",parties:"getCommonDisputeRoles"}),disablePrimaryAction(){return"NEW_CONTACT"===this.currentRecomendation?.type&&!this.currentRecomendation?.properties?.ROLE_ID}},mounted(){this.init()},methods:{...(0,i.nv)(["addRecipient","setSignature","setEditorText","getRecommendations","getDisputeOccurrences","executeRecommendation","getTicketOverviewParties"]),init(){this.getRecommendations(this.interactionId).then((o=>{this.recomendations=o})).finally((()=>{this.loading=!1}))},clickOutOfPopover(o){this.closePopover()},handleCommand(o){this.showRecomendationPopover=!0,this.currentRecomendation={...o},document.body.addEventListener("click",this.clickOutOfPopover)},closePopover(){this.showRecomendationPopover=!1,this.currentRecomendation=null,document.body.removeEventListener("click",this.clickOutOfPopover)},handlePrimaryAction(){this.loading=!0,this.executeRecommendation(this.currentRecomendation).then((()=>{this.$jusSegment("EXECUTE_RECOMENDATION",{...this.currentRecomendation}),this.$jusNotification({type:"success",title:"Yay!",message:"Recomendação executada com sucesso!"});const o=this.$route?.params?.id;this.getDisputeOccurrences(o),this.getTicketOverviewParties(o),this.closePopover()})).catch((o=>this.$jusNotification({error:o}))).finally((()=>{this.init()}))},handleEditDisputeMassage({EMAIL_ADDRESS:o,MESSAGE_CONTENT:e,PHONE_NUMBER:n}){if(this.recipients?.map((({value:o})=>o)).includes(o))this.setEditorText(e),this.setSignature();else{const t=Object.keys(this.currentRecomendation?.properties).includes("EMAIL_ADDRESS");this.setEditorText(""),this.addRecipient({value:t?o:n,type:t?"email":"whatsapp",key:"address"}).then((()=>{this.setEditorText(e),this.setSignature()}))}},handleSecondaryAction(){const{type:o,properties:e}=this.currentRecomendation;"DISPUTE_MESSAGE"===o&&this.handleEditDisputeMassage({...e}),this.clickOutOfPopover()}}},c=a,l=(n(64386),n(61643),n(1001)),s=(0,l.Z)(c,t,r,!1,null,"58acefda",null),d=s.exports},60029:function(o,e,n){"use strict";n.r(e);var t=n(87537),r=n.n(t),i=n(23645),a=n.n(i),c=a()(r());c.push([o.id,".recomendations-container[data-v-58acefda]{cursor:pointer;margin:0 4px 0 -4px}.recomendations-container .recomendation-icon[data-v-58acefda]{height:20px;background-color:transparent}","",{version:3,sources:["webpack://./src/components/buttons/Recomendation.vue"],names:[],mappings:"AACA,2CACE,cAAA,CACA,mBAAA,CAEA,+DACE,WAAA,CACA,4BAAA",sourcesContent:["\n.recomendations-container {\n  cursor: pointer;\n  margin: 0 4px 0 -4px;\n\n  .recomendation-icon {\n    height: 20px;\n    background-color: transparent;\n  }\n}\n"],sourceRoot:""}]),e["default"]=c},53289:function(o,e,n){"use strict";n.r(e);var t=n(87537),r=n.n(t),i=n(23645),a=n.n(i),c=a()(r());c.push([o.id,".popover-recomendation{padding:16px!important}.popover-recomendation .popover-recomendation-container{display:flex;flex-direction:column;gap:16px;max-width:30vw}.popover-recomendation .popover-recomendation-container .popover-recomendation-container__body{display:flex;flex-direction:column;gap:8px}.popover-recomendation .popover-recomendation-container .popover-recomendation-container__body .popover-recomendation-container__body-item .popover-recomendation-container__body-item-container{display:flex;align-items:baseline;gap:8px}.popover-recomendation .popover-recomendation-container .popover-recomendation-container__body .popover-recomendation-container__body-item .popover-recomendation-container__body-item-container .popover-recomendation-container__body-item-container-label{font-weight:600;color:#018ef0}.popover-recomendation .popover-recomendation-container .popover-recomendation-container__body .popover-recomendation-container__body-item .popover-recomendation-container__body-item-container .popover-recomendation-container__body-item-container-value{word-break:keep-all}.popover-recomendation .popover-recomendation-container .popover-recomendation-container__body .popover-recomendation-container__body-item .popover-recomendation-container__body-item-container .popover-recomendation-container__body-item-container-value.el-select{flex:1}.popover-recomendation .popover-recomendation-container .popover-recomendation-container__body .popover-recomendation-container__body-item .popover-recomendation-container__body-item-container .popover-recomendation-container__body-item-container-value.el-select .el-input{overflow:hidden}.popover-recomendation .popover-recomendation-container .popover-recomendation-container__footer{display:flex;justify-content:space-between}","",{version:3,sources:["webpack://./src/components/buttons/Recomendation.vue","webpack://./node_modules/projuris-acordos-theme/src/common/colors.scss"],names:[],mappings:"AAGA,uBACE,sBAAA,CAEA,wDACE,YAAA,CACA,qBAAA,CACA,QAAA,CAEA,cAAA,CAEA,+FACE,YAAA,CACA,qBAAA,CACA,OAAA,CAGE,iMACE,YAAA,CACA,oBAAA,CACA,OAAA,CAEA,6PACE,eAAA,CACA,aCbY,CDgBd,6PACE,mBAAA,CAEA,uQACE,MAAA,CAEA,iRACE,eAAA,CAQZ,iGACE,YAAA,CACA,6BAAA",sourcesContent:["\n@import '~projuris-acordos-theme/src/common/colors.scss';\n\n.popover-recomendation {\n  padding: 16px !important;\n\n  .popover-recomendation-container {\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n\n    max-width: 30vw;\n\n    .popover-recomendation-container__body {\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n\n      .popover-recomendation-container__body-item {\n        .popover-recomendation-container__body-item-container {\n          display: flex;\n          align-items: baseline;\n          gap: 8px;\n\n          .popover-recomendation-container__body-item-container-label {\n            font-weight: 600;\n            color: $--color-secondary;\n          }\n\n          .popover-recomendation-container__body-item-container-value {\n            word-break: keep-all;\n\n            &.el-select {\n              flex: 1;\n\n              .el-input {\n                overflow: hidden;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    .popover-recomendation-container__footer {\n      display: flex;\n      justify-content: space-between;\n    }\n  }\n}\n","/* Colors\n-------------------------- */\n\n$--color-white: #fff !default;\n$--color-black: #424242 !default;\n$--color-gray: #979797 !default;\n$--color-gray-light-1: mix($--color-white, $--color-gray, 10%) !default;\n$--color-light-gray: #f3f4f5 !default;\n$--color-whatsapp: #075E54 !default;\n\n$--pj-color-darker-blue: #0A0022 !default;\n$--pj-color-dark-blue: #280BA0 !default;\n$--pj-color-blue: #0756e4 !default;\n$--pj-color-light-blue: #018EF0 !default;\n$--pj-color-lighter-blue: #30A9FB !default;\n$--pj-color-white-blue: #F0F9FE !default;\n$--pj-color-disabled-blue: #9ad2f9 !default;\n\n$-pg-color-overlay: #19415F !default;\n\n$--pj-color-red: #CC4148 !default;\n$--pj-color-light-red: #EC767C !default;\n$--pj-color-disable-red: #FFF2F3 !default;\n\n$--color-primary: $--pj-color-blue !default;\n$--color-primary-light-1: mix($--color-white, $--color-primary, 10%) !default;\n$--color-primary-light-2: mix($--color-white, $--color-primary, 20%) !default;\n$--color-primary-light-3: mix($--color-white, $--color-primary, 30%) !default;\n$--color-primary-light-4: mix($--color-white, $--color-primary, 40%) !default;\n$--color-primary-light-5: mix($--color-white, $--color-primary, 50%) !default;\n$--color-primary-light-6: mix($--color-white, $--color-primary, 60%) !default;\n$--color-primary-light-7: mix($--color-white, $--color-primary, 70%) !default;\n$--color-primary-light-8: mix($--color-white, $--color-primary, 80%) !default;\n$--color-primary-light-9: mix($--color-white, $--color-primary, 90%) !default;\n\n$--color-secondary: $--pj-color-light-blue !default;\n$--color-secondary-light-1: mix($--color-white, $--color-secondary, 10%) !default;\n$--color-secondary-light-2: mix($--color-white, $--color-secondary, 20%) !default;\n$--color-secondary-light-3: mix($--color-white, $--color-secondary, 30%) !default;\n$--color-secondary-light-4: mix($--color-white, $--color-secondary, 40%) !default;\n$--color-secondary-light-5: mix($--color-white, $--color-secondary, 50%) !default;\n$--color-secondary-light-6: mix($--color-white, $--color-secondary, 60%) !default;\n$--color-secondary-light-7: mix($--color-white, $--color-secondary, 70%) !default;\n$--color-secondary-light-8: mix($--color-white, $--color-secondary, 80%) !default;\n$--color-secondary-light-9: mix($--color-white, $--color-secondary, 90%) !default;\n\n$--color-primary-dark: $--pj-color-dark-blue !default;\n$--color-success: #14CC30 !default;\n$--color-warning: #FFC900 !default;\n$--color-danger: #FF4B54 !default;\n$--color-info: #2FBBEC !default;\n\n$--color-success-light-1: mix($--color-white, $--color-success, 10%) !default;\n$--color-success-light-5: mix($--color-white, $--color-success, 50%) !default;\n$--color-warning-light-5: mix($--color-white, $--color-warning, 50%) !default;\n$--color-danger-light-5: mix($--color-white, $--color-danger, 50%) !default;\n$--color-danger-light-3: mix($--color-white, $--color-danger, 30%) !default;\n$--color-info-light-5: mix($--color-white, $--color-info, 50%) !default;\n\n$--color-success-light: mix($--color-white, $--color-success, 80%) !default;\n$--color-warning-light: mix($--color-white, $--color-warning, 80%) !default;\n$--color-danger-light: mix($--color-white, $--color-danger, 80%) !default;\n$--color-info-light: mix($--color-white, $--color-info, 80%) !default;\n\n$--color-success-lighter: mix($--color-white, $--color-success, 90%) !default;\n$--color-warning-lighter: mix($--color-white, $--color-warning, 90%) !default;\n$--color-danger-lighter: mix($--color-white, $--color-danger, 90%) !default;\n$--color-info-lighter: mix($--color-white, $--color-info, 90%) !default;\n\n$--color-text-primary: $--color-black !default;\n$--color-text-secondary: $--color-gray !default;\n\n$--color-nps-promoter: #14CC30 !default;\n$--color-nps-neutral: #979797 !default;\n$--color-nps-detractor: #FF4B54 !default;\n\n$--color-negotiator-bg: #9461f74f !default;\n$--color-email-bg: $--color-info-light !default;\n$--color-whatsapp-bg: $--color-success-light-5 !default;"],sourceRoot:""}]),e["default"]=c},64386:function(o,e,n){var t=n(60029);t.__esModule&&(t=t.default),"string"===typeof t&&(t=[[o.id,t,""]]),t.locals&&(o.exports=t.locals);var r=n(39185).Z;r("bb064b90",t,!0,{sourceMap:!0,shadowMode:!1})},61643:function(o,e,n){var t=n(53289);t.__esModule&&(t=t.default),"string"===typeof t&&(t=[[o.id,t,""]]),t.locals&&(o.exports=t.locals);var r=n(39185).Z;r("cf64cd7c",t,!0,{sourceMap:!0,shadowMode:!1})}}]);
//# sourceMappingURL=4752.js.map