{"version":3,"file":"chunks/528.js","mappings":"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","sources":["webpack://@projuris/justto-web/./src/views/main/billing/partials/partials/EditTariffsForm.vue","webpack://@projuris/justto-web/src/views/main/billing/partials/partials/EditTariffsForm.vue","webpack://@projuris/justto-web/./src/views/main/billing/partials/partials/EditTariffsForm.vue?1f6b","webpack://@projuris/justto-web/./src/views/main/billing/partials/partials/EditTariffsForm.vue?55b8","webpack://@projuris/justto-web/./src/views/main/billing/partials/partials/EditTariffsForm.vue?bf80","webpack://@projuris/justto-web/./src/views/main/billing/partials/partials/EditTariffsForm.vue?e29f"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('article',[(_vm.visible)?_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.saving),expression:\"saving\"}],ref:\"form\",staticClass:\"contract__form\",attrs:{\"model\":_vm.form,\"size\":\"mini\"}},[_c('el-row',{attrs:{\"gutter\":8}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"prop\":\"tariffType\",\"label\":\"Modelo de cobrança:\"}},[_c('el-select',{attrs:{\"placeholder\":\"Selecione...\"},model:{value:(_vm.form.tariffType),callback:function ($$v) {_vm.$set(_vm.form, \"tariffType\", $$v)},expression:\"form.tariffType\"}},[_c('el-option',{attrs:{\"value\":\"FRANCHISE\",\"label\":\"Franquia\"}}),_c('el-option',{attrs:{\"value\":\"VOLUMETRY\",\"label\":\"Volumetria\"}})],1)],1)],1)],1),(_vm.form.tariffType === 'FRANCHISE')?_c('el-row',{staticClass:\"mb10\",attrs:{\"gutter\":8}},[_vm._l((_vm.franchiseTariffsOnForm),function(tariff,tIndex){return _c('el-col',{key:`edit-tariff#${tIndex}`,attrs:{\"span\":24}},[_c('el-form-item',{staticClass:\"flex-item small-label\",attrs:{\"label\":_vm.franchiseTariffTypes[tariff.type].label}},[_c('SingleTariffForm',{attrs:{\"contract-inactive\":_vm.isContractInactive},on:{\"delete\":function($event){_vm.handleRemoveTariff(_vm.getTariffIndex(tariff.type))}},model:{value:(_vm.form.tariffs[_vm.getTariffIndex(tariff.type)]),callback:function ($$v) {_vm.$set(_vm.form.tariffs, _vm.getTariffIndex(tariff.type), $$v)},expression:\"form.tariffs[getTariffIndex(tariff.type)]\"}})],1)],1)}),(_vm.franchiseTariffsNotOnForm.length)?_c('el-col',{attrs:{\"span\":24}},[_c('TariffTypeDropdown',{attrs:{\"tariffs\":_vm.franchiseTariffsNotOnForm},on:{\"command\":_vm.handleAddTariff}})],1):_vm._e()],2):(_vm.form.tariffType === 'VOLUMETRY')?_c('el-row',{staticClass:\"mb10\",attrs:{\"gutter\":8}},[_vm._l((_vm.volumetryTariffsOnForm),function(tariff,tIndex){return _c('el-col',{key:`edit-tariff#${tIndex}`,attrs:{\"span\":24}},[_c('el-form-item',{staticClass:\"flex-item small-label\",attrs:{\"label\":_vm.volumetryTariffTypes[tariff.type].label}},[_c('SingleTariffForm',{attrs:{\"contract-inactive\":_vm.isContractInactive,\"type\":_vm.form.tariffType},on:{\"delete\":function($event){_vm.handleRemoveTariff(_vm.getTariffIndex(tariff.type))}},model:{value:(_vm.form.tariffs[_vm.getTariffIndex(tariff.type)]),callback:function ($$v) {_vm.$set(_vm.form.tariffs, _vm.getTariffIndex(tariff.type), $$v)},expression:\"form.tariffs[getTariffIndex(tariff.type)]\"}})],1)],1)}),(_vm.volumetryTariffsNotOnForm.length)?_c('el-col',{attrs:{\"span\":24}},[_c('TariffTypeDropdown',{attrs:{\"tariffs\":_vm.volumetryTariffsNotOnForm},on:{\"command\":_vm.handleAddTariff}})],1):_vm._e()],2):_vm._e(),_c('el-row',[_c('el-col',[_c('el-form-item',{staticClass:\"flex-end\"},[_c('el-button',{on:{\"click\":_vm.handleCancel}},[_vm._v(\" Cancelar \")]),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.saving},on:{\"click\":_vm.handleSave}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.saving),expression:\"saving\"}],staticClass:\"el-icon-loading\"}),_vm._v(\" Salvar \")])],1)],1)],1)],1):(_vm.contract.tariffType === 'FRANCHISE')?_c('FranchiseTariffsDescription',{attrs:{\"tariffs\":_vm.filteredFranchiseTariffs},on:{\"click\":_vm.open}}):(_vm.contract.tariffType === 'VOLUMETRY')?_c('VolumetryTariffsDescription',{attrs:{\"tariffs\":_vm.filteredVolumetryTariffs},on:{\"click\":_vm.open}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <article>\n    <el-form\n      v-if=\"visible\"\n      ref=\"form\"\n      v-loading=\"saving\"\n      :model=\"form\"\n      size=\"mini\"\n      class=\"contract__form\"\n    >\n      <el-row :gutter=\"8\">\n        <el-col :span=\"24\">\n          <el-form-item\n            prop=\"tariffType\"\n            label=\"Modelo de cobrança:\"\n          >\n            <el-select\n              v-model=\"form.tariffType\"\n              placeholder=\"Selecione...\"\n            >\n              <el-option\n                value=\"FRANCHISE\"\n                label=\"Franquia\"\n              />\n\n              <el-option\n                value=\"VOLUMETRY\"\n                label=\"Volumetria\"\n              />\n            </el-select>\n          </el-form-item>\n        </el-col>\n      </el-row>\n\n      <el-row\n        v-if=\"form.tariffType === 'FRANCHISE'\"\n        :gutter=\"8\"\n        class=\"mb10\"\n      >\n        <el-col\n          v-for=\"(tariff, tIndex) in franchiseTariffsOnForm\"\n          :key=\"`edit-tariff#${tIndex}`\"\n          :span=\"24\"\n        >\n          <el-form-item\n            :label=\"franchiseTariffTypes[tariff.type].label\"\n            class=\"flex-item small-label\"\n          >\n            <SingleTariffForm\n              v-model=\"form.tariffs[getTariffIndex(tariff.type)]\"\n              :contract-inactive=\"isContractInactive\"\n              @delete=\"handleRemoveTariff(getTariffIndex(tariff.type))\"\n            />\n          </el-form-item>\n        </el-col>\n\n        <el-col\n          v-if=\"franchiseTariffsNotOnForm.length\"\n          :span=\"24\"\n        >\n          <TariffTypeDropdown\n            :tariffs=\"franchiseTariffsNotOnForm\"\n            @command=\"handleAddTariff\"\n          />\n        </el-col>\n      </el-row>\n\n      <el-row\n        v-else-if=\"form.tariffType === 'VOLUMETRY'\"\n        :gutter=\"8\"\n        class=\"mb10\"\n      >\n        <el-col\n          v-for=\"(tariff, tIndex) in volumetryTariffsOnForm\"\n          :key=\"`edit-tariff#${tIndex}`\"\n          :span=\"24\"\n        >\n          <el-form-item\n            :label=\"volumetryTariffTypes[tariff.type].label\"\n            class=\"flex-item small-label\"\n          >\n            <SingleTariffForm\n              v-model=\"form.tariffs[getTariffIndex(tariff.type)]\"\n              :contract-inactive=\"isContractInactive\"\n              :type=\"form.tariffType\"\n              @delete=\"handleRemoveTariff(getTariffIndex(tariff.type))\"\n            />\n          </el-form-item>\n        </el-col>\n\n        <el-col\n          v-if=\"volumetryTariffsNotOnForm.length\"\n          :span=\"24\"\n        >\n          <TariffTypeDropdown\n            :tariffs=\"volumetryTariffsNotOnForm\"\n            @command=\"handleAddTariff\"\n          />\n        </el-col>\n      </el-row>\n\n      <el-row>\n        <el-col>\n          <el-form-item class=\"flex-end\">\n            <el-button @click=\"handleCancel\">\n              Cancelar\n            </el-button>\n\n            <el-button\n              type=\"primary\"\n              :disabled=\"saving\"\n              @click=\"handleSave\"\n            >\n              <i\n                v-show=\"saving\"\n                class=\"el-icon-loading\"\n              />\n\n              Salvar\n            </el-button>\n          </el-form-item>\n        </el-col>\n      </el-row>\n    </el-form>\n\n    <FranchiseTariffsDescription\n      v-else-if=\"contract.tariffType === 'FRANCHISE'\"\n      :tariffs=\"filteredFranchiseTariffs\"\n      @click=\"open\"\n    />\n\n    <VolumetryTariffsDescription\n      v-else-if=\"contract.tariffType === 'VOLUMETRY'\"\n      :tariffs=\"filteredVolumetryTariffs\"\n      @click=\"open\"\n    />\n  </article>\n</template>\n\n<script>\nimport { FRANCHISE_TARIFF_TYPES, TARIFF_TYPES } from '@/constants/billing'\nimport { mapActions } from 'vuex'\n\nexport default {\n  name: 'EditTariffsForm',\n\n  components: {\n    SingleTariffForm: () => import('./partials/SingleTariffForm'),\n    TariffTypeDropdown: () => import('./partials/TariffTypeDropdown'),\n    FranchiseTariffsDescription: () => import('./partials/FranchiseTariffsDescription'),\n    VolumetryTariffsDescription: () => import('./partials/VolumetryTariffsDescription')\n  },\n\n  props: {\n    contract: {\n      type: Object,\n      required: true\n    },\n\n    customer: {\n      type: Object,\n      required: true\n    }\n  },\n\n  data: () => ({\n    visible: false,\n    saving: false,\n    form: {\n      tariffType: '',\n      tariffs: []\n    },\n    franchiseTariffTypes: FRANCHISE_TARIFF_TYPES,\n    franchiseTariffKeys: Object.keys(FRANCHISE_TARIFF_TYPES),\n    volumetryTariffTypes: TARIFF_TYPES,\n    volumetryTariffKeys: Object.keys(TARIFF_TYPES)\n  }),\n\n  computed: {\n    isContractInactive() {\n      return this.contract?.status === 'INACTIVE'\n    },\n\n    contractDate() {\n      return this.contract?.updateAt?.dateTime || this.contract?.createAt?.dateTime || new Date().toISOString()\n    },\n\n    filteredTariffs() { return (this.contract.tariffs || []).filter(({ value }) => Boolean(value)) },\n\n    filteredFranchiseTariffs() {\n      return (this.contract.tariffs || []).filter(({ value, type }) => (Boolean(value) && this.franchiseTariffKeys.includes(type)))\n    },\n\n    filteredVolumetryTariffs() {\n      return (this.contract.tariffs || []).filter(({ value, type }) => (Boolean(value) && this.volumetryTariffKeys.includes(type)))\n    },\n\n    haveTariffs() {\n      return this.filteredTariffs.length > 0\n    },\n\n    franchiseTariffsOnForm() {\n      return this.form.tariffs.filter(({ type }) => this.franchiseTariffKeys.includes(type))\n    },\n\n    franchiseTariffsNotOnForm() {\n      return this.franchiseTariffKeys.filter(key => !this.franchiseTariffsOnForm.map(({ type }) => type).includes(key))\n    },\n\n    volumetryTariffsOnForm() {\n      return this.form.tariffs.filter(({ type }) => this.volumetryTariffKeys.includes(type))\n    },\n\n    volumetryTariffsNotOnForm() {\n      return this.volumetryTariffKeys.filter(key => !this.volumetryTariffsOnForm.map(({ type }) => type).includes(key))\n    },\n\n    getTariffByKey() {\n      return (key) => {\n        return (this.contract?.tariffs || []).find(({ type }) => type === key) || {\n          type: key,\n          value: 0,\n          volumeLimit: 0\n        }\n      }\n    }\n  },\n\n  methods: {\n    ...mapActions([\n      'updateContract'\n    ]),\n\n    populateForm() {\n      ['tariffType', 'tariffs'].forEach(key => {\n        this.form[key] = this.contract[key]\n      })\n    },\n\n    populateTariffs() {\n      this.form.tariffs = [\n        ...(this.form.tariffs || [])\n      ]\n    },\n\n    open() {\n      this.populateForm()\n      this.populateTariffs()\n\n      this.visible = true\n    },\n\n    handleResetForm() {\n      this.form = { tariffType: '', tariffs: [] }\n\n      return Promise.resolve()\n    },\n\n    handleClose(done) {\n      done()\n\n      this.visible = false\n    },\n\n    handleCancel() {\n      this.saving = true\n      this.handleResetForm().finally(_ => {\n        this.saving = false\n        this.visible = false\n      })\n    },\n\n    handleSave() {\n      this.saving = true\n\n      this.updateContract({\n        customerId: this.customer.customerId,\n        contract: {\n          ...this.contract,\n          ...this.form\n        }\n      }).then(async _ => {\n        this.$jusNotification({\n          type: 'success',\n          title: 'Yay!',\n          message: 'Contrato editado com sucesso.'\n        })\n\n        this.handleCancel()\n      }).catch(error => {\n        this.$jusNotification({ error })\n      }).finally(() => {\n        this.saving = false\n      })\n    },\n\n    getTariffIndex(tariffType) {\n      let tariffIndex\n\n      this.form.tariffs.map((tariff, index) => {\n        if (tariff.type === tariffType) return (tariffIndex = index)\n      })\n\n      return tariffIndex\n    },\n\n    handleAddTariff(tariffType) {\n      this.form.tariffs.push({\n        type: tariffType,\n        value: 0,\n        volumeLimit: 1\n      })\n    },\n\n    handleRemoveTariff(index) {\n      this.form.tariffs.splice(index, 1)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.contract__form {\n  .el-row {\n    .el-col {\n      .el-form-item.flex-item {\n        display: flex;\n        flex-direction: column;\n        align-items: flex-start;\n\n        .el-form-item__content {\n          width: 100%;\n\n          .el-form--inline {\n            .el-row {\n              .el-col {\n                .el-form-item {\n                  width: 100% !important;\n                  line-height: 0;\n\n                  .el-form-item__label {\n                    font-weight: normal !important;\n                    line-height: 1.5rem;\n                  }\n\n                  .el-form-item__content {\n                    .el-input-number {\n                      width: 100% !important;\n                    }\n                  }\n                }\n\n                .labelless {\n                  .el-form-item__label  {\n                    visibility: hidden;\n                  }\n                }\n              }\n            }\n          }\n        }\n\n        &.small-label {\n          .el-form-item__label {\n            font-size: 1rem !important;\n          }\n        }\n      }\n\n      .el-form-item.flex-end {\n        margin: 0;\n\n        .el-form-item__content {\n          display: flex;\n          justify-content: flex-end;\n        }\n      }\n    }\n  }\n\n  .el-row + .el-row {\n    .el-col {\n      .el-form-item.flex-item > .el-form-item__label {\n        font-weight: 600;\n        font-size: 1.25rem;\n      }\n    }\n  }\n\n  .el-descriptions {\n    .el-descriptions__body {\n      .el-descriptions__table {\n        tbody {\n          .el-descriptions-row {\n            .el-descriptions-item {\n              .el-descriptions-item__container {}\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EditTariffsForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EditTariffsForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditTariffsForm.vue?vue&type=template&id=265e6a2c&\"\nimport script from \"./EditTariffsForm.vue?vue&type=script&lang=js&\"\nexport * from \"./EditTariffsForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditTariffsForm.vue?vue&type=style&index=0&id=265e6a2c&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".contract__form .el-row .el-col .el-form-item.flex-item{display:flex;flex-direction:column;align-items:flex-start}.contract__form .el-row .el-col .el-form-item.flex-item .el-form-item__content{width:100%}.contract__form .el-row .el-col .el-form-item.flex-item .el-form-item__content .el-form--inline .el-row .el-col .el-form-item{width:100%!important;line-height:0}.contract__form .el-row .el-col .el-form-item.flex-item .el-form-item__content .el-form--inline .el-row .el-col .el-form-item .el-form-item__label{font-weight:400!important;line-height:1.5rem}.contract__form .el-row .el-col .el-form-item.flex-item .el-form-item__content .el-form--inline .el-row .el-col .el-form-item .el-form-item__content .el-input-number{width:100%!important}.contract__form .el-row .el-col .el-form-item.flex-item .el-form-item__content .el-form--inline .el-row .el-col .labelless .el-form-item__label{visibility:hidden}.contract__form .el-row .el-col .el-form-item.flex-item.small-label .el-form-item__label{font-size:1rem!important}.contract__form .el-row .el-col .el-form-item.flex-end{margin:0}.contract__form .el-row .el-col .el-form-item.flex-end .el-form-item__content{display:flex;justify-content:flex-end}.contract__form .el-row+.el-row .el-col .el-form-item.flex-item>.el-form-item__label{font-weight:600;font-size:1.25rem}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/views/main/billing/partials/partials/EditTariffsForm.vue\"],\"names\":[],\"mappings\":\"AAIM,wDACE,YAAA,CACA,qBAAA,CACA,sBAAA,CAEA,+EACE,UAAA,CAKM,8HACE,oBAAA,CACA,aAAA,CAEA,mJACE,yBAAA,CACA,kBAAA,CAIA,sKACE,oBAAA,CAMJ,gJACE,iBAAA,CASV,yFACE,wBAAA,CAKN,uDACE,QAAA,CAEA,8EACE,YAAA,CACA,wBAAA,CAQJ,qFACE,eAAA,CACA,iBAAA\",\"sourcesContent\":[\"\\n.contract__form {\\n  .el-row {\\n    .el-col {\\n      .el-form-item.flex-item {\\n        display: flex;\\n        flex-direction: column;\\n        align-items: flex-start;\\n\\n        .el-form-item__content {\\n          width: 100%;\\n\\n          .el-form--inline {\\n            .el-row {\\n              .el-col {\\n                .el-form-item {\\n                  width: 100% !important;\\n                  line-height: 0;\\n\\n                  .el-form-item__label {\\n                    font-weight: normal !important;\\n                    line-height: 1.5rem;\\n                  }\\n\\n                  .el-form-item__content {\\n                    .el-input-number {\\n                      width: 100% !important;\\n                    }\\n                  }\\n                }\\n\\n                .labelless {\\n                  .el-form-item__label  {\\n                    visibility: hidden;\\n                  }\\n                }\\n              }\\n            }\\n          }\\n        }\\n\\n        &.small-label {\\n          .el-form-item__label {\\n            font-size: 1rem !important;\\n          }\\n        }\\n      }\\n\\n      .el-form-item.flex-end {\\n        margin: 0;\\n\\n        .el-form-item__content {\\n          display: flex;\\n          justify-content: flex-end;\\n        }\\n      }\\n    }\\n  }\\n\\n  .el-row + .el-row {\\n    .el-col {\\n      .el-form-item.flex-item > .el-form-item__label {\\n        font-weight: 600;\\n        font-size: 1.25rem;\\n      }\\n    }\\n  }\\n\\n  .el-descriptions {\\n    .el-descriptions__body {\\n      .el-descriptions__table {\\n        tbody {\\n          .el-descriptions-row {\\n            .el-descriptions-item {\\n              .el-descriptions-item__container {}\\n            }\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../../../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[4]!../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EditTariffsForm.vue?vue&type=style&index=0&id=265e6a2c&prod&lang=scss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"0ccfc556\", content, true, {\"sourceMap\":true,\"shadowMode\":false});"],"names":["render","_vm","this","_c","_self","visible","directives","name","rawName","value","saving","expression","ref","staticClass","attrs","form","model","tariffType","callback","$$v","$set","_l","franchiseTariffsOnForm","tariff","tIndex","key","franchiseTariffTypes","type","label","isContractInactive","on","$event","handleRemoveTariff","getTariffIndex","tariffs","franchiseTariffsNotOnForm","length","handleAddTariff","_e","volumetryTariffsOnForm","volumetryTariffTypes","volumetryTariffsNotOnForm","handleCancel","_v","handleSave","contract","filteredFranchiseTariffs","open","filteredVolumetryTariffs","staticRenderFns","components","SingleTariffForm","TariffTypeDropdown","FranchiseTariffsDescription","VolumetryTariffsDescription","props","Object","required","customer","data","FRANCHISE_TARIFF_TYPES","franchiseTariffKeys","keys","TARIFF_TYPES","volumetryTariffKeys","computed","status","contractDate","updateAt","dateTime","createAt","Date","toISOString","filteredTariffs","filter","Boolean","includes","haveTariffs","map","getTariffByKey","find","volumeLimit","methods","mapActions","populateForm","forEach","populateTariffs","handleResetForm","Promise","resolve","handleClose","done","finally","_","updateContract","customerId","then","$jusNotification","title","message","catch","error","tariffIndex","index","push","splice","component","___CSS_LOADER_EXPORT___","module","id","content","__esModule","default","locals","exports","add"],"sourceRoot":""}