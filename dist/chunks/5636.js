(self["webpackChunk_projuris_justto_web"]=self["webpackChunk_projuris_justto_web"]||[]).push([[5636],{25636:function(a,t,i){"use strict";i.r(t),i.d(t,{default:function(){return _}});var o=function(){var a=this,t=a._self._c;return t("el-form",{staticClass:"politica-negociacao__form",attrs:{model:a.form,"label-position":"top"}},[t("el-form-item",{staticClass:"politica-negociacao__form-item",attrs:{label:"Defina abaixo quantos dias a disputa ficará disponível para negociar"}},[t("span",[a._v("Expirar disputas")]),t("el-input-number",{attrs:{"controls-position":"right",min:1,size:"mini"},model:{value:a.form.PROJURIS_SOAP_DIAS_PARA_EXPIRAR,callback:function(t){a.$set(a.form,"PROJURIS_SOAP_DIAS_PARA_EXPIRAR",t)},expression:"form.PROJURIS_SOAP_DIAS_PARA_EXPIRAR"}}),t("span",[a._v("dias após importação.")])],1),t("el-form-item",{staticClass:"politica-negociacao__form-item",attrs:{label:"Defina abaixo qual deve ser a política máxima negociada"}},[t("el-collapse",{attrs:{accordion:""},on:{change:a.atualizarTipoDePolitica},model:{value:a.tipoDePolitica,callback:function(t){a.tipoDePolitica=t},expression:"tipoDePolitica"}},[t("el-collapse-item",{attrs:{title:"Política de alçada proporcional à valor da disputa",name:"proporcional"}},[t("article",{staticClass:"display-flex"},[t("div",{staticClass:"el-input el-input--mini auto-width"},[t("MoneyInput",{staticClass:"el-input__inner",attrs:{decimal:".",suffix:" %",prefix:"",precision:0},model:{value:a.form.PROJURIS_SOAP_PORCENTAGEM_ALCADA_MAXIMA,callback:function(t){a.$set(a.form,"PROJURIS_SOAP_PORCENTAGEM_ALCADA_MAXIMA",t)},expression:"form.PROJURIS_SOAP_PORCENTAGEM_ALCADA_MAXIMA"}})],1),t("span",[a._v("do valor")]),t("el-select",{staticClass:"auto-width",attrs:{size:"mini"},model:{value:a.form.PROJURIS_SOAP_VALOR_BASE,callback:function(t){a.$set(a.form,"PROJURIS_SOAP_VALOR_BASE",t)},expression:"form.PROJURIS_SOAP_VALOR_BASE"}},[t("el-option",{attrs:{label:"Perda provável",value:"perdaProvavel"}}),t("el-option",{attrs:{label:"Danos materiais",value:"danosMateriais"}})],1)],1)]),t("el-collapse-item",{attrs:{title:"Política de alçada customizada",name:"customizada"}},[t("article",{staticClass:"display-flex"},[t("span",{staticClass:"mr8"},[a._v("Nome da política: ")]),t("div",{staticClass:"el-input el-input--mini auto-width"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.form.PROJURIS_SOAP_ESTRATEGIA_PERSONALIZADA,expression:"form.PROJURIS_SOAP_ESTRATEGIA_PERSONALIZADA"}],staticClass:"el-input__inner",domProps:{value:a.form.PROJURIS_SOAP_ESTRATEGIA_PERSONALIZADA},on:{input:function(t){t.target.composing||a.$set(a.form,"PROJURIS_SOAP_ESTRATEGIA_PERSONALIZADA",t.target.value)}}})])])])],1)],1)],1)},e=[],s=i(90408),A=i(69506),n={components:{MoneyInput:A.Money},data:()=>({form:{PROJURIS_SOAP_DIAS_PARA_EXPIRAR:1,PROJURIS_SOAP_PORCENTAGEM_ALCADA_MAXIMA:75,PROJURIS_SOAP_VALOR_BASE:"",PROJURIS_SOAP_ESTRATEGIA_PERSONALIZADA:""},tipoDePolitica:"proporcional"}),computed:{...(0,s.Se)({configs:"getIntegrationConfigs"})},beforeMount(){this.init()},methods:{...(0,s.nv)(["saveIntegrationConfigs","getIntegrationConfigs","buscarIntegracaoDataLimite","salvarIntegracaoDataLimite","buscarIntegracaoSugestaoAlcada","salvarIntegracaoSugestaoAlcada"]),init(){this.buscarIntegracaoDataLimite().then((({dataLimite:a})=>{this.form.PROJURIS_SOAP_DIAS_PARA_EXPIRAR=a||1})).catch((a=>this.$jusNotification({error:a}))),this.buscarIntegracaoSugestaoAlcada().then((a=>{if(a.nomeAlcadaCustomizada)this.tipoDePolitica="customizada",this.form.PROJURIS_SOAP_ESTRATEGIA_PERSONALIZADA=a.nomeAlcadaCustomizada;else if(Object.entries(a?.percentuais).length){const{danosMateriais:t,perdaProvavel:i}=a.percentuais;t?(this.form.PROJURIS_SOAP_VALOR_BASE="danosMateriais",this.form.PROJURIS_SOAP_PORCENTAGEM_ALCADA_MAXIMA=t||75):(this.form.PROJURIS_SOAP_PORCENTAGEM_ALCADA_MAXIMA=i||75,this.form.PROJURIS_SOAP_VALOR_BASE="perdaProvavel"),this.tipoDePolitica="proporcional"}})).catch((a=>this.$jusNotification({error:a})))},buscarIntegracaoSugestaoAlcadaPercentuais(){this.buscarIntegracaoSugestaoAlcada().then((a=>{if(Object.entries(a?.percentuais).length){const{danosMateriais:t,perdaProvavel:i}=a.percentuais;t?(this.form.PROJURIS_SOAP_VALOR_BASE="danosMateriais",this.form.PROJURIS_SOAP_PORCENTAGEM_ALCADA_MAXIMA=t||75):(this.form.PROJURIS_SOAP_PORCENTAGEM_ALCADA_MAXIMA=i||75,this.form.PROJURIS_SOAP_VALOR_BASE="perdaProvavel"),this.tipoDePolitica="proporcional"}})).catch((a=>this.$jusNotification({error:a})))},buscarIntegracaoSugestaoAlcadaAlcadaCustomizada(){this.buscarIntegracaoSugestaoAlcada().then((a=>{a.nomeAlcadaCustomizada&&(this.tipoDePolitica="customizada",this.form.PROJURIS_SOAP_ESTRATEGIA_PERSONALIZADA=a.nomeAlcadaCustomizada)})).catch((a=>this.$jusNotification({error:a})))},save(){return Promise.all([this.salvarIntegracaoDataLimite(this.form?.PROJURIS_SOAP_DIAS_PARA_EXPIRAR||1),"customizada"===this.tipoDePolitica?this.salvarIntegracaoSugestaoAlcada({nomeAlcadaCustomizada:this.form?.PROJURIS_SOAP_ESTRATEGIA_PERSONALIZADA||""}):this.salvarIntegracaoSugestaoAlcada({percentuais:{[this.form?.PROJURIS_SOAP_VALOR_BASE]:this.form?.PROJURIS_SOAP_PORCENTAGEM_ALCADA_MAXIMA||75}})])},atualizarTipoDePolitica(a){"customizada"===a?(this.form.PROJURIS_SOAP_VALOR_BASE="nomeAlcadaCustomizada",this.buscarIntegracaoSugestaoAlcadaAlcadaCustomizada()):(this.form.PROJURIS_SOAP_VALOR_BASE="",this.form.PROJURIS_SOAP_ESTRATEGIA_PERSONALIZADA="",this.buscarIntegracaoSugestaoAlcadaPercentuais())}}},r=n,c=(i(81827),i(1001)),l=(0,c.Z)(r,o,e,!1,null,null,null),_=l.exports},60065:function(a,t,i){"use strict";i.r(t);var o=i(87537),e=i.n(o),s=i(23645),A=i.n(s),n=A()(e());n.push([a.id,'.politica-negociacao__form .politica-negociacao__form-item{display:flex;flex-direction:column;align-items:center;margin:0}.politica-negociacao__form .politica-negociacao__form-item .el-form-item__label{font-size:1rem!important}.politica-negociacao__form .politica-negociacao__form-item .el-form-item__content{display:flex;justify-content:center;align-items:center}.politica-negociacao__form .politica-negociacao__form-item .el-form-item__content>span:after,.politica-negociacao__form .politica-negociacao__form-item .el-form-item__content>span:before{content:" "}',"",{version:3,sources:["webpack://./src/views/main/configurations/partials/FeaturesAndModulesDialogs/partials/partials/partials/FormularioPoliticaNegociacao.vue"],names:[],mappings:"AAAA,2DAEE,YACE,CAAA,qBACA,CAAA,kBACA,CAAA,QACA,CAAA,gFAEA,wBACE,CAAA,kFAGF,YACE,CAAA,sBACA,CAAA,kBACA,CAAA,2LAGE,WACE",sourcesContent:["\n.politica-negociacao__form {\n  .politica-negociacao__form-item {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin: 0;\n\n    .el-form-item__label {\n      font-size: 1rem !important;\n    }\n\n    .el-form-item__content {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n\n      & > span {\n        &::before, &::after {\n          content: '\\00a0'\n        }\n      }\n    }\n  }\n}\n"],sourceRoot:""}]),t["default"]=n},81827:function(a,t,i){var o=i(60065);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[a.id,o,""]]),o.locals&&(a.exports=o.locals);var e=i(39185).Z;e("5705633b",o,!0,{sourceMap:!0,shadowMode:!1})}}]);
//# sourceMappingURL=5636.js.map