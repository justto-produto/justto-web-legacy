(self["webpackChunk_projuris_justto_web"]=self["webpackChunk_projuris_justto_web"]||[]).push([[5794],{55794:function(e,o,t){"use strict";t.r(o),t.d(o,{default:function(){return _}});var i=function(){var e=this,o=e._self._c;return o("el-dialog",{attrs:{visible:e.dialogVisible,width:"60%","append-to-body":"","destroy-on-close":"","custom-class":"webhook-config__modal","show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(o){e.dialogVisible=o}}},[o("header",{attrs:{slot:"title"},slot:"title"},[o("span",{staticClass:"webhook-config__title"},[e._v("Configurações de integração")]),o("JusIcon",{attrs:{icon:"webhook",size:"48px"}})],1),o("article",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"webhook-config__body"},[o("span",[e._v("Configure as chamadas webhooks entre os sistemas.")]),o("div",{staticClass:"webhook-config__tipo-disputa"},[o("main",[o("el-switch",{staticClass:"webhook-config__url__switch",attrs:{"active-text":"Processo","active-value":"PROCESSO","inactive-text":"Procon","inactive-value":"PROCON"},on:{change:e.open},model:{value:e.integracaoTipoDeDisputas,callback:function(o){e.integracaoTipoDeDisputas=o},expression:"integracaoTipoDeDisputas"}})],1)]),o("div",{staticClass:"webhook-config__url"},[o("header",[e._v(" Utilize o enderego abaixo para configurar o envio de eventos do Projuris Empresa que sero recebidos aqui no Projuris Acordos: ")]),o("main",[o("el-input",{attrs:{value:e.url,size:"mini",disabled:""}},[o("el-button",{staticClass:"is-pointer",attrs:{slot:"append",type:"transparent",icon:"el-icon-copy-document"},on:{click:function(o){return e.copyToClipboard(e.url)}},slot:"append"})],1)],1)]),o("div",{staticClass:"webhook-config__list"},[o("header",[e._v(" Adicione abaixo os endereços dos sistemas que desejam receber eventos das disputas desta workspace. Seus callbacks irão receber um JSON contendo a disputa inteira. ")]),o("main",[o("el-table",{staticClass:"w100",attrs:{data:e.webhooks}},[o("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return o("el-row",{attrs:{gutter:20}},[Object.keys(t.row).includes("authType")?o("el-col",{attrs:{offset:1,span:23}},[o("el-row",[o("el-col",[e._v(" "+e._s(e.$tc(`configurations.authorization.type.${t.row.authType}`))+" ")]),t.row.username?o("el-col",[e._v(" Username: "),o("el-tag",{attrs:{size:"mini"}},[e._v(" "+e._s(t.row.username)+" ")])],1):e._e(),t.row.username?o("el-col",[e._v(" Senha: "),o("el-tag",{attrs:{size:"mini"}},[e._v(" "+e._s("*".repeat(t.row.password.length))+" ")])],1):e._e(),t.row.token?o("el-col",[e._v(" Token: "),o("el-tag",{attrs:{size:"mini"}},[e._v(" "+e._s(t.row.token)+" ")])],1):e._e()],1)],1):o("el-col",{attrs:{offset:1,span:23}},[e._v(" Autenticação não definida. ")])],1)}}])}),o("el-table-column",{attrs:{label:"URL",prop:"url"}}),o("el-table-column",{attrs:{fixed:"right",width:"135"},scopedSlots:e._u([{key:"default",fn:function(t){return o("span",{},[o("span",{staticClass:"is-pointer float-right",on:{click:function(o){return e.handleRemoveWebhook(t.$index)}}},[o("i",{staticClass:"el-icon-delete"})])])}}])},[o("span",{attrs:{slot:"header"},slot:"header"},[o("el-button",{staticClass:"float-right",attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.handleAddWebhook}},[e._v(" Adicionar ")])],1)])],1)],1)])]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:e.close}},[e._v("Voltar")])],1),o("DialogAdicionarWebhook",{ref:"adicionarWebhook"})],1)},a=[],n=t(90408),s=t(40917),l={components:{DialogAdicionarWebhook:()=>t.e(3908).then(t.bind(t,63908))},data:()=>({dialogVisible:!1,loading:!1,integracaoTipoDeDisputas:"PROCESSO"}),computed:{...(0,n.Se)({fields:"getIntegrationConfigs",webhooks:"getIntegrationWebhooks",url:"getUrlIntegracaoReceberEventos"})},methods:{...(0,n.nv)(["getUrlIntegracaoReceberEventos","saveIntegrationWebhooks","getIntegrationWebhooks"]),copyToClipboard:s.OJ,open(){this.loading=!0,this.dialogVisible=!0,this.handlePopulateWebhooks().finally((()=>setTimeout((()=>{this.loading=!1}),500)))},close(){this.dialogVisible=!1},handlePopulateWebhooks(){return Promise.all([this.getUrlIntegracaoReceberEventos({tipo:this.integracaoTipoDeDisputas}),this.getIntegrationWebhooks()])},handleAddWebhook(){this.$refs.adicionarWebhook.open((e=>{this.handleSaveWebhooks([...this.webhooks,e])}))},handleRemoveWebhook(e){this.handleSaveWebhooks(this.webhooks.filter(((o,t)=>t!==e)))},handleSaveWebhooks(e=[]){return this.saveIntegrationWebhooks(e).then((()=>this.$jusNotification({type:"success",message:"Sucesso."}))).catch((e=>this.$jusNotification({error:e})))}}},r=l,c=(t(56717),t(1001)),d=(0,c.Z)(r,i,a,!1,null,"64de3b94",null),_=d.exports},78110:function(e,o,t){"use strict";t.r(o);var i=t(87537),a=t.n(i),n=t(23645),s=t.n(n),l=s()(a());l.push([e.id,".webhook-config__modal .el-dialog__header header[data-v-64de3b94]{display:flex;justify-content:space-between;align-items:center}.webhook-config__modal .el-dialog__header header .webhook-config__title[data-v-64de3b94]{font-size:1.25rem;font-weight:700}.webhook-config__modal .el-dialog__body .webhook-config__body[data-v-64de3b94]{display:flex;flex-direction:column;gap:1rem}.webhook-config__modal .el-dialog__body .webhook-config__body .webhook-config__list[data-v-64de3b94],.webhook-config__modal .el-dialog__body .webhook-config__body .webhook-config__list main[data-v-64de3b94],.webhook-config__modal .el-dialog__body .webhook-config__body .webhook-config__url[data-v-64de3b94],.webhook-config__modal .el-dialog__body .webhook-config__body .webhook-config__url main[data-v-64de3b94]{display:flex;flex-direction:column;gap:8px}.webhook-config__modal .el-dialog__body .webhook-config__body .webhook-config__list footer[data-v-64de3b94],.webhook-config__modal .el-dialog__body .webhook-config__body .webhook-config__url footer[data-v-64de3b94]{display:flex;justify-content:center}.webhook-config__modal .el-dialog__body .webhook-config__body .webhook-config__tipo-disputa[data-v-64de3b94]{text-align:center}","",{version:3,sources:["webpack://./src/views/main/configurations/partials/FeaturesAndModulesDialogs/partials/partials/IntegrationWebhookConfig.vue"],names:[],mappings:"AAGI,kEACE,YAAA,CACA,6BAAA,CACA,kBAAA,CAEA,yFACE,iBAAA,CACA,eAAA,CAMJ,+EACE,YAAA,CACA,qBAAA,CACA,QAAA,CAOE,4ZAJA,YAAA,CACA,qBAAA,CACA,OAKE,CAGF,uNACE,YAAA,CACA,sBAAA,CAIJ,6GACE,iBAAA",sourcesContent:["\n.webhook-config__modal {\n  .el-dialog__header {\n    header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n\n      .webhook-config__title {\n        font-size: 1.25rem;\n        font-weight: 700;\n      }\n    }\n  }\n\n  .el-dialog__body {\n    .webhook-config__body {\n      display: flex;\n      flex-direction: column;\n      gap: 1rem;\n      .webhook-config__url,\n      .webhook-config__list {\n        display: flex;\n        flex-direction: column;\n        gap: 8px;\n\n        main {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n        }\n\n        footer {\n          display: flex;\n          justify-content: center;\n        }\n      }\n\n      .webhook-config__tipo-disputa {\n        text-align: center;\n      }\n    }\n  }\n}\n"],sourceRoot:""}]),o["default"]=l},56717:function(e,o,t){var i=t(78110);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);var a=t(39185).Z;a("7f9eec30",i,!0,{sourceMap:!0,shadowMode:!1})}}]);
//# sourceMappingURL=5794.js.map