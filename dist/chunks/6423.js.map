{"version":3,"file":"chunks/6423.js","mappings":"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","sources":["webpack://@projuris/justto-web/./src/views/main/negotiation/partials/ticket/omnichannel/occurrences/occurrence/log/Summary.vue","webpack://@projuris/justto-web/./src/views/main/negotiation/partials/ticket/omnichannel/occurrences/occurrence/log/models/index.js","webpack://@projuris/justto-web/src/views/main/negotiation/partials/ticket/omnichannel/occurrences/occurrence/log/Summary.vue","webpack://@projuris/justto-web/./src/views/main/negotiation/partials/ticket/omnichannel/occurrences/occurrence/log/Summary.vue?26a3","webpack://@projuris/justto-web/./src/views/main/negotiation/partials/ticket/omnichannel/occurrences/occurrence/log/Summary.vue?e82f","webpack://@projuris/justto-web/./src/views/main/negotiation/partials/ticket/omnichannel/occurrences/occurrence/log/Summary.vue?6ef5","webpack://@projuris/justto-web/./src/views/main/negotiation/partials/ticket/omnichannel/occurrences/occurrence/log/Summary.vue?a7e5"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.isGrouping)?_c('section',{staticClass:\"summary-container\"},_vm._l((_vm.renderItems),function(summaryItem,summaryItemIndex){return _c('div',{key:`summary-item-${summaryItemIndex}`,staticClass:\"summary-container__item\",attrs:{\"id\":`summary-item-${summaryItemIndex}`}},[_c('span',{staticClass:\"summary-container__item-header\"},[_vm._v(\" \"+_vm._s(summaryItem.count)+\" \"+_vm._s(summaryItem.type)+\" para \"+_vm._s(summaryItem.personName)+\" \")]),_vm._l((_vm.summarys[summaryItem.type]),function(occurrenceItem,occurrenceItemIndex){return _c('span',{key:`summary-occurrence-item-${occurrenceItemIndex}`,staticClass:\"summary-container__item-occurrence-item\"},[_c('span',{staticClass:\"summary-container__item-occurrence-item-title\"},[_vm._v(\" Mensagem \"+_vm._s(occurrenceItemIndex + 1)+\" do agendamento \")]),_c('Scheduler',{staticClass:\"summary-container__item-occurrence-item-body\",class:{ 'is-full': _vm.isInFullMessages(occurrenceItem.summaryOccurrence.messageId) },attrs:{\"value\":occurrenceItem.occurrence.interaction,\"occurrence\":occurrenceItem.occurrence,\"hidden-contact-info\":\"\",\"hidden-send-status\":\"\"}}),_c('div',{staticClass:\"summary-container__item-occurrence-item-status\"},[_c('span',{staticClass:\"summary-container__item-occurrence-item-status-message\"},[_c('i',{staticClass:\"el-icon-edit\"}),_c('span',{staticClass:\"summary-container__item-occurrence-item-status-message-body\"},[_c('span',{staticClass:\"summary-container__item-occurrence-item-status-message-body-normal\"},[_vm._v(\" Mensagem criada em aqui \")]),_c('span',{staticClass:\"summary-container__item-occurrence-item-status-message-body-date\"},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(occurrenceItem.summaryOccurrence.createAt.dateTime,'DD/MM [às] HH:mm'))+\" \")])])]),_vm._l(((occurrenceItem.summaryOccurrence.messagesStatus || [])),function(messageStatus,statusIndex){return _c('span',{key:`message-status-${statusIndex}`,staticClass:\"summary-container__item-occurrence-item-status-message\"},[_c('i',{class:_vm._f(\"getIconByStatus\")(messageStatus.status)}),_c('span',{staticClass:\"summary-container__item-occurrence-item-status-message-body\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.buildMessage(messageStatus, summaryItem.type, summaryItemIndex))}})])])})],2),_c('el-divider',{staticClass:\"summary-container__item-occurrence-item-divider\"})],1)})],2)}),0):_c('article',[_c('Summary',{attrs:{\"value\":_vm.occurrence}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","class SummaryVM {\n  constructor({ type, count, personName, disputeRoleId }) {\n    this.type = type\n    this.count = count\n    this.personName = personName\n    this.disputeRoleId = disputeRoleId\n  }\n\n  get getType() {\n    return this.type\n  }\n}\n\nclass SummaryMessage {\n  constructor({ communicationType, createdBy, messageId, resume, status, sender, receiver }) {\n    this.sender = sender\n    this.status = status\n    this.resume = resume\n    this.receiver = receiver\n    this.createdBy = createdBy\n    this.messageId = messageId\n    this.communicationType = communicationType\n  }\n\n  get getMessageId() {\n    return this.messageId\n  }\n}\n\nclass SummaryInteraction {\n  constructor({ createAt, updateAt, type, properties, message }) {\n    this.type = type\n    this.createAt = createAt\n    this.updateAt = updateAt\n    this.properties = properties\n    this.message = message ? new SummaryMessage(message) : null\n  }\n\n  get messageId() {\n    return this.message?.messageId || new Date().toISOString()\n  }\n\n  get messageStatus() {\n    return this.message?.status || 'WAITING'\n  }\n\n  get messageReceiver() {\n    return this.message.receiver || 'nao@definido.com'\n  }\n}\n\nclass SummaryOccurrence {\n  constructor({ createAt, updateAt, interaction, description, disputeId, properties, type }) {\n    this.type = type\n    this.createAt = createAt\n    this.updateAt = updateAt\n    this.disputeId = disputeId\n    this.properties = properties\n    this.description = description || ''\n    this.interaction = interaction ? new SummaryInteraction(interaction) : null\n  }\n\n  get messageId() {\n    return this.interaction.messageId\n  }\n\n  get groupedOccurrences() {\n    return JSON.parse((this.properties.GROUPED_OCCURRENCES || '[]').replace(/'/g, '\"'))\n  }\n\n  get messageReceiver() {\n    return this.interaction.messageReceiver\n  }\n\n  get messagesStatus() {\n    return [\n      {\n        receiver: this.messageReceiver,\n        status: this.interaction.messageStatus,\n        date: this.createAt.dateTime\n      },\n      ...this.groupedOccurrences\n    ]\n  }\n}\n\nexport {\n  SummaryVM,\n  SummaryMessage,\n  SummaryInteraction,\n  SummaryOccurrence\n}\n","<template>\n  <section\n    v-if=\"!isGrouping\"\n    class=\"summary-container\"\n  >\n    <div\n      v-for=\"(summaryItem, summaryItemIndex) in renderItems\"\n      :id=\"`summary-item-${summaryItemIndex}`\"\n      :key=\"`summary-item-${summaryItemIndex}`\"\n      class=\"summary-container__item\"\n    >\n      <span class=\"summary-container__item-header\">\n        {{ summaryItem.count }} {{ summaryItem.type }} para {{ summaryItem.personName }}\n      </span>\n\n      <span\n        v-for=\"(occurrenceItem, occurrenceItemIndex) in summarys[summaryItem.type]\"\n        :key=\"`summary-occurrence-item-${occurrenceItemIndex}`\"\n        class=\"summary-container__item-occurrence-item\"\n      >\n        <span class=\"summary-container__item-occurrence-item-title\">\n          Mensagem {{ occurrenceItemIndex + 1 }} do agendamento\n        </span>\n\n        <Scheduler\n          :value=\"occurrenceItem.occurrence.interaction\"\n          :occurrence=\"occurrenceItem.occurrence\"\n          hidden-contact-info\n          hidden-send-status\n          class=\"summary-container__item-occurrence-item-body\"\n          :class=\"{ 'is-full': isInFullMessages(occurrenceItem.summaryOccurrence.messageId) }\"\n        />\n\n        <div class=\"summary-container__item-occurrence-item-status\">\n          <span class=\"summary-container__item-occurrence-item-status-message\">\n            <i class=\"el-icon-edit\" />\n            <span class=\"summary-container__item-occurrence-item-status-message-body\">\n              <span class=\"summary-container__item-occurrence-item-status-message-body-normal\">\n                Mensagem criada em aqui\n              </span>\n              <span class=\"summary-container__item-occurrence-item-status-message-body-date\">\n                {{ occurrenceItem.summaryOccurrence.createAt.dateTime | moment('DD/MM [às] HH:mm') }}\n              </span>\n            </span>\n          </span>\n\n          <span\n            v-for=\"(messageStatus, statusIndex) in (occurrenceItem.summaryOccurrence.messagesStatus || [])\"\n            :key=\"`message-status-${statusIndex}`\"\n            class=\"summary-container__item-occurrence-item-status-message\"\n          >\n            <i :class=\"messageStatus.status | getIconByStatus\" />\n            <span class=\"summary-container__item-occurrence-item-status-message-body\">\n              <span v-html=\"buildMessage(messageStatus, summaryItem.type, summaryItemIndex)\" />\n            </span>\n          </span>\n\n        </div>\n\n        <el-divider class=\"summary-container__item-occurrence-item-divider\" />\n      </span>\n    </div>\n  </section>\n\n  <article v-else>\n    <Summary :value=\"occurrence\" />\n  </article>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex'\nimport {\n  SummaryVM,\n  SummaryOccurrence\n} from './models/index'\n\nexport default {\n  components: {\n    Scheduler: () => import('@/views/main/negotiation/partials/ticket/omnichannel/occurrences/occurrence/interaction/partials/Scheduler'),\n    Summary: () => import('@/views/main/negotiation/partials/ticket/omnichannel/occurrences/occurrence/summary/Summary')\n  },\n\n  filters: {\n    getIconByStatus(status) {\n      switch (status) {\n        case 'WAITING':\n          return 'el-icon-timer'\n        case 'PROCESSED':\n        case 'PROCESSED_BY_USER':\n          return 'el-icon-check'\n        case 'RETRYING':\n          return 'el-icon-refresh'\n        default:\n          return 'el-icon-close'\n      }\n    }\n  },\n\n  props: {\n    occurrence: {\n      type: Object,\n      required: true\n    },\n    summary: {\n      type: Object,\n      required: true\n    }\n  },\n\n  data: () => ({\n    communicationTypes: ['EMAIL', 'WHATSAPP', 'SMS']\n  }),\n\n  computed: {\n    ...mapGetters({\n      fullMessages: 'getFullMessages',\n      summaryKeys: 'getOccurrencesSummaryKeys',\n      summaryOccurrences: 'getOccurrencesSummary',\n      userConfigs: 'userProperties'\n    }),\n\n    renderItems() {\n      return [\n        ...(this.summary.email > 0 ? [new SummaryVM({ type: 'email', count: this.summary.email, ...this.summary })] : []),\n        ...(this.summary.whatsApp > 0 ? [new SummaryVM({ type: 'whatsApp', count: this.summary.whatsApp, ...this.summary })] : []),\n        ...(this.summary.sms > 0 ? [new SummaryVM({ type: 'sms', count: this.summary.sms, ...this.summary })] : [])\n      ]\n    },\n\n    summarys() {\n      return {\n        email: (this.summaryOccurrences.EMAIL[this.occurrence.id] || []).map(item => ({\n          occurrence: item,\n          summaryOccurrence: new SummaryOccurrence(item)\n        })),\n\n        whatsApp: (this.summaryOccurrences.WHATSAPP[this.occurrence.id] || []).map(item => ({\n          occurrence: item,\n          summaryOccurrence: new SummaryOccurrence(item)\n        })),\n\n        sms: (this.summaryOccurrences.SMS[this.occurrence.id] || []).map(item => ({\n          occurrence: item,\n          summaryOccurrence: new SummaryOccurrence(item)\n        }))\n      }\n    },\n\n    isGrouping() {\n      return this.userConfigs?.OMNICHANNEL_GROUPING_TYPE === 'GROUPED'\n    }\n  },\n\n  mounted() {\n    this.communicationTypes.forEach(communicationType => {\n      this.getOccurrences(communicationType)\n    })\n  },\n\n  methods: {\n    ...mapActions([\n      'getSummaryOccurrecies'\n    ]),\n\n    buildMessage({ status, date, receiver }, messageType, index) {\n      const { phoneOrEmail, capitalize } = this.$options.filters\n      const formatDate = (date) => this.$moment(date).format('DD/MM [às] HH:mm')\n      const element = document.getElementById(`summary-item-${index}`) || { offsetWidth: 0 }\n      const breakTag = element.offsetWidth < 500 ? '<br/>' : ''\n\n      let message = ''\n\n      switch (status) {\n        case 'WAITING':\n          message = `${messageType} agendado para ${formatDate(date)} para <b>${phoneOrEmail(receiver)}</b>.`\n          break\n        case 'PROCESSED':\n        case 'PROCESSED_BY_USER':\n          message = `${messageType} enviado em ${formatDate(date)} para <b>${phoneOrEmail(receiver)}</b>.`\n          break\n        case 'FAILED':\n          message = `Falhou o envio para o ${messageType} <b>${phoneOrEmail(receiver)}</b>${breakTag} em ${formatDate(date)}.`\n          break\n        case 'CANCELED':\n          message = `Envio de ${messageType} para <b>${phoneOrEmail(receiver)}</b>${breakTag} cancelado em ${formatDate(date)}.`\n          break\n        case 'RETRYING':\n          message = `Estamos retentando enviar ${messageType} para <b>${phoneOrEmail(receiver)}</b>.${breakTag} O primeiro envio falhou em ${formatDate(date)}.`\n          break\n        default:\n          message = `${messageType} com status ${status}.`\n          break\n      }\n\n      return capitalize(message)\n    },\n\n    getOccurrences(communicationType) {\n      this.disputeId = this.$route.params.id\n\n      this.getSummaryOccurrecies({\n        disputeId: this.disputeId,\n        summaryRoleId: this.summary.disputeRoleId,\n        communicationType,\n        summaryOccurrenceId: this.occurrence.id\n      })\n    },\n\n    stateOccurrence(occurrence) {\n      return new SummaryOccurrence(occurrence)\n    },\n\n    isInFullMessages(item) {\n      return Object.keys(this.fullMessages).map(key => String(key)).includes(String(item))\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '~projuris-acordos-theme/src/common/colors.scss';\n\n.summary-container {\n  width: 85%;\n  margin-top: 16px;\n\n  .summary-container__item {\n    width: 100%;\n    border: 3px solid #FFF1C8;\n    border-radius: 10px;\n    padding: 0 16px 16px;\n\n    display: flex;\n    flex-direction: column;\n\n    justify-content: center;\n    align-items: center;\n\n    .summary-container__item-header {\n      background-color: #FFF1C8;\n      color: $--color-black;\n      padding: 8px;\n      border-radius: 10px;\n\n      margin-top: -18px;\n      margin-bottom: 16px;\n    }\n\n    .summary-container__item-occurrence-item {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      gap: 8px;\n\n      &:last-child {\n        .el-divider {\n          display: none;\n        }\n      }\n\n      .summary-container__item-occurrence-item-title {\n        color: $--color-primary;\n        font-weight: 600;\n      }\n\n      .summary-container__item-occurrence-item-body {\n        width: 100%;\n\n        &.is-full {\n          width: 85%;\n          overflow-x: scroll;\n          overflow-y: hidden;\n        }\n      }\n\n      .summary-container__item-occurrence-item-status {\n        display: flex;\n        flex-direction: column;\n        width: 100%;\n        align-items: flex-start;\n        gap: 4px;\n        font-size: 12px;\n\n        .summary-container__item-occurrence-item-status-message {\n          display: flex;\n          gap: 4px;\n          justify-content: flex-start;\n          align-items: flex-start;\n\n          [class*=\"el-icon-\"] {\n            margin-top: 3px;\n          }\n\n          .el-icon-edit {\n            font-weight: 800;\n            color: #BBBBBB;\n          }\n\n          .el-icon-check {\n            font-weight: 800;\n            color: $--color-success;\n          }\n\n          .el-icon-timer,\n          .el-icon-refresh {\n            font-weight: 800;\n            color: $--color-warning;\n          }\n\n          .el-icon-close {\n            color: $--color-danger;\n            font-weight: 800;\n          }\n\n          .summary-container__item-occurrence-item-status-message-body {\n            color: $--color-text-secondary;\n\n            b {\n              font-weight: normal;\n              color: $--color-text-primary;\n            }\n            /* .summary-container__item-occurrence-item-status-message-body-normal,\n            .summary-container__item-occurrence-item-status-message-body-status,\n            .summary-container__item-occurrence-item-status-message-body-date {\n              color: $--color-text-secondary;\n            }\n\n            .summary-container__item-occurrence-item-status-message-body-adress {\n              color: $--color-text-primary;\n            }*/\n          }\n        }\n      }\n\n      .summary-container__item-occurrence-item-divider {\n        height: 3px;\n        background-color: #FFF1C8;\n        width: 80%;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Summary.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Summary.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Summary.vue?vue&type=template&id=6022ea52&\"\nimport script from \"./Summary.vue?vue&type=script&lang=js&\"\nexport * from \"./Summary.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Summary.vue?vue&type=style&index=0&id=6022ea52&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".summary-container{width:85%;margin-top:16px}.summary-container .summary-container__item{width:100%;border:3px solid #fff1c8;border-radius:10px;padding:0 16px 16px;display:flex;flex-direction:column;justify-content:center;align-items:center}.summary-container .summary-container__item .summary-container__item-header{background-color:#fff1c8;color:#424242;padding:8px;border-radius:10px;margin-top:-18px;margin-bottom:16px}.summary-container .summary-container__item .summary-container__item-occurrence-item{display:flex;flex-direction:column;align-items:center;gap:8px}.summary-container .summary-container__item .summary-container__item-occurrence-item:last-child .el-divider{display:none}.summary-container .summary-container__item .summary-container__item-occurrence-item .summary-container__item-occurrence-item-title{color:#0756e4;font-weight:600}.summary-container .summary-container__item .summary-container__item-occurrence-item .summary-container__item-occurrence-item-body{width:100%}.summary-container .summary-container__item .summary-container__item-occurrence-item .summary-container__item-occurrence-item-body.is-full{width:85%;overflow-x:scroll;overflow-y:hidden}.summary-container .summary-container__item .summary-container__item-occurrence-item .summary-container__item-occurrence-item-status{display:flex;flex-direction:column;width:100%;align-items:flex-start;gap:4px;font-size:12px}.summary-container .summary-container__item .summary-container__item-occurrence-item .summary-container__item-occurrence-item-status .summary-container__item-occurrence-item-status-message{display:flex;gap:4px;justify-content:flex-start;align-items:flex-start}.summary-container .summary-container__item .summary-container__item-occurrence-item .summary-container__item-occurrence-item-status .summary-container__item-occurrence-item-status-message [class*=el-icon-]{margin-top:3px}.summary-container .summary-container__item .summary-container__item-occurrence-item .summary-container__item-occurrence-item-status .summary-container__item-occurrence-item-status-message .el-icon-edit{font-weight:800;color:#bbb}.summary-container .summary-container__item .summary-container__item-occurrence-item .summary-container__item-occurrence-item-status .summary-container__item-occurrence-item-status-message .el-icon-check{font-weight:800;color:#14cc30}.summary-container .summary-container__item .summary-container__item-occurrence-item .summary-container__item-occurrence-item-status .summary-container__item-occurrence-item-status-message .el-icon-refresh,.summary-container .summary-container__item .summary-container__item-occurrence-item .summary-container__item-occurrence-item-status .summary-container__item-occurrence-item-status-message .el-icon-timer{font-weight:800;color:#ffc900}.summary-container .summary-container__item .summary-container__item-occurrence-item .summary-container__item-occurrence-item-status .summary-container__item-occurrence-item-status-message .el-icon-close{color:#ff4b54;font-weight:800}.summary-container .summary-container__item .summary-container__item-occurrence-item .summary-container__item-occurrence-item-status .summary-container__item-occurrence-item-status-message .summary-container__item-occurrence-item-status-message-body{color:#979797}.summary-container .summary-container__item .summary-container__item-occurrence-item .summary-container__item-occurrence-item-status .summary-container__item-occurrence-item-status-message .summary-container__item-occurrence-item-status-message-body b{font-weight:400;color:#424242}.summary-container .summary-container__item .summary-container__item-occurrence-item .summary-container__item-occurrence-item-divider{height:3px;background-color:#fff1c8;width:80%}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/views/main/negotiation/partials/ticket/omnichannel/occurrences/occurrence/log/Summary.vue\",\"webpack://./node_modules/projuris-acordos-theme/src/common/colors.scss\"],\"names\":[],\"mappings\":\"AAGA,mBACE,SAAA,CACA,eAAA,CAEA,4CACE,UAAA,CACA,wBAAA,CACA,kBAAA,CACA,mBAAA,CAEA,YAAA,CACA,qBAAA,CAEA,sBAAA,CACA,kBAAA,CAEA,4EACE,wBAAA,CACA,aCjBU,CDkBV,WAAA,CACA,kBAAA,CAEA,gBAAA,CACA,kBAAA,CAGF,qFACE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,OAAA,CAGE,4GACE,YAAA,CAIJ,oIACE,aC9BU,CD+BV,eAAA,CAGF,mIACE,UAAA,CAEA,2IACE,SAAA,CACA,iBAAA,CACA,iBAAA,CAIJ,qIACE,YAAA,CACA,qBAAA,CACA,UAAA,CACA,sBAAA,CACA,OAAA,CACA,cAAA,CAEA,6LACE,YAAA,CACA,OAAA,CACA,0BAAA,CACA,sBAAA,CAEA,+MACE,cAAA,CAGF,2MACE,eAAA,CACA,UAAA,CAGF,4MACE,eAAA,CACA,aClCM,CDqCR,0ZAEE,eAAA,CACA,aCvCM,CD0CR,4MACE,aC1CK,CD2CL,eAAA,CAGF,0PACE,aC3FG,CD6FH,4PACE,eAAA,CACA,aChGE,CD+GV,sIACE,UAAA,CACA,wBAAA,CACA,SAAA\",\"sourcesContent\":[\"\\n@import '~projuris-acordos-theme/src/common/colors.scss';\\n\\n.summary-container {\\n  width: 85%;\\n  margin-top: 16px;\\n\\n  .summary-container__item {\\n    width: 100%;\\n    border: 3px solid #FFF1C8;\\n    border-radius: 10px;\\n    padding: 0 16px 16px;\\n\\n    display: flex;\\n    flex-direction: column;\\n\\n    justify-content: center;\\n    align-items: center;\\n\\n    .summary-container__item-header {\\n      background-color: #FFF1C8;\\n      color: $--color-black;\\n      padding: 8px;\\n      border-radius: 10px;\\n\\n      margin-top: -18px;\\n      margin-bottom: 16px;\\n    }\\n\\n    .summary-container__item-occurrence-item {\\n      display: flex;\\n      flex-direction: column;\\n      align-items: center;\\n      gap: 8px;\\n\\n      &:last-child {\\n        .el-divider {\\n          display: none;\\n        }\\n      }\\n\\n      .summary-container__item-occurrence-item-title {\\n        color: $--color-primary;\\n        font-weight: 600;\\n      }\\n\\n      .summary-container__item-occurrence-item-body {\\n        width: 100%;\\n\\n        &.is-full {\\n          width: 85%;\\n          overflow-x: scroll;\\n          overflow-y: hidden;\\n        }\\n      }\\n\\n      .summary-container__item-occurrence-item-status {\\n        display: flex;\\n        flex-direction: column;\\n        width: 100%;\\n        align-items: flex-start;\\n        gap: 4px;\\n        font-size: 12px;\\n\\n        .summary-container__item-occurrence-item-status-message {\\n          display: flex;\\n          gap: 4px;\\n          justify-content: flex-start;\\n          align-items: flex-start;\\n\\n          [class*=\\\"el-icon-\\\"] {\\n            margin-top: 3px;\\n          }\\n\\n          .el-icon-edit {\\n            font-weight: 800;\\n            color: #BBBBBB;\\n          }\\n\\n          .el-icon-check {\\n            font-weight: 800;\\n            color: $--color-success;\\n          }\\n\\n          .el-icon-timer,\\n          .el-icon-refresh {\\n            font-weight: 800;\\n            color: $--color-warning;\\n          }\\n\\n          .el-icon-close {\\n            color: $--color-danger;\\n            font-weight: 800;\\n          }\\n\\n          .summary-container__item-occurrence-item-status-message-body {\\n            color: $--color-text-secondary;\\n\\n            b {\\n              font-weight: normal;\\n              color: $--color-text-primary;\\n            }\\n            /* .summary-container__item-occurrence-item-status-message-body-normal,\\n            .summary-container__item-occurrence-item-status-message-body-status,\\n            .summary-container__item-occurrence-item-status-message-body-date {\\n              color: $--color-text-secondary;\\n            }\\n\\n            .summary-container__item-occurrence-item-status-message-body-adress {\\n              color: $--color-text-primary;\\n            }*/\\n          }\\n        }\\n      }\\n\\n      .summary-container__item-occurrence-item-divider {\\n        height: 3px;\\n        background-color: #FFF1C8;\\n        width: 80%;\\n      }\\n    }\\n  }\\n}\\n\",\"/* Colors\\n-------------------------- */\\n\\n$--color-white: #fff !default;\\n$--color-black: #424242 !default;\\n$--color-gray: #979797 !default;\\n$--color-gray-light-1: mix($--color-white, $--color-gray, 10%) !default;\\n$--color-light-gray: #f3f4f5 !default;\\n$--color-whatsapp: #075E54 !default;\\n\\n$--pj-color-darker-blue: #0A0022 !default;\\n$--pj-color-dark-blue: #280BA0 !default;\\n$--pj-color-blue: #0756e4 !default;\\n$--pj-color-light-blue: #018EF0 !default;\\n$--pj-color-lighter-blue: #30A9FB !default;\\n$--pj-color-white-blue: #F0F9FE !default;\\n$--pj-color-disabled-blue: #9ad2f9 !default;\\n\\n$-pg-color-overlay: #19415F !default;\\n\\n$--pj-color-red: #CC4148 !default;\\n$--pj-color-light-red: #EC767C !default;\\n$--pj-color-disable-red: #FFF2F3 !default;\\n\\n$--color-primary: $--pj-color-blue !default;\\n$--color-primary-light-1: mix($--color-white, $--color-primary, 10%) !default;\\n$--color-primary-light-2: mix($--color-white, $--color-primary, 20%) !default;\\n$--color-primary-light-3: mix($--color-white, $--color-primary, 30%) !default;\\n$--color-primary-light-4: mix($--color-white, $--color-primary, 40%) !default;\\n$--color-primary-light-5: mix($--color-white, $--color-primary, 50%) !default;\\n$--color-primary-light-6: mix($--color-white, $--color-primary, 60%) !default;\\n$--color-primary-light-7: mix($--color-white, $--color-primary, 70%) !default;\\n$--color-primary-light-8: mix($--color-white, $--color-primary, 80%) !default;\\n$--color-primary-light-9: mix($--color-white, $--color-primary, 90%) !default;\\n\\n$--color-secondary: $--pj-color-light-blue !default;\\n$--color-secondary-light-1: mix($--color-white, $--color-secondary, 10%) !default;\\n$--color-secondary-light-2: mix($--color-white, $--color-secondary, 20%) !default;\\n$--color-secondary-light-3: mix($--color-white, $--color-secondary, 30%) !default;\\n$--color-secondary-light-4: mix($--color-white, $--color-secondary, 40%) !default;\\n$--color-secondary-light-5: mix($--color-white, $--color-secondary, 50%) !default;\\n$--color-secondary-light-6: mix($--color-white, $--color-secondary, 60%) !default;\\n$--color-secondary-light-7: mix($--color-white, $--color-secondary, 70%) !default;\\n$--color-secondary-light-8: mix($--color-white, $--color-secondary, 80%) !default;\\n$--color-secondary-light-9: mix($--color-white, $--color-secondary, 90%) !default;\\n\\n$--color-primary-dark: $--pj-color-dark-blue !default;\\n$--color-success: #14CC30 !default;\\n$--color-warning: #FFC900 !default;\\n$--color-danger: #FF4B54 !default;\\n$--color-info: #2FBBEC !default;\\n\\n$--color-success-light-1: mix($--color-white, $--color-success, 10%) !default;\\n$--color-success-light-5: mix($--color-white, $--color-success, 50%) !default;\\n$--color-warning-light-5: mix($--color-white, $--color-warning, 50%) !default;\\n$--color-danger-light-5: mix($--color-white, $--color-danger, 50%) !default;\\n$--color-danger-light-3: mix($--color-white, $--color-danger, 30%) !default;\\n$--color-info-light-5: mix($--color-white, $--color-info, 50%) !default;\\n\\n$--color-success-light: mix($--color-white, $--color-success, 80%) !default;\\n$--color-warning-light: mix($--color-white, $--color-warning, 80%) !default;\\n$--color-danger-light: mix($--color-white, $--color-danger, 80%) !default;\\n$--color-info-light: mix($--color-white, $--color-info, 80%) !default;\\n\\n$--color-success-lighter: mix($--color-white, $--color-success, 90%) !default;\\n$--color-warning-lighter: mix($--color-white, $--color-warning, 90%) !default;\\n$--color-danger-lighter: mix($--color-white, $--color-danger, 90%) !default;\\n$--color-info-lighter: mix($--color-white, $--color-info, 90%) !default;\\n\\n$--color-text-primary: $--color-black !default;\\n$--color-text-secondary: $--color-gray !default;\\n\\n$--color-nps-promoter: #14CC30 !default;\\n$--color-nps-neutral: #979797 !default;\\n$--color-nps-detractor: #FF4B54 !default;\\n\\n$--color-negotiator-bg: #9461f74f !default;\\n$--color-email-bg: $--color-info-light !default;\\n$--color-whatsapp-bg: $--color-success-light-5 !default;\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../../../../../../../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../../../../../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../../../../../../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../../../../../../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[4]!../../../../../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Summary.vue?vue&type=style&index=0&id=6022ea52&prod&lang=scss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"96489750\", content, true, {\"sourceMap\":true,\"shadowMode\":false});"],"names":["render","_vm","this","_c","_self","isGrouping","attrs","occurrence","staticClass","_l","renderItems","summaryItem","summaryItemIndex","key","_v","_s","count","type","personName","summarys","occurrenceItem","occurrenceItemIndex","class","isInFullMessages","summaryOccurrence","messageId","interaction","_f","createAt","dateTime","messagesStatus","messageStatus","statusIndex","status","domProps","buildMessage","staticRenderFns","SummaryVM","constructor","disputeRoleId","getType","SummaryMessage","communicationType","createdBy","resume","sender","receiver","getMessageId","SummaryInteraction","updateAt","properties","message","Date","toISOString","messageReceiver","SummaryOccurrence","description","disputeId","groupedOccurrences","JSON","parse","GROUPED_OCCURRENCES","replace","date","components","Scheduler","Summary","filters","getIconByStatus","props","Object","required","summary","data","communicationTypes","computed","mapGetters","fullMessages","summaryKeys","summaryOccurrences","userConfigs","email","whatsApp","sms","EMAIL","id","map","item","WHATSAPP","SMS","OMNICHANNEL_GROUPING_TYPE","mounted","forEach","getOccurrences","methods","mapActions","messageType","index","phoneOrEmail","capitalize","$options","formatDate","$moment","format","element","document","getElementById","offsetWidth","breakTag","$route","params","getSummaryOccurrecies","summaryRoleId","summaryOccurrenceId","stateOccurrence","keys","String","includes","component","___CSS_LOADER_EXPORT___","push","module","content","__esModule","default","locals","exports","add"],"sourceRoot":""}