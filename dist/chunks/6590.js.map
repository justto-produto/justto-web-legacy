{"version":3,"file":"chunks/6590.js","mappings":"sLAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,YAAY,CAACE,YAAY,sBAAsBC,MAAM,CAC/H,4BAA6BL,EAAIM,YAA2B,IAAbN,EAAIO,KACnD,6BAA8B,CAAC,EAAG,GAAGC,SAASR,EAAIO,QAAUP,EAAIM,YAChEG,MAAM,CAAC,QAAUT,EAAIU,QAAQ,MAAQV,EAAIW,MAAM,wBAAuB,EAAM,yBAAwB,EAAM,cAAa,EAAM,iBAAiB,GAAG,WAAa,GAAG,eAAgB,wBAAmC,IAAbX,EAAIO,KAAa,4BAA8B,KAAMK,GAAG,CAAC,iBAAiB,SAASC,GAAQb,EAAIU,QAAQG,CAAM,IAAI,CAACX,EAAG,MAAM,CAACE,YAAY,8BAA8BK,MAAM,CAAC,KAAO,SAASK,KAAK,SAAS,CAAE,CAAC,GAAGN,SAASR,EAAIO,OAASP,EAAIe,SAASC,eAAgBd,EAAG,OAAO,CAACE,YAAY,2CAA2C,CAACF,EAAG,UAAU,CAACE,YAAY,6BAA6BK,MAAM,CAAC,WAAY,EAAM,OAAS,UAAUG,GAAG,CAAC,MAAQZ,EAAIiB,uBAAuB,CAAe,IAAbjB,EAAIO,KAAYL,EAAG,MAAM,CAACF,EAAIkB,GAAG,IAAIlB,EAAImB,GAAGnB,EAAIoB,OAAO,OAAOlB,EAAG,MAAMF,EAAIqB,GAAIrB,EAAIoB,OAAO,SAASE,EAAUC,GAAO,OAAOrB,EAAG,MAAM,CAACsB,IAAK,GAAEF,KAAaC,KAAS,CAACvB,EAAIkB,GAAG,IAAIlB,EAAImB,GAAGG,GAAW,MAAM,IAAG,MAAM,GAAGpB,EAAG,OAAO,CAACE,YAAY,8BAA8B,CAACJ,EAAIkB,GAAG,IAAIlB,EAAImB,GAAGnB,EAAIoB,OAAO,OAAQ,CAAC,GAAGZ,SAASR,EAAIO,MAAOL,EAAG,OAAO,CAACE,YAAY,uCAAuCQ,GAAG,CAAC,MAAQZ,EAAIyB,sBAAsB,CAACvB,EAAG,aAAa,CAACO,MAAM,CAAC,QAAU,qBAAqB,CAACP,EAAG,IAAI,CAACE,YAAY,qBAAqB,GAAGJ,EAAI0B,OAAOxB,EAAG,MAAM,CAACyB,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAO9B,EAAI+B,QAASC,WAAW,aAAa,CAAe,IAAbhC,EAAIO,KAAYL,EAAG,MAAM,CAACyB,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAO9B,EAAIiC,cAAeD,WAAW,kBAAkB5B,YAAY,qCAAqCJ,EAAIqB,GAAIrB,EAAIkC,QAAQ,SAASC,GAAO,OAAOjC,EAAG,MAAM,CAACsB,IAAIW,EAAMC,IAAI,CAAClC,EAAG,aAAa,CAACO,MAAM,CAAC,OAAS,OAAO,UAAY,MAAM,QAAU0B,EAAMP,OAAO,CAAC1B,EAAG,YAAY,CAACE,YAAY,uBAAuBK,MAAM,CAAC,MAAQ,IAAIG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAIqC,YAAYF,EAAMC,GAAG,IAAI,CAAClC,EAAG,OAAO,CAACE,YAAY,6BAA6B,CAACJ,EAAIkB,GAAGlB,EAAImB,GAAGgB,EAAMP,SAAS1B,EAAG,WAAW,CAACE,YAAY,4BAA4BK,MAAM,CAAC,KAAO,MAAM,YAAY,OAAO,IAAI,IAAI,EAAE,IAAG,GAAGT,EAAI0B,KAAmB,IAAb1B,EAAIO,MAAeP,EAAIsC,YAAwQtC,EAAI0B,KAA/PxB,EAAG,aAAa,CAACO,MAAM,CAAC,QAAUT,EAAIM,WAAa,eAAiB,kBAAkB,CAACJ,EAAG,IAAI,CAACE,YAAY,uCAAuCC,MAAML,EAAIM,WAAa,sBAAwB,oBAAoBM,GAAG,CAAC,MAAQZ,EAAIuC,sBAA6C,IAAbvC,EAAIO,KAAYL,EAAG,MAAM,CAACA,EAAG,SAAS,CAACsC,YAAY,CAAC,OAAS,QAAQ/B,MAAM,CAAC,IAAMT,EAAIe,SAAS0B,IAAI,MAAQ,oBAAoB,gBAAkB,QAAQzC,EAAI0B,KAAmB,IAAb1B,EAAIO,KAAYL,EAAG,MAAM,CAACE,YAAY,gCAAgC,CAACF,EAAG,IAAI,CAACF,EAAIkB,GAAG,mDAAmDlB,EAAIqB,GAAIrB,EAAI0C,kBAAkB,SAASC,EAAKpB,GAAO,OAAOrB,EAAG,MAAM,CAACsB,IAAID,GAAO,CAACrB,EAAG,OAAO,CAACE,YAAY,mCAAmC,CAACJ,EAAIkB,GAAG,IAAIlB,EAAImB,GAAGwB,EAAKf,KAAKgB,eAAe,KAAK1C,EAAG,MAAM,CAACE,YAAY,4CAA4C,CAAEJ,EAAI6C,WAAWF,EAAKf,QAAU5B,EAAI8C,gBAAgBH,EAAKI,gBAAiB7C,EAAG,cAAc,CAACO,MAAM,CAAC,MAAQT,EAAI6C,WAAWF,EAAKf,MAAMoB,eAAepC,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOb,EAAIiD,oBAAoBN,EAAK,KAAK3C,EAAI0B,KAAK1B,EAAIkB,GAAG,IAAIlB,EAAImB,GAAGnB,EAAIkD,eAAeP,IAAO,MAAM,KAAMA,EAAKQ,OAASR,EAAKS,MAAMC,OAAQnD,EAAG,MAAM,CAACE,YAAY,YAAY,CAACJ,EAAIkB,GAAG,IAAIlB,EAAImB,GAAGnB,EAAIsD,IAAI,UAAYX,EAAKQ,MAAMI,oBAAsBZ,EAAKS,MAAM,GAAGI,OAAO,GAAGZ,cAAgBD,EAAKS,MAAM,GAAGK,MAAM,GAAGF,oBAAqBvD,EAAI0D,aAAa,OAAO1D,EAAI0B,KAAMiB,EAAKI,gBAAkB/C,EAAI2D,iBAAiBhB,EAAKI,gBAAiB7C,EAAG,MAAM,CAACsB,IAAIxB,EAAI4D,QAAQxD,YAAY,YAAY,CAACJ,EAAIkB,GAAG,IAAIlB,EAAImB,GAAGnB,EAAI6D,GAAG,UAAP7D,CAAkB2C,EAAKI,iBAAiB,OAAO7C,EAAG,UAAU,CAAC4D,IAAI,eAAiBvC,EAAMwC,UAAS,EAAKtD,MAAM,CAAC,MAAQT,EAAIgE,aAAa,MAAQhE,EAAIiE,mBAAmBC,SAAS,CAAC,OAAS,SAASrD,GAAgC,OAAxBA,EAAOsD,iBAAwBnE,EAAIoE,YAAYzB,EAAMpB,EAAM,IAAI,CAACrB,EAAG,eAAe,CAACsB,IAAIxB,EAAI4D,QAAQpB,YAAY,CAAC,gBAAgB,OAAO/B,MAAM,CAAC,KAAO,aAAa,CAACP,EAAG,WAAW,CAACyB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAO,CAAC,iBAAkB,sBAAuBE,WAAW,6CAA6C8B,IAAI,gBAAkB9D,EAAI4D,QAAQG,UAAS,EAAKtD,MAAM,CAAC,YAAc,8DAA8D,KAAO,SAASG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAIqE,cAAc9C,EAAM,GAAGY,MAAM,CAACL,MAAO9B,EAAIgE,aAAajD,SAASQ,GAAQ+C,SAAS,SAAUC,GAAMvE,EAAIwE,KAAKxE,EAAIgE,aAAajD,SAAUQ,EAAOgD,EAAI,EAAEvC,WAAW,iCAAiC,CAAC9B,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,SAAS,KAAO,cAAc,KAAO,gBAAgBG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAIoE,YAAYzB,EAAMpB,EAAM,GAAGT,KAAK,YAAY,IAAI,IAAI,GAAGd,EAAIqB,GAAIsB,EAAK8B,QAAQ,SAASC,EAAMC,GAAY,OAAOzE,EAAG,MAAM,CAACsB,IAAK,SAAQmD,IAAavE,YAAY,OAAOC,MAAM,CAAE,KAAkB,IAAVkB,IAAe,CAACrB,EAAG,aAAa,CAACsB,IAAIxB,EAAI4D,QAAQnD,MAAM,CAAC,WAAakC,EAAKI,gBAAkB/C,EAAI2D,iBAAiBhB,EAAKI,gBAAgB,QAAU,sDAAsD,CAAC7C,EAAG,OAAO,CAACA,EAAG,cAAc,CAACO,MAAM,CAAC,MAAQmE,OAAOC,KAAK7E,EAAI6C,YAAYrC,SAASmC,EAAKf,OAAS5B,EAAI6C,WAAWF,EAAKf,MAAM8C,QAAUA,EAAMI,QAAQ,OAAQ,EAAK,KAAOnC,EAAKf,KAAK,UAAYe,EAAKI,iBAAmB/C,EAAI2D,iBAAiBhB,EAAKI,iBAAiBnC,GAAG,CAAC,OAAS,SAASC,GAAQb,EAAI+E,kBAAkB/E,EAAIgF,eAAerC,EAAM+B,GAAO,IAAI,CAAC1E,EAAIkB,GAAG,IAAIlB,EAAImB,GAAGuD,EAAMI,SAAS,QAAQ,KAAMJ,EAAMO,UAAW/E,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,OAAO,KAAO,OAAO,KAAO,kBAAkBG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAIkF,YAAYR,EAAMI,QAASnC,EAAKf,KAAK,KAAK5B,EAAI0B,MAAM,EAAE,IAAGxB,EAAG,MAAM,CAACA,EAAG,aAAa,CAACO,MAAM,CAAC,WAAakC,EAAKI,gBAAkB/C,EAAI2D,iBAAiBhB,EAAKI,gBAAgB,QAAU,qDAAqD,CAAC7C,EAAG,OAAO,CAACA,EAAG,YAAY,CAACyB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,OAAQa,EAAKwC,KAAMnD,WAAW,eAAeR,IAAIxB,EAAI4D,QAAQxD,YAAY,YAAYK,MAAM,CAAC,UAAYkC,EAAKI,eAAe,KAAO,OAAO,KAAO,gBAAgBnC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAIoF,aAAazC,EAAKf,KAAML,EAAM,IAAI,CAACvB,EAAIkB,GAAG,yBAAyB,KAAKhB,EAAG,UAAU,CAAC4D,IAAI,YAAcvC,EAAMwC,UAAS,EAAKtD,MAAM,CAAC,MAAQT,EAAIqF,UAAU,MAAQrF,EAAIsF,gBAAgBpB,SAAS,CAAC,OAAS,SAASrD,GAAgC,OAAxBA,EAAOsD,iBAAwBnE,EAAIuF,SAAS5C,EAAMpB,EAAM,IAAI,CAACrB,EAAG,eAAe,CAACyB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOa,EAAKwC,KAAMnD,WAAW,cAAcR,IAAIxB,EAAI4D,QAAQnD,MAAM,CAAC,KAAO,UAAU,CAACP,EAAG,WAAW,CAAC4D,IAAI,aAAevC,EAAMwC,UAAS,EAAKtD,MAAM,CAAC,YAAc,mBAAmB,KAAO,SAASG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAIqE,cAAc9C,EAAM,GAAGY,MAAM,CAACL,MAAO9B,EAAIqF,UAAUX,MAAM/B,EAAKf,MAAO0C,SAAS,SAAUC,GAAMvE,EAAIwE,KAAKxE,EAAIqF,UAAUX,MAAO/B,EAAKf,KAAM2C,EAAI,EAAEvC,WAAW,+BAA+B,CAAC9B,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,SAAS,KAAO,cAAc,KAAO,gBAAgBG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAIuF,SAAS5C,EAAMpB,EAAM,GAAGT,KAAK,YAAY,IAAI,IAAI,IAAI,IAAI,EAAE,IAAGZ,EAAG,UAAU,CAAC4D,IAAI,WAAW1D,YAAY,WAAWK,MAAM,CAAC,MAAQT,EAAIwF,SAAS,MAAQxF,EAAIyF,cAAc,iBAAiB,MAAM,yBAAyB,IAAIvB,SAAS,CAAC,OAAS,SAASrD,GAAgC,OAAxBA,EAAOsD,iBAAwBnE,EAAI0F,SAAS,IAAI,CAACxF,EAAG,YAAY,CAACyB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,OAAQ9B,EAAI2F,gBAAiB3D,WAAW,qBAAqBvB,MAAM,CAAC,KAAO,OAAO,KAAO,gBAAgBG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAI4F,aAAa,IAAI,CAAC5F,EAAIkB,GAAG,4BAA4BhB,EAAG,eAAe,CAACyB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAO9B,EAAI2F,gBAAiB3D,WAAW,oBAAoBvB,MAAM,CAAC,MAAQ,uBAAuB,KAAO,SAAS,CAACP,EAAG,WAAW,CAAC4D,IAAI,eAAerD,MAAM,CAAC,YAAc,QAAQG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAIqE,eAAe,GAAGlC,MAAM,CAACL,MAAO9B,EAAIwF,SAAS7C,KAAM2B,SAAS,SAAUC,GAAMvE,EAAIwE,KAAKxE,EAAIwF,SAAU,OAAQjB,EAAI,EAAEvC,WAAW,kBAAkB,CAAC9B,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,SAAS,KAAO,cAAc,KAAO,gBAAgBG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAI0F,SAAS,GAAG5E,KAAK,YAAY,IAAI,IAAI,IAAI,GAAGd,EAAI0B,KAAmB,IAAb1B,EAAIO,KAAYL,EAAG,MAAMF,EAAIqB,GAAIrB,EAAI6F,SAAS,SAASC,EAAOvE,GAAO,OAAOrB,EAAG,MAAM,CAACsB,IAAID,EAAMnB,YAAY,+BAA+B,CAACF,EAAG,MAAM,CAACE,YAAY,oCAAoC,CAACF,EAAG,MAAM,CAACE,YAAY,yCAAyC,CAACJ,EAAIkB,GAAG,IAAIlB,EAAImB,GAAG2E,EAAOlE,OAAO1B,EAAG,QAAQA,EAAG,MAAM,CAACE,YAAY,0CAA0C,CAACJ,EAAIkB,GAAG,IAAIlB,EAAImB,GAAG2E,EAAOpB,OAAO,SAASxE,EAAG,MAAM,CAACE,YAAY,oCAAoC,CAAEJ,EAAI+F,iBAAiBD,KAAYA,EAAOE,OAAQ9F,EAAG,YAAY,CAACsC,YAAY,CAAC,cAAc,QAAQ/B,MAAM,CAAC,KAAOT,EAAIiG,WAAW,KAAO,gBAAgB,KAAO,WAAWrF,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAIkG,UAAUJ,EAAO,IAAI,CAAC9F,EAAIkB,GAAG,2BAA2BlB,EAAI0B,KAAMoE,EAAOK,gBAAiBjG,EAAG,OAAO,CAACF,EAAIkB,GAAG,IAAIlB,EAAImB,GAAGnB,EAAIsD,IAAK,6BAA4BwC,EAAOK,yBAAyB,KAAKjG,EAAG,WAAW,CAACO,MAAM,CAAC,KAAOT,EAAIsD,IAAK,6BAA4BwC,EAAOK,4BAA4B,GAAGjG,EAAG,OAAO,CAACF,EAAIkB,GAAG,IAAIlB,EAAImB,GAAGnB,EAAIsD,IAAI,2CAA2C,KAAKpD,EAAG,WAAW,CAACO,MAAM,CAAC,KAAOT,EAAIsD,IAAI,8CAA8C,IAAI,IAAI,IAAG,GAAGtD,EAAI0B,MAAM,GAAGxB,EAAG,MAAM,CAACE,YAAY,gBAAgBK,MAAM,CAAC,KAAO,UAAUK,KAAK,UAAU,CAACZ,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAAGJ,EAAIoG,yBAAsPpG,EAAI0B,KAAhOxB,EAAG,WAAW,CAACO,MAAM,CAAC,MAAQ,gIAAgI,KAAO,QAAQ,UAAW,EAAM,YAAY,GAAG,OAAS,OAAgB,GAAGP,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAAEJ,EAAIe,SAASsF,SAAW,CAAC,EAAG,GAAG7F,SAASR,EAAIO,MAAOL,EAAG,aAAa,CAACO,MAAM,CAAC,QAAU,iCAAiC,CAACP,EAAG,YAAY,CAACO,MAAM,CAAC,SAAWT,EAAI+B,QAAQ,KAAO,UAAU,KAAO,uBAAuB,KAAO/B,EAAIiG,YAAYrF,GAAG,CAAC,MAAQZ,EAAIsG,wBAAwB,CAACtG,EAAIkB,GAAG,2BAA2B,GAAGlB,EAAI0B,KAAmB,IAAb1B,EAAIO,MAA4B,IAAbP,EAAIO,OAAeP,EAAIoG,yBAA2BlG,EAAG,aAAa,CAACO,MAAM,CAAC,QAAU,mBAAmB,CAACP,EAAG,YAAY,CAACyB,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAO9B,EAAIuG,gBAAiBvE,WAAW,oBAAoBvB,MAAM,CAAC,KAAO,mBAAmB,KAAO,UAAU,KAAOT,EAAIiG,YAAYrF,GAAG,CAAC,MAAQZ,EAAIwG,mBAAmB,CAACxG,EAAIkB,GAAG,eAAe,GAAGlB,EAAI0B,KAAM,CAAC,EAAG,GAAGlB,SAASR,EAAIO,MAAOL,EAAG,YAAY,CAACO,MAAM,CAAC,SAAWT,EAAI+B,QAAQ,KAAO/B,EAAIiG,WAAW,MAAQ,IAAIrF,GAAG,CAAC,MAAQZ,EAAIyG,iBAAiB,CAACzG,EAAIkB,GAAG,cAAclB,EAAI0B,KAAmB,IAAb1B,EAAIO,MAAcP,EAAIoG,yBAA0BlG,EAAG,YAAY,CAACO,MAAM,CAAC,KAAOT,EAAIiG,WAAW,SAAWjG,EAAI+B,UAAY/B,EAAIoG,yBAAyB,KAAO,WAAWxF,GAAG,CAAC,MAAQ,SAASC,GAAQb,EAAIO,KAAO,EAAGP,EAAI0G,WAAW,IAAI,CAAC1G,EAAIkB,GAAG,oCAAoClB,EAAI0B,KAAmB,IAAb1B,EAAIO,KAAYL,EAAG,YAAY,CAACO,MAAM,CAAC,KAAOT,EAAIiG,WAAW,UAAajG,EAAI2G,WAAa3G,EAAI4G,0BAA6B5G,EAAIoG,yBAAyB,KAAO,WAAWxF,GAAG,CAAC,MAAQZ,EAAI6G,0BAA0B,CAAC7G,EAAIkB,GAAG,8BAA8BlB,EAAI0B,KAAM1B,EAAI8G,uBAAsC,IAAb9G,EAAIO,KAAYL,EAAG,aAAa,CAACO,MAAM,CAAC,QAAU,iFAAiF,CAACP,EAAG,YAAY,CAACO,MAAM,CAAC,SAAWT,EAAI+B,QAAQ,KAAO,wBAAwB,KAAO,UAAU,KAAO/B,EAAIiG,YAAYrF,GAAG,CAAC,MAAQZ,EAAI+G,4BAA4B,CAAC/G,EAAIkB,GAAG,iBAAiB,GAAGlB,EAAI0B,KAA6K1B,EAAI0B,KAAO,CAAC,EAAG,GAAGlB,SAASR,EAAIO,MAAqPP,EAAI0B,KAAlPxB,EAAG,YAAY,CAACO,MAAM,CAAC,SAAWT,EAAI+B,QAAQ,KAAO/B,EAAIiG,WAAW,KAAO,UAAUrF,GAAG,CAAC,MAAQZ,EAAIgH,iBAAiB,CAAC9G,EAAG,IAAI,CAACE,YAAY,iBAAiBoC,YAAY,CAAC,MAAQ,QAAQ,eAAe,SAASxC,EAAIkB,GAAG,sBAA6C,IAAblB,EAAIO,KAAYL,EAAG,YAAY,CAACO,MAAM,CAAC,SAAWT,EAAI+B,QAAQ,KAAO/B,EAAIiG,WAAW,MAAQ,GAAG,KAAO,UAAUrF,GAAG,CAAC,MAAQ,SAASC,GAAQb,EAAIU,SAAU,CAAK,IAAI,CAACV,EAAIkB,GAAG,IAAIlB,EAAImB,GAAG,CAAC,EAAG,GAAGX,SAASR,EAAIO,MAAQ,SAAW,YAAY,OAAOP,EAAI0B,MAAM,OAAOxB,EAAG,YAAY,CAACO,MAAM,CAAC,QAAUT,EAAIiH,+BAA+B,wBAAuB,EAAM,yBAAwB,EAAM,cAAa,EAAM,MAAQ,mCAAmC,MAAQ,MAAM,iBAAiB,IAAIrG,GAAG,CAAC,iBAAiB,SAASC,GAAQb,EAAIiH,+BAA+BpG,CAAM,IAAI,CAACX,EAAG,WAAW,CAACE,YAAY,OAAOK,MAAM,CAAC,KAAO,OAAO,MAAQ,8BAA8B,CAACT,EAAIkB,GAAG,oLAAoLlB,EAAIqB,GAAIrB,EAAI6C,YAAY,SAASqE,GAAW,OAAOhH,EAAG,MAAM,CAACsB,IAAI0F,EAAUtF,KAAKxB,YAAY,2CAA2C,CAACF,EAAG,kBAAkB,CAACO,MAAM,CAAC,KAAOyG,EAAUtF,QAAQ1B,EAAG,MAAM,CAACA,EAAG,IAAI,CAACF,EAAIkB,GAAGlB,EAAImB,GAAG+F,EAAUtF,SAAS1B,EAAG,MAAMA,EAAG,IAAI,CAACF,EAAIkB,GAAGlB,EAAImB,GAAGnB,EAAI6D,GAAG,UAAP7D,CAAkBkH,EAAUnE,oBAAoB7C,EAAG,MAAMF,EAAIkB,GAAG,IAAIlB,EAAImB,GAAG+F,EAAUxC,OAAO,QAAQ,EAAE,IAAGxE,EAAG,OAAO,CAACE,YAAY,gBAAgBK,MAAM,CAAC,KAAO,UAAUK,KAAK,UAAU,CAACZ,EAAG,YAAY,CAACO,MAAM,CAAC,SAAWT,EAAI4G,wBAAwB,MAAQ,IAAIhG,GAAG,CAAC,MAAQ,SAASC,GAAQb,EAAIiH,gCAAiC,CAAK,IAAI,CAACjH,EAAIkB,GAAG,cAAchB,EAAG,YAAY,CAACO,MAAM,CAAC,SAAWT,EAAI4G,wBAAwB,KAAO,WAAWhG,GAAG,CAAC,MAAQZ,EAAImH,mBAAmB,CAACnH,EAAIkB,GAAG,IAAIlB,EAAImB,GAAGnB,EAAIoG,yBAA2B,qBAAuB,sBAAsB,QAAQ,IAAI,GAAGlG,EAAG,YAAY,CAACO,MAAM,CAAC,QAAUT,EAAIoH,iBAAiB,wBAAuB,EAAM,yBAAwB,EAAM,cAAa,EAAK,iBAAiB,GAAG,MAAQ,QAAQxG,GAAG,CAAC,iBAAiB,SAASC,GAAQb,EAAIoH,iBAAiBvG,CAAM,IAAI,CAACX,EAAG,SAAS,CAACE,YAAY,gBAAgBoC,YAAY,CAAC,OAAS,QAAQ/B,MAAM,CAAC,IAAMT,EAAIqH,gBAAgBC,UAAU,MAAQ,kBAAkB,gBAAkB,SAAS,EAC/mb,EACIC,EAAkB,G,iDCLf,MAAMC,EAAkBC,OAAOC,YAAc,I,qCC6iBpD,GACA9F,KAAA,oBAEA+F,MAAA,CACAC,sBAAA,CACAC,KAAAC,QACAC,SAAA,GAGAC,QAAA,CACAH,KAAAjD,OACAmD,QAAAA,KAAA,CACA3F,GAAA,EACA6F,aAAA,OAKAC,IAAAA,GACA,OACA3H,KAAA,EACAwB,SAAA,EACAoG,YAAA,EACA5B,iBAAA,EACAK,yBAAA,EACAK,gCAAA,EACAG,kBAAA,EACA9G,YAAA,EACA4B,OAAA,GACAuC,OAAA,GACA5B,WAAA,GACA9B,SAAA,GACA8E,QAAA,GACAjC,QAAA,EACAR,MAAA,GACAuC,iBAAA,EACAH,SAAA,CACA7C,KAAA,IAEA8C,cAAA,CACA9C,KAAA,CACA,CAAAyF,UAAA,EAAAC,QAAA,oBAAAC,QAAA,UACA,CAAAC,UAAAC,EAAAA,GAAAF,QAAA,YAGAjD,UAAA,CACAX,MAAA,IAEAY,eAAA,CACAZ,MAAA,CACA,CAAA0D,UAAA,EAAAC,QAAA,oBAAAC,QAAA,UACA,CAAAC,UAAAE,EAAAA,GAAAH,QAAA,YAGAtE,aAAA,CACAjD,SAAA,IAEAkD,kBAAA,CACAlD,SAAA,CACA,CAAAwH,UAAAG,EAAAA,GAAAL,QAAA,qBAAAC,QAAA,UACA,CAAAF,UAAA,EAAAC,QAAA,oBAAAC,QAAA,YAGAhG,aAAA,EACAqG,WAAAlB,OAAAkB,WACA1G,eAAA,EAEA,EAEA2G,SAAA,KACAC,EAAAA,EAAAA,IAAA,CACAC,eAAA,mBACAC,aAAA,eACA1B,gBAAA,qBACA3D,WAAA,sBACAsF,YAAA,iBACA5C,yBAAA,8BAGA6B,YAAAA,GACA,YAAAD,QAAAiB,eACA,EAEAC,SAAAA,GACA,YAAAlB,QAAAmB,YACA,EAEAC,iBAAAA,GACA,YAAAN,eAAAO,KAAAvD,GAAA,KAAAwD,SAAAxD,EAAA/C,iBACA,EAEAL,gBAAAA,GACA,SAAA6G,EAAAC,EAAAC,GACA,OAAAA,EAAAC,MAAAC,GAAAA,EAAA5G,iBAAAyG,KAAA,CAAA/E,OAAA,GACA,CAEA,SAAAmF,EAAAnF,GACA,OAAAA,EAAAoF,QAAAnF,IACA,IAAAA,EAAAoF,UAAApF,EAAAqF,QAAArF,EAAAsF,SACAtF,EAAAO,WACA,CAEA,SAAAgF,EAAAC,EAAAC,GACA,MAAA1F,GAAA2F,EAAAA,EAAAA,QAAAF,EAAAC,GACAE,EAAA,GAEA,UAAA3F,KAAAD,EACA4F,EAAAR,QAAAS,GAAAA,EAAAxF,UAAAJ,EAAAI,UAAAzB,OAAA,GACAgH,EAAAE,KAAA7F,GAIA,OAAA2F,CACA,CAEA,MAAAG,EAAA,KAAApH,MAAAiG,KAAA1G,GAAA,KAAA2G,SAAA3G,EAAAI,kBAEA8C,EAAA,KAAAiD,eAAAe,QAAA/D,IAAA0E,EAAAhK,SAAA,KAAA8I,SAAAxD,EAAA/C,mBACAK,EAAA,KAAAA,MAAAiG,KAAA1G,IACA,IACAA,EACAwC,MAAA,EACAV,OAAAmF,EAAAK,EAAAtH,EAAA8B,OAAA8E,EAAA5G,EAAAI,eAAA,KAAA+F,gBAAArE,aAGA,UAAArB,KAAAyC,GAAAgE,QAAA,EAAAC,eAAA,IAAAA,GACA,EAEApJ,QAAA,CACA+J,GAAAA,GACA,YAAA7C,qBACA,EACA8C,GAAAA,CAAA5I,GACAA,GAAA,KAAA6I,MAAA,+BAAA7I,EACA,GAGAV,KAAAA,GACA,YAAAb,MACA,OACA,YAAA2B,OAAAmB,OAAA,mDACA,sCACA,6BACA,OACA,mBAAAuH,YAAA,KAAA7J,SAAAa,MACA,uBAEA,EAEAjB,KAAAA,GACA,YAAAgI,YAAA,KACA,SAAApI,OAAA,SAAAD,WADA,OAIA,MAAAE,SAAA,KAAAD,MACA,MAEA,KACA,EAEAoG,SAAAA,GACA,IAAAA,GAAA,EAMA,OALA,KAAAjE,kBACA,KAAAA,iBAAA2G,KAAAwB,IACAA,EAAApG,OAAApB,SAAAsD,GAAA,MAGAA,CACA,EAEAmE,MAAAA,GACA,YAAA5B,UACA,wEAAAA,UAGA,EACA,EAEApC,qBAAAA,GACA,YAAAjB,QACA,KAAAA,QAAAxC,OAAA,KAAAwC,QAAAgE,QAAAkB,IACA,IAAAA,EAAA/E,SACA3C,OAGA,IACA,EAEA4C,UAAAA,GACA,OAAAuB,EAAA,eACA,GAGAwD,MAAA,CACAzK,IAAAA,GACA,IAAA0K,OAAA,KAAA1K,OACA,KAAAA,KAAA0K,OAAAC,aAAAC,QAAA,aACA,KAAAC,eAEAF,aAAAG,QAAA,gBAAA9K,MAGA,IAAA0K,OAAA,KAAA1K,OACA,KAAA+K,sBAGA,IAAAL,OAAA,KAAA1K,MACAQ,SAAAwK,KAAAC,MAAAC,KAAA,GAEA1K,SAAAwK,KAAAC,MAAAC,KAAA,CAEA,EAEA/K,OAAAA,CAAAoB,GACAA,GACA,IAAAmJ,OAAA,KAAA1K,MACAQ,SAAAwK,KAAAC,MAAAC,KAAA,GAEA1K,SAAAwK,KAAAC,MAAAC,KAAA,EAGA,KAAAC,kBAEA,KAAAC,kBACA,KAAAC,mBAAA,KAAA5D,SAAA6D,MAAA,EAAAC,QAAA1I,MACA,KAAArB,SAAA,EACA,KAAA6E,yBAAA,EACA,KAAAL,iBAAA,EACA,KAAAhG,KAAA,EACA,KAAAsC,WAAA,GACA,KAAAgD,QAAA,GACA,KAAAzC,MAAA2I,KAAAC,MAAAD,KAAAE,UAAA7I,EAAAyG,QAAA,EAAAC,eAAAA,KAAA,KAAA7B,eACA,KAAA5C,UAAAX,MAAA,GACA,KAAA0G,cACA,KAAA5F,SAAA7C,KAAA,GACA,KAAAgD,iBAAA,MAGA5E,SAAAwK,KAAAC,MAAAC,KAAA,CAEA,EAEAzC,YAAA,CACAkD,MAAA,EACAC,QAAA,wBAIAC,OAAAA,GACA3E,OAAA4E,iBAAA,eACA,KAAA1D,WAAAlB,OAAAkB,UAAA,IAEAnB,IACA,KAAAlF,aAAA,EACA,KAAAhC,YAAA,GAEA,KAAAsL,qBACA,KAAAU,qBACA,EAEAC,QAAA,KACAC,EAAAA,EAAAA,IAAA,CACA,oBACA,yBACA,sBACA,qBACA,qBACA,uBACA,uBACA,oBACA,qBACA,qBACA,kBACA,kBACA,mBAGAZ,kBAAAA,GACA,WAAAa,SAAA,CAAAC,EAAAC,KACA,KAAAC,kBAAA,KAAA5E,SAAA6D,KAAAa,GAAAG,MAAAF,EAAA,GAEA,EAEAzJ,cAAAA,CAAAP,GACA,qBAAAI,EAAA,KAAAnB,GAAAe,EACA,YAAAG,gBAAAC,GACA,mBACA,KAAAF,WAAAjB,GACA,gCAEA,EAEA,EAEA0H,QAAAA,CAAAE,GACA,OAAAsD,EAAAA,GAAAtD,GACAsD,EAAAA,GAAAtD,GAIA,EAEA,EAEAvG,mBAAAA,CAAAN,GACA,WAAAf,EAAA,eAAAmB,GAAAJ,EACA,KAAAG,gBAAAC,KACA,KAAAF,WAAAjB,GAAAoB,eAAA,KAAAH,WAAAjB,GAAAoB,cACA,KAAA+J,eAEA,EAEAhI,iBAAAA,CAAAe,GACAlB,OAAAC,KAAA,KAAAhC,YAAArC,SAAAsF,EAAAlE,OACA,KAAAiB,WAAAiD,EAAAlE,MAAA8C,QAAAoB,EAAApB,MACA,KAAAsI,QAAA,KAAAnK,WAAAiD,EAAAlE,MAKA,KAAAiB,WAAAiD,EAAAlE,MAAAkE,EAEA,KAAAiH,cACA,EAEA/H,cAAAA,CAAArC,EAAA+B,GACA,OACA9C,KAAAe,EAAAf,KACAmB,eAAAJ,EAAAI,eACA2B,MAAAA,EAAAI,QACAmI,cAAAtK,EAAAP,GACAY,cAAA,KAAAF,gBAAAH,EAAAI,gBAEA,EAEAD,eAAAA,CAAA0G,GACA,YAAAJ,kBAAA5I,SAAA,KAAA8I,SAAAE,GACA,EAEA7F,gBAAAA,CAAA7B,GACA,OAAAgL,EAAAA,GAAAhL,EACA,EAEA,0BAAAb,GACA,IACA,MAAAiM,QAAA,KAAAC,eAAA,KAAAjE,YACA,OAAAkE,GAAA,IAAAC,IAAAH,GACAzK,EAAA,GAAA2K,uBAAA,KAAArM,SAAAC,eAAAsM,UAEAC,UAAAC,UAAAC,UAAAhL,GAEA,KAAAiL,iBAAA,CACAtM,MAAA,OACAiH,QAAA,4BACAR,KAAA,YAGA8F,YAAA,IAAAlG,OAAAmG,KAAAnL,IAAA,KACA,OAAAoL,GACA,KAAAH,iBAAA,CAAAG,SACA,CACA,EAEAzJ,WAAAA,CAAAzB,EAAAmL,GACA,MAAA9J,EAAA,KAAA+J,MAAA,eAAAD,GAAA,GACA9J,EAAAgK,UAAAC,IACAA,IACAtL,EAAAI,iBACA,KAAAa,SAAA,EACA,KAAAmJ,eACA,KAAA3H,aAAAzC,EAAAf,KAAAkM,IAGA,KAAA1K,MAAA0K,GAAA/K,eAAA,KAAAuG,SAAA,KAAAtF,aAAAjD,SAAA+M,IACAnL,EAAAI,eAAA,KAAAuG,SAAA,KAAAtF,aAAAjD,SAAA+M,IACA,GAEA,EAEApH,SAAAA,GACA,KAAAtD,MAAAiG,KAAA6E,IAAAA,EAAA/I,MAAA,KACA,KAAAQ,iBAAA,EACA,KAAA/B,SAAA,CACA,EAEA8B,OAAAA,GACA,KAAAqI,MAAAvI,SAAAwI,UAAAC,IACA,GAAAA,EAAA,CACA,MAAArM,EAAA,KAAA4D,SAAA7C,KAAAC,cACA,KAAAQ,MAAAmH,KAAA,CAAA3I,OAAA6C,OAAA,KACA,KAAAe,SAAA7C,KAAA,GACA,KAAAgD,iBAAA,EACA,KAAA/B,SAAA,EACA,KAAAuK,WAAA,KACA,MAAAC,EAAA,KAAAL,MAAA,qBAAAnK,SAAA,GACAwK,EAAAC,OAAA,GAEA,IAEA,EAEAzI,WAAAA,GACA,KAAAD,iBAAA,EACA,KAAA/B,SAAA,EACA,KAAAuK,WAAA,SAAAJ,MAAAO,aAAAD,SACA,EAEA9I,QAAAA,CAAA5C,EAAAmL,GACA,MAAAzI,EAAA,KAAA0I,MAAA,YAAAD,GAAA,GACAzI,EAAA2I,UAAAC,IACA,GAAAA,GACA,KAAA5I,UAAAX,MAAA/B,EAAAf,MAAA,CACA,MAAAL,EAAA,KAAA6B,MAAAmL,WAAAL,GAAAA,EAAAtM,OAAAe,EAAAf,OACA,GAAAL,GAAA,GACA,KAAA6B,MAAA7B,GAAAkD,OAAA8F,KAAA,CACAzF,QAAA,KAAAO,UAAAX,MAAA/B,EAAAf,MACAqD,WAAA,IAEA,MAAAP,EAAA,KAAAW,UAAAX,MAAA/B,EAAAf,MACA,KAAAiB,WAAAF,EAAAf,MAAA,KAAAoD,eAAArC,EAAA,CAAAmC,QAAAJ,IACA,KAAAW,UAAAX,MAAA,GACA,KAAAtB,MAAA7B,GAAA4D,MAAA,EACA,KAAAvB,SAAA,CACA,CACA,CACA,GAEA,EAEAwB,YAAAA,CAAAxD,EAAAkM,GACA,KAAApL,iBAAA2G,KAAA6E,IACAA,EAAAtM,OAAAA,EAAAsM,EAAA/I,MAAA,EACA+I,EAAA/I,MAAA,KAEA,KAAAQ,iBAAA,EACA,KAAA/B,SAAA,EACAkK,GACA,KAAAK,WAAA,KACA,MAAAK,EAAA,KAAAT,MAAA,aAAAD,GAAA,GACAU,EAAAH,OAAA,IAGA,KAAAtB,cACA,EAEA7H,WAAAA,CAAAR,EAAA9C,GACA,MAAAL,EAAA,KAAA6B,MAAAmL,WAAAL,GAAAA,EAAAtM,OAAAA,IACA,GAAAL,GAAA,GACA,MAAAoD,EAAA,KAAAvB,MAAA7B,GAAAkD,OAAA8J,WAAA1D,GAAAA,EAAA/F,UAAAJ,IACA,KAAAtB,MAAA7B,GAAAkD,OAAAgK,OAAA9J,EAAA,EACA,CACA,EAEAN,aAAAA,CAAAyJ,GACA,MAAAY,EAAA,KAAAX,MAAAvI,SACA,IAAAxB,EACAqB,EACAyI,IACA9J,EAAA,KAAA+J,MAAA,eAAAD,GACAzI,EAAA,KAAA0I,MAAA,YAAAD,IAEAY,GAAAA,EAAArK,gBACAL,GAAAA,EAAAX,QAAAW,EAAA,GAAAK,gBACAgB,GAAAA,EAAAhC,QAAAgC,EAAA,GAAAhB,eACA,EAEAsK,cAAAA,GACA,KAAAC,uBAAA,KAAA1F,WAAA2C,MAAA9K,IACAA,IAAA,KAAAA,SAAAA,EAAA,IACA8L,OAAAgB,GAAA,KAAAH,iBAAA,CAAAG,WACA,EAEAzC,WAAAA,GACA,KAAAnJ,eAAA,EAEA,KAAA2M,uBAAA,KAAA1F,WAAA2C,MAAA9K,IACAA,GACA,KAAAA,SAAAA,EACA,OAAAA,EAAAC,eACA,KAAAT,KAAA,GAEA,KAAAsF,QAAA9E,EAAAC,eAAA6E,QACA,KAAAtF,KAAA,IAGA,KAAAsO,WACA,IACAhC,OAAAgB,IACA,KAAAnN,SAAA,EACA,KAAAqB,SAAA,EACA,KAAA2L,iBAAA,CAAAG,SAAA,IACAiB,SAAA,KACA,KAAA7M,eAAA,EACA,KAAAF,SAAA,IAEA,EAEA8M,SAAAA,GACA,KAAA9M,SAAA,EACA,KAAAgN,oBAAAlD,MAAA3J,IACA,KAAAA,OAAAA,EAAA2H,QAAA,EAAAC,eAAAA,IACA,MAAAkF,EAAA,KAAA9M,OAAAmB,QAAA,SAAAnB,OAAAmB,OACA2L,GACA,KAAA3M,YAAA,KAAAH,OAAA,GAAAE,GAAA4M,EACA,IACAnC,OAAAgB,IACA,KAAAnN,SAAA,EACA,KAAAgN,iBAAA,CAAAG,SAAA,IACAiB,SAAA,KACA,KAAA/M,SAAA,IAEA,EAEAM,WAAAA,CAAA4M,EAAAD,GACA,gBAAA9F,GAAA,KAEA,KAAAnH,SAAA,EACA,KAAAE,eAAA,EAEA,KAAAiN,OAAAC,SAAA,yBAAAjG,YAAA+F,YAAApD,MAAArC,IAGA,GAFA,KAAAzI,SAAAyI,EACA,KAAAjJ,KAAA,EACAyO,EAAA,CACA,MAAAI,EAAAlE,aAAAC,QAAA,qBACAiE,GACA,KAAAC,SACA,uIAEA,iBACAC,kBAAA,KACAC,iBAAA,gCACAC,0BAAA,EACA3H,KAAA,SAEAgF,OAAA,KACA3B,aAAAG,QAAA,0BAGA,CAEA,KAAAoE,YAAA,qBAAAC,YAAA,uBAAA3O,SAAAa,QAAA,IACAiL,OAAAgB,IACA,KAAAnN,SAAA,EACA,KAAAgN,iBAAA,CAAAG,SAAA,IACAiB,SAAA,KACA,KAAA/M,SAAA,EACA,KAAAE,eAAA,IAEA,EAEA4E,uBAAAA,GACA,IAAAjC,OAAAC,KAAA,KAAAhC,YAAAQ,OAMA,OALA,KAAAqK,iBAAA,CACAtM,MAAA,OACAiH,QAAA,+BACAR,KAAA,aAEA,EAEA,IAAA4E,SAAA,CAAAC,EAAAC,KACA,UAAAzF,KAAAtC,OAAA+K,OAAA,KAAA9M,YACA,KAAAc,iBAAAuD,EAAAnE,iBACA4J,EAAA,IAAAiD,MAAA,GAAA1I,EAAAtF,iDAGA8K,GAAA,IACAb,MAAA,KACA,KAAA5E,gCAAA,KACA4F,OAAAgB,IACA,KAAAH,iBAAA,CAAAG,WACA,IAGA,EAEA1G,gBAAAA,GACA,KAAApF,SAAA,EACA,KAAA6E,yBAAA,EACA,KAAAK,gCAAA,EACA,MAAApE,EAAA+B,OAAA+K,OAAA,KAAA9M,YAAAwG,KAAAnC,IACA,WAAAtF,EAAA,MAAA8C,EAAA,eAAA3B,EAAA,cAAAkK,EAAA,cAAAjK,GAAAkE,EACA,OAAAtF,OAAA8C,QAAA3B,iBAAAkK,gBAAAjK,gBAAA,IAEA,KAAA6M,mBAAA,CACA3G,UAAA,KAAAA,UAAArG,eACAgJ,MAAArC,IACA,KAAA3D,QAAA2D,EAAA3D,QACA,KAAAtF,KAAA,EACA,KAAAwB,SAAA,EACA,KAAAhB,SAAAC,eAAAwI,EACA,KAAAzI,SAAA+O,iBAAAtG,EAAApH,GACA,KAAArB,SAAAsF,SAAA,KACAwG,OAAAgB,IACA,KAAAnN,SAAA,EACA,KAAAgN,iBAAA,CAAAG,SAAA,IACAiB,SAAA,KACA,KAAA/M,SAAA,EACA,KAAA6E,yBAAA,EACA,KAAA/D,WAAA,GACA,KAAA8L,gBAAA,GAEA,EAEA5H,yBAAAA,GACA,KAAAhF,SAAA,EACA,KAAAmN,OAAAC,SAAA,6BACAjG,UAAA,KAAAA,YACA2C,MAAA,KACA,KAAA6B,iBAAA,CACAtM,MAAA,OACAiH,QAAA,oCACAR,KAAA,WACA,IACAgF,OAAAgB,IACA,KAAAH,iBAAA,CAAAG,SAAA,IACAiB,SAAA,KACA,KAAA/M,SAAA,IAEA,EAEA0E,cAAAA,GACA,SAAAlG,KACA,KAAAA,KAAA,GAEA,KAAAA,KAAA,EACA,KAAAsC,WAAA,GAEA,EAEA2D,gBAAAA,GACA,KAAAD,iBAAA,EACA,KAAA2I,OAAAC,SAAA,oBACAjG,UAAA,KAAAA,UACAtH,KAAA,KAAAb,SAAAa,OACAiL,OAAAgB,IACA,KAAAH,iBAAA,CAAAG,SAAA,IACAiB,SAAA,KACA,KAAAvI,iBAAA,IAEA,EAEAS,cAAAA,GACA,KAAAqI,SAAA,mCACAC,kBAAA,UACAC,iBAAA,WACAnO,MAAA,WACAyG,KAAA,YACAgE,MAAA,KACA,KAAA9J,SAAA,EACA,KAAAmN,OAAAC,SAAA,sBAAAjG,WAAA2C,MAAA,KACA,KAAA6B,iBAAA,CACAtM,MAAA,OACAiH,QAAA,8BACAR,KAAA,YAEA,KAAAtH,KAAA,KACAsM,OAAAgB,IACA,KAAAH,iBAAA,CAAAG,SAAA,IACAiB,SAAA,KACA,KAAApO,SAAA,IACA,GAEA,EAEAqP,YAAAA,GACA,KAAA5H,YAAA,EACA,KAAA5H,KAAA,CACA,EAEA+F,qBAAAA,GACA,KAAA+I,SAAA,wGACAC,kBAAA,qBACAC,iBAAA,WACAnO,MAAA,WACAyG,KAAA,YACAgE,MAAA,KACA,KAAA9J,SAAA,EACA,KAAAmN,OAAAC,SAAA,6BAAAjG,WAAA2C,MAAA,KACA,KAAAtL,KAAA,EACA,KAAAwB,SAAA,EACA,KAAA2L,iBAAA,CACAtM,MAAA,OACAiH,QAAA,gDACAR,KAAA,WACA,IACAgF,OAAAgB,IACA,KAAAH,iBAAA,CAAAG,SAAA,GACA,GAEA,EAEAtL,gBAAAA,GACA,KAAAjC,YAAA,KAAAA,UACA,EAEAsK,WAAAA,CAAAxJ,GACA,GAAAA,EAAAZ,SAAA,QACA,MAAAwP,EAAA5O,EAAA6O,MAAA,OACA,GAAAD,EAAA3M,OAAA,SAAAjC,EAAA,IACA,MAAA8O,EAAAF,EAAA,GAAAG,WAAA,eAAAH,EAAA,GAAAG,WAAA,SACAC,EAAAJ,EAAA,GAAAG,WAAA,eAAAH,EAAA,GAAAG,WAAA,SACA,OAAAD,EAAAE,EACA,CACA,OAAAhP,EAAA,GAEA,EAEA2E,gBAAAA,CAAAD,GACA,MAAAC,EAAA,KAAAiC,QAAAiB,gBAAAY,QAAAlH,GACAA,EAAAS,OAAA5C,SAAA,gBACAqJ,QAAAlH,GACAA,EAAA8B,OAAAoF,QAAAnF,GAAAA,EAAAI,UAAAgB,EAAApB,QAAArB,OAAA,IACAA,OAAA,EACAgN,EAAAvK,EAAApB,QAAA,KAAAqE,aACA,OAAAhD,GAAAsK,CACA,EAEAnK,SAAAA,CAAAJ,GACA,KAAAwK,mBAAA,CAAApH,UAAA,KAAAlB,QAAAmB,aAAAoH,UAAAzK,EAAA/C,iBACA,KAAAqE,kBAAA,CACA,EAEA,yBAAA3F,SACA,KAAA+O,mBAAA,KAAAxI,SACA,KAAAtH,SAAA,CACA,EAEA4L,mBAAAA,GACA,KAAAtD,aAAAiC,OAAA,KAAAjC,eAAAiC,OAAA,KAAAjD,QAAAmB,gBAAA,KAAAzI,SACA,KAAAiK,MAAA,kCAEA,ICxwC0Q,I,qBCQtQ8F,GAAY,OACd,EACA1Q,EACAwH,GACA,EACA,KACA,KACA,MAIF,EAAekJ,EAAiB,O,wFChB5BC,EAA0B,IAA4B,KAE1DA,EAAwBnG,KAAK,CAACoG,EAAOvO,GAAI,42JAA62J,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,2DAA2D,0EAA0E,MAAQ,GAAG,SAAW,kkDAAkkD,eAAiB,CAAC,kvKAAkvK,w7HAAw7H,WAAa,MAEv1f,c,wBCJA,IAAI0J,EAAU,EAAQ,OACnBA,EAAQ8E,aAAY9E,EAAUA,EAAQ/D,SACnB,kBAAZ+D,IAAsBA,EAAU,CAAC,CAAC6E,EAAOvO,GAAI0J,EAAS,MAC7DA,EAAQ+E,SAAQF,EAAOG,QAAUhF,EAAQ+E,QAE5C,IAAIE,EAAM,WACGA,EAAI,WAAYjF,GAAS,EAAM,CAAC,WAAY,EAAK,YAAa,G","sources":["webpack://@projuris/justto-web/./src/components/dialogs/JusProtocolDialog.vue","webpack://@projuris/justto-web/./src/constants/variables.js","webpack://@projuris/justto-web/src/components/dialogs/JusProtocolDialog.vue","webpack://@projuris/justto-web/./src/components/dialogs/JusProtocolDialog.vue?1fdb","webpack://@projuris/justto-web/./src/components/dialogs/JusProtocolDialog.vue?3cd2","webpack://@projuris/justto-web/./src/components/dialogs/JusProtocolDialog.vue?d507","webpack://@projuris/justto-web/./src/components/dialogs/JusProtocolDialog.vue?99fe"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-dialog',{staticClass:\"jus-protocol-dialog\",class:{\n      'jus-protocol-dialog--full': _vm.fullscreen && _vm.step === 1,\n      'jus-protocol-dialog--large': [1, 4].includes(_vm.step) && !_vm.fullscreen\n    },attrs:{\"visible\":_vm.visible,\"width\":_vm.width,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"show-close\":false,\"append-to-body\":\"\",\"fullscreen\":\"\",\"custom-class\":`jus-protocol-dialog ${_vm.step === 3 ? 'jus-protocol-dialog--auto' : ''}`},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('div',{staticClass:\"jus-protocol-dialog__header\",attrs:{\"slot\":\"title\"},slot:\"title\"},[([3].includes(_vm.step) && _vm.document.signedDocument)?_c('span',{staticClass:\"jus-protocol-dialog__header__third-step\"},[_c('el-link',{staticClass:\"jus-protocol-dialog__title\",attrs:{\"underline\":false,\"target\":\"_blank\"},on:{\"click\":_vm.openDocumentInNewTab}},[(_vm.step !== 3)?_c('div',[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]):_c('div',_vm._l((_vm.title),function(lineTitle,index){return _c('div',{key:`${lineTitle}+${index}`},[_vm._v(\" \"+_vm._s(lineTitle)+\" \")])}),0)])],1):_c('span',{staticClass:\"jus-protocol-dialog__title\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),([1].includes(_vm.step))?_c('span',{staticClass:\"jus-protocol-dialog__header-minimize\",on:{\"click\":_vm.handleMinimizeDraft}},[_c('el-tooltip',{attrs:{\"content\":\"Minimizar minuta\"}},[_c('i',{staticClass:\"el-icon-minus\"})])],1):_vm._e()]),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[(_vm.step === 0)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.waitingModels),expression:\"waitingModels\"}],staticClass:\"jus-protocol-dialog__model-choice\"},_vm._l((_vm.models),function(model){return _c('div',{key:model.id},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"placement\":\"top\",\"content\":model.name}},[_c('el-button',{staticClass:\"model-choice__button\",attrs:{\"plain\":\"\"},on:{\"click\":function($event){return _vm.selectModel(model.id)}}},[_c('span',{staticClass:\"model-choice__button-text\"},[_vm._v(_vm._s(model.name))]),_c('jus-icon',{staticClass:\"model-choice__button-icon\",attrs:{\"icon\":\"doc\",\"is-active\":\"\"}})],1)],1)],1)}),0):_vm._e(),(_vm.step === 1 && !_vm.isLowHeight)?_c('el-tooltip',{attrs:{\"content\":_vm.fullscreen ? 'Reduzir tela' : 'Expandir tela'}},[_c('i',{staticClass:\"jus-protocol-dialog__fullscreen-icon\",class:_vm.fullscreen ? 'el-icon-bottom-left' : 'el-icon-top-right',on:{\"click\":_vm.changeFullscreen}})]):_vm._e(),(_vm.step === 1)?_c('div',[_c('iframe',{staticStyle:{\"border\":\"none\"},attrs:{\"src\":_vm.document.url,\"title\":\"Edição de minuta.\",\"allowfullscreen\":\"\"}})]):_vm._e(),(_vm.step === 2)?_c('div',{staticClass:\"jus-protocol-dialog__send-to\"},[_c('p',[_vm._v(\"Escolha um endereço de email para cada parte.\")]),_vm._l((_vm.availableSigners),function(role,index){return _c('div',{key:index},[_c('span',{staticClass:\"jus-protocol-dialog__send-title\"},[_vm._v(\" \"+_vm._s(role.name.toUpperCase())+\" \"),_c('div',{staticClass:\"jus-protocol-dialog__send-default-signer\"},[(_vm.recipients[role.name] && !_vm.isDefaultSigner(role.documentNumber))?_c('el-checkbox',{attrs:{\"value\":_vm.recipients[role.name].defaultSigner},on:{\"change\":function($event){return _vm.changeDefaultSigner(role)}}}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.getLabelSigner(role))+\" \")],1)]),(role.party && role.roles.length)?_c('div',{staticClass:\"subtitle\"},[_vm._v(\" \"+_vm._s(_vm.$tc('fields.' + role.party.toLocaleLowerCase() + role.roles[0].charAt(0).toUpperCase() + role.roles[0].slice(1).toLocaleLowerCase(), _vm.isRecovery))+\" \")]):_vm._e(),(role.documentNumber && _vm.isValidCpfOrCnpj(role.documentNumber))?_c('div',{key:_vm.formKey,staticClass:\"subtitle\"},[_vm._v(\" \"+_vm._s(_vm._f(\"cpfCnpj\")(role.documentNumber))+\" \")]):_c('el-form',{ref:'documentForm' + index,refInFor:true,attrs:{\"model\":_vm.documentForm,\"rules\":_vm.documentFormRules},nativeOn:{\"submit\":function($event){$event.preventDefault();return _vm.addDocument(role, index)}}},[_c('el-form-item',{key:_vm.formKey,staticStyle:{\"margin-bottom\":\"0px\"},attrs:{\"prop\":\"document\"}},[_c('el-input',{directives:[{name:\"mask\",rawName:\"v-mask\",value:(['###.###.###-##', '##.###.###/####-##']),expression:\"['###.###.###-##', '##.###.###/####-##']\"}],ref:'documentInput' + _vm.formKey,refInFor:true,attrs:{\"placeholder\":\"Informe o CPF da parte para selecionar e-mail de assinatura\",\"size\":\"small\"},on:{\"input\":function($event){return _vm.clearValidate(index)}},model:{value:(_vm.documentForm.document[index]),callback:function ($$v) {_vm.$set(_vm.documentForm.document, index, $$v)},expression:\"documentForm.document[index]\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"type\":\"transparent\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.addDocument(role, index)}},slot:\"append\"})],1)],1)],1),_vm._l((role.emails),function(email,emailIndex){return _c('div',{key:`email-${emailIndex}`,staticClass:\"line\",class:{ 'mt10': index === 0 }},[_c('el-tooltip',{key:_vm.formKey,attrs:{\"disabled\":!!role.documentNumber && _vm.isValidCpfOrCnpj(role.documentNumber),\"content\":\"Cadastre o CPF da parte para selecionar um e-mail\"}},[_c('span',[_c('el-checkbox',{attrs:{\"value\":Object.keys(_vm.recipients).includes(role.name) && _vm.recipients[role.name].email === email.address,\"label\":true,\"name\":role.name,\"disabled\":!role.documentNumber || !_vm.isValidCpfOrCnpj(role.documentNumber)},on:{\"change\":function($event){_vm.setRecipientEmail(_vm.generateSigner(role, email))}}},[_vm._v(\" \"+_vm._s(email.address)+\" \")])],1)]),(email.canDelete)?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.removeEmail(email.address, role.name)}}}):_vm._e()],1)}),_c('div',[_c('el-tooltip',{attrs:{\"disabled\":!!role.documentNumber && _vm.isValidCpfOrCnpj(role.documentNumber),\"content\":\"Cadastre o CPF da parte para adicionar um e-mail\"}},[_c('span',[_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!role.show),expression:\"!role.show\"}],key:_vm.formKey,staticClass:\"add-email\",attrs:{\"disabled\":!role.documentNumber,\"type\":\"text\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.showAddEmail(role.name, index)}}},[_vm._v(\" Adicionar e-mail \")])],1)]),_c('el-form',{ref:'emailForm' + index,refInFor:true,attrs:{\"model\":_vm.emailForm,\"rules\":_vm.emailFormRules},nativeOn:{\"submit\":function($event){$event.preventDefault();return _vm.addEmail(role, index)}}},[_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(role.show),expression:\"role.show\"}],key:_vm.formKey,attrs:{\"prop\":\"email\"}},[_c('el-input',{ref:'emailInput' + index,refInFor:true,attrs:{\"placeholder\":\"Adicionar e-mail\",\"size\":\"small\"},on:{\"input\":function($event){return _vm.clearValidate(index)}},model:{value:(_vm.emailForm.email[role.name]),callback:function ($$v) {_vm.$set(_vm.emailForm.email, role.name, $$v)},expression:\"emailForm.email[role.name]\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"type\":\"transparent\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.addEmail(role, index)}},slot:\"append\"})],1)],1)],1)],1)],2)}),_c('el-form',{ref:\"roleForm\",staticClass:\"new-role\",attrs:{\"model\":_vm.roleForm,\"rules\":_vm.roleFormRules,\"label-position\":\"top\",\"hide-required-asterisk\":\"\"},nativeOn:{\"submit\":function($event){$event.preventDefault();return _vm.addRole()}}},[_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showARoleButton),expression:\"!showARoleButton\"}],attrs:{\"type\":\"text\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.showAddRole()}}},[_vm._v(\" Adicionar nova parte \")]),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showARoleButton),expression:\"showARoleButton\"}],attrs:{\"label\":\"Adicionar nova parte\",\"prop\":\"role\"}},[_c('el-input',{ref:\"newRoleInput\",attrs:{\"placeholder\":\"Nome\"},on:{\"input\":function($event){return _vm.clearValidate()}},model:{value:(_vm.roleForm.role),callback:function ($$v) {_vm.$set(_vm.roleForm, \"role\", $$v)},expression:\"roleForm.role\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"type\":\"transparent\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.addRole()}},slot:\"append\"})],1)],1)],1)],2):_vm._e(),(_vm.step === 3)?_c('div',_vm._l((_vm.signers),function(signer,index){return _c('div',{key:index,staticClass:\"jus-protocol-dialog__status\"},[_c('div',{staticClass:\"jus-protocol-dialog__status-role\"},[_c('div',{staticClass:\"jus-protocol-dialog__status-role-name\"},[_vm._v(\" \"+_vm._s(signer.name)),_c('br')]),_c('div',{staticClass:\"jus-protocol-dialog__status-role-email\"},[_vm._v(\" \"+_vm._s(signer.email)+\" \")])]),_c('div',{staticClass:\"jus-protocol-dialog__status-icon\"},[(_vm.isThamirisSigner(signer) && !signer.signed)?_c('el-button',{staticStyle:{\"font-weight\":\"bold\"},attrs:{\"size\":_vm.buttonSize,\"icon\":\"el-icon-thumb\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.signDraft(signer)}}},[_vm._v(\" ASSINAR MINUTA AQUI \")]):_vm._e(),(signer.signatureStatus)?_c('span',[_vm._v(\" \"+_vm._s(_vm.$tc(`document.signature.status.${signer.signatureStatus}.text`))+\" \"),_c('jus-icon',{attrs:{\"icon\":_vm.$tc(`document.signature.status.${signer.signatureStatus}.icon`)}})],1):_c('span',[_vm._v(\" \"+_vm._s(_vm.$tc('document.signature.status.UNKNOWN.text'))+\" \"),_c('jus-icon',{attrs:{\"icon\":_vm.$tc('document.signature.status.UNKNOWN.icon')}})],1)],1)])}),0):_vm._e()],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('div',{staticClass:\"dialog-footer__alerts\"},[(!_vm.signerServiceIsAvailable)?_c('el-alert',{attrs:{\"title\":\"O assinador digital está indisponível no momento. Faça o download do arquivo e utilize outro meio de assinatura do documento.\",\"type\":\"error\",\"closable\":false,\"show-icon\":\"\",\"center\":\"\"}}):_vm._e()],1),_c('div',{staticClass:\"dialog-footer__buttons\"},[(_vm.document.canEdit && [3, 4].includes(_vm.step))?_c('el-tooltip',{attrs:{\"content\":\"Volta documento para edição.\"}},[_c('el-button',{attrs:{\"disabled\":_vm.loading,\"type\":\"primary\",\"icon\":\"el-icon-refresh-left\",\"size\":_vm.buttonSize},on:{\"click\":_vm.backDocumentToEditing}},[_vm._v(\" Voltar para edição \")])],1):_vm._e(),(_vm.step === 3 || (_vm.step === 1 && !_vm.signerServiceIsAvailable))?_c('el-tooltip',{attrs:{\"content\":\"Baixar minuta.\"}},[_c('el-button',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loadingDownload),expression:\"loadingDownload\"}],attrs:{\"icon\":\"el-icon-download\",\"type\":\"primary\",\"size\":_vm.buttonSize},on:{\"click\":_vm.downloadDocument}},[_vm._v(\" Baixar \")])],1):_vm._e(),([2, 4].includes(_vm.step))?_c('el-button',{attrs:{\"disabled\":_vm.loading,\"size\":_vm.buttonSize,\"plain\":\"\"},on:{\"click\":_vm.backToDocument}},[_vm._v(\" Voltar \")]):_vm._e(),(_vm.step === 1 && _vm.signerServiceIsAvailable)?_c('el-button',{attrs:{\"size\":_vm.buttonSize,\"disabled\":_vm.loading || !_vm.signerServiceIsAvailable,\"type\":\"primary\"},on:{\"click\":function($event){_vm.step = 2, _vm.hideForms()}}},[_vm._v(\" Definir assinantes da minuta \")]):_vm._e(),(_vm.step === 2)?_c('el-button',{attrs:{\"size\":_vm.buttonSize,\"disabled\":(!_vm.hasEmails || _vm.loadingChooseRecipients) || !_vm.signerServiceIsAvailable,\"type\":\"primary\"},on:{\"click\":_vm.confirmChooseRecipients}},[_vm._v(\" Enviar para Assinatura \")]):_vm._e(),(_vm.canResendNotification && _vm.step === 3)?_c('el-tooltip',{attrs:{\"content\":\"Reenvia notificação para todos os contatos que ainda não assinaram a minuta.\"}},[_c('el-button',{attrs:{\"disabled\":_vm.loading,\"icon\":\"el-icon-refresh-right\",\"type\":\"primary\",\"size\":_vm.buttonSize},on:{\"click\":_vm.resendSignersNotification}},[_vm._v(\" Reenviar \")])],1):_vm._e(),(false && _vm.step === 3)?_c('el-button',{attrs:{\"icon\":\"el-icon-view\",\"size\":_vm.buttonSize,\"type\":\"primary\"},on:{\"click\":_vm.visualizePdf}},[_vm._v(\" Visualizar \")]):_vm._e(),(![0, 4].includes(_vm.step))?_c('el-button',{attrs:{\"disabled\":_vm.loading,\"size\":_vm.buttonSize,\"type\":\"danger\"},on:{\"click\":_vm.deleteDocument}},[_c('i',{staticClass:\"el-icon-delete\",staticStyle:{\"color\":\"white\",\"margin-right\":\"4px\"}}),_vm._v(\" Excluir Minuta \")]):_vm._e(),(_vm.step !== 4)?_c('el-button',{attrs:{\"disabled\":_vm.loading,\"size\":_vm.buttonSize,\"plain\":\"\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\" \"+_vm._s([3, 4].includes(_vm.step) ? 'Fechar' : 'Cancelar')+\" \")]):_vm._e()],1)])]),_c('el-dialog',{attrs:{\"visible\":_vm.confirmChooseRecipientsVisible,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"show-close\":false,\"title\":\"Confirmar partes para assinatura\",\"width\":\"60%\",\"append-to-body\":\"\"},on:{\"update:visible\":function($event){_vm.confirmChooseRecipientsVisible=$event}}},[_c('el-alert',{staticClass:\"mb40\",attrs:{\"type\":\"info\",\"title\":\"Faltando algum assinante?\"}},[_vm._v(\" Cada parte assinante precisa ter o CPF cadastrado e um E-MAIL selecionado. Certifique-se na tela anterior se todas as partes para assinatura estão corretamente preenchidas. \")]),_vm._l((_vm.recipients),function(recipient){return _c('div',{key:recipient.name,staticClass:\"jus-protocol-dialog__confirm-recipients\"},[_c('jus-avatar-user',{attrs:{\"name\":recipient.name}}),_c('div',[_c('b',[_vm._v(_vm._s(recipient.name))]),_c('br'),_c('b',[_vm._v(_vm._s(_vm._f(\"cpfCnpj\")(recipient.documentNumber)))]),_c('br'),_vm._v(\" \"+_vm._s(recipient.email)+\" \")])],1)}),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"disabled\":_vm.loadingChooseRecipients,\"plain\":\"\"},on:{\"click\":function($event){_vm.confirmChooseRecipientsVisible = false}}},[_vm._v(\" Voltar \")]),_c('el-button',{attrs:{\"disabled\":_vm.loadingChooseRecipients,\"type\":\"primary\"},on:{\"click\":_vm.chooseRecipients}},[_vm._v(\" \"+_vm._s(_vm.signerServiceIsAvailable ? 'Confirmar e enviar' : 'Confirmar e salvar')+\" \")])],1)],2),_c('el-dialog',{attrs:{\"visible\":_vm.signDraftVisible,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"show-close\":true,\"append-to-body\":\"\",\"width\":\"100%\"},on:{\"update:visible\":function($event){_vm.signDraftVisible=$event}}},[_c('iframe',{staticClass:\"iframe-dialog\",staticStyle:{\"border\":\"none\"},attrs:{\"src\":_vm.disputeProtocol.urlToSign,\"title\":\"Assinar minuta.\",\"allowfullscreen\":\"\"}})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const IS_SMALL_WINDOW = window.innerHeight < 680\n","<template>\n  <div>\n    <el-dialog\n      :visible.sync=\"visible\"\n      :width=\"width\"\n      :class=\"{\n        'jus-protocol-dialog--full': fullscreen && step === 1,\n        'jus-protocol-dialog--large': [1, 4].includes(step) && !fullscreen\n      }\"\n      :close-on-click-modal=\"false\"\n      :close-on-press-escape=\"false\"\n      :show-close=\"false\"\n      append-to-body\n      fullscreen\n      :custom-class=\"`jus-protocol-dialog ${step === 3 ? 'jus-protocol-dialog--auto' : ''}`\"\n      class=\"jus-protocol-dialog\"\n    >\n      <div\n        slot=\"title\"\n        class=\"jus-protocol-dialog__header\"\n      >\n        <span\n          v-if=\"[3].includes(step) && document.signedDocument\"\n          class=\"jus-protocol-dialog__header__third-step\"\n        >\n          <el-link\n            :underline=\"false\"\n            class=\"jus-protocol-dialog__title\"\n            target=\"_blank\"\n            @click=\"openDocumentInNewTab\"\n          >\n            <div v-if=\"step !== 3\">\n              {{ title }}\n            </div>\n            <div\n              v-else\n            >\n              <div\n                v-for=\"(lineTitle, index) in title\"\n                :key=\"`${lineTitle}+${index}`\"\n              >\n                {{ lineTitle }}\n              </div>\n            </div>\n          </el-link>\n        </span>\n\n        <span\n          v-else\n          class=\"jus-protocol-dialog__title\"\n        >\n          {{ title }}\n        </span>\n\n        <span\n          v-if=\"[1].includes(step)\"\n          class=\"jus-protocol-dialog__header-minimize\"\n          @click=\"handleMinimizeDraft\"\n        >\n          <el-tooltip content=\"Minimizar minuta\">\n            <i class=\"el-icon-minus\" />\n          </el-tooltip>\n        </span>\n      </div>\n\n      <div v-loading=\"loading\">\n        <!-- ESCOLHA DE TEMPLATE -->\n        <div\n          v-if=\"step === 0\"\n          v-loading=\"waitingModels\"\n          class=\"jus-protocol-dialog__model-choice\"\n        >\n          <div\n            v-for=\"model in models\"\n            :key=\"model.id\"\n          >\n            <el-tooltip\n              effect=\"dark\"\n              placement=\"top\"\n              :content=\"model.name\"\n            >\n              <el-button\n                plain\n                class=\"model-choice__button\"\n                @click=\"selectModel(model.id)\"\n              >\n                <span class=\"model-choice__button-text\">{{ model.name }}</span>\n                <jus-icon\n                  icon=\"doc\"\n                  is-active\n                  class=\"model-choice__button-icon\"\n                />\n              </el-button>\n            </el-tooltip>\n          </div>\n        </div>\n        <!-- EDIÇÃO DE TEMPLATE -->\n        <el-tooltip\n          v-if=\"step === 1 && !isLowHeight\"\n          :content=\"fullscreen ? 'Reduzir tela' : 'Expandir tela'\"\n        >\n          <i\n            :class=\"fullscreen ? 'el-icon-bottom-left' : 'el-icon-top-right'\"\n            class=\"jus-protocol-dialog__fullscreen-icon\"\n            @click=\"changeFullscreen\"\n          />\n        </el-tooltip>\n\n        <div v-if=\"step === 1\">\n          <iframe\n            :src=\"document.url\"\n            title=\"Edição de minuta.\"\n            style=\"border: none;\"\n            allowfullscreen\n          />\n        </div>\n\n        <!-- ESCOLHA DE EMAILS PARA ASSINATURA -->\n        <div\n          v-if=\"step === 2\"\n          class=\"jus-protocol-dialog__send-to\"\n        >\n          <p>Escolha um endereço de email para cada parte.</p>\n          <div\n            v-for=\"(role, index) in availableSigners\"\n            :key=\"index\"\n          >\n            <span class=\"jus-protocol-dialog__send-title\">\n              {{ role.name.toUpperCase() }}\n\n              <div class=\"jus-protocol-dialog__send-default-signer\">\n                <el-checkbox\n                  v-if=\"recipients[role.name] && !isDefaultSigner(role.documentNumber)\"\n                  :value=\"recipients[role.name].defaultSigner\"\n                  @change=\"changeDefaultSigner(role)\"\n                />\n                {{ getLabelSigner(role) }}\n              </div>\n            </span>\n            <div\n              v-if=\"role.party && role.roles.length\"\n              class=\"subtitle\"\n            >\n              {{ $tc('fields.' + role.party.toLocaleLowerCase() + role.roles[0].charAt(0).toUpperCase() + role.roles[0].slice(1).toLocaleLowerCase(), isRecovery) }}\n            </div>\n            <div\n              v-if=\"role.documentNumber && isValidCpfOrCnpj(role.documentNumber)\"\n              :key=\"formKey\"\n              class=\"subtitle\"\n            >\n              {{ role.documentNumber | cpfCnpj }}\n            </div>\n            <el-form\n              v-else\n              :ref=\"'documentForm' + index\"\n              :model=\"documentForm\"\n              :rules=\"documentFormRules\"\n              @submit.native.prevent=\"addDocument(role, index)\"\n            >\n              <el-form-item\n                :key=\"formKey\"\n                prop=\"document\"\n                style=\"margin-bottom: 0px;\"\n              >\n                <el-input\n                  :ref=\"'documentInput' + formKey\"\n                  v-model=\"documentForm.document[index]\"\n                  v-mask=\"['###.###.###-##', '##.###.###/####-##']\"\n                  placeholder=\"Informe o CPF da parte para selecionar e-mail de assinatura\"\n                  size=\"small\"\n                  @input=\"clearValidate(index)\"\n                >\n                  <el-button\n                    slot=\"append\"\n                    type=\"transparent\"\n                    icon=\"el-icon-plus\"\n                    @click=\"addDocument(role, index)\"\n                  />\n                </el-input>\n              </el-form-item>\n            </el-form>\n            <div\n              v-for=\"(email, emailIndex) in role.emails\"\n              :key=\"`email-${emailIndex}`\"\n              :class=\"{ 'mt10': index === 0 }\"\n              class=\"line\"\n            >\n              <el-tooltip\n                :key=\"formKey\"\n                :disabled=\"!!role.documentNumber && isValidCpfOrCnpj(role.documentNumber)\"\n                content=\"Cadastre o CPF da parte para selecionar um e-mail\"\n              >\n                <span>\n                  <el-checkbox\n                    :value=\"Object.keys(recipients).includes(role.name) && recipients[role.name].email === email.address\"\n                    :label=\"true\"\n                    :name=\"role.name\"\n                    :disabled=\"!role.documentNumber || !isValidCpfOrCnpj(role.documentNumber)\"\n                    @change=\"setRecipientEmail(generateSigner(role, email))\"\n                  >\n                    {{ email.address }}\n                  </el-checkbox>\n                </span>\n              </el-tooltip>\n              <el-button\n                v-if=\"email.canDelete\"\n                size=\"mini\"\n                type=\"text\"\n                icon=\"el-icon-delete\"\n                @click=\"removeEmail(email.address, role.name)\"\n              />\n            </div>\n            <div>\n              <el-tooltip\n                :disabled=\"!!role.documentNumber && isValidCpfOrCnpj(role.documentNumber)\"\n                content=\"Cadastre o CPF da parte para adicionar um e-mail\"\n              >\n                <span><el-button\n                  v-show=\"!role.show\"\n                  :key=\"formKey\"\n                  :disabled=\"!role.documentNumber\"\n                  type=\"text\"\n                  icon=\"el-icon-plus\"\n                  class=\"add-email\"\n                  @click=\"showAddEmail(role.name, index)\"\n                >\n                  Adicionar e-mail\n                </el-button></span>\n              </el-tooltip>\n              <el-form\n                :ref=\"'emailForm' + index\"\n                :model=\"emailForm\"\n                :rules=\"emailFormRules\"\n                @submit.native.prevent=\"addEmail(role, index)\"\n              >\n                <el-form-item\n                  v-show=\"role.show\"\n                  :key=\"formKey\"\n                  prop=\"email\"\n                >\n                  <el-input\n                    :ref=\"'emailInput' + index\"\n                    v-model=\"emailForm.email[role.name]\"\n                    placeholder=\"Adicionar e-mail\"\n                    size=\"small\"\n                    @input=\"clearValidate(index)\"\n                  >\n                    <el-button\n                      slot=\"append\"\n                      type=\"transparent\"\n                      icon=\"el-icon-plus\"\n                      @click=\"addEmail(role, index)\"\n                    />\n                  </el-input>\n                </el-form-item>\n              </el-form>\n            </div>\n          </div>\n          <el-form\n            ref=\"roleForm\"\n            :model=\"roleForm\"\n            :rules=\"roleFormRules\"\n            label-position=\"top\"\n            hide-required-asterisk\n            class=\"new-role\"\n            @submit.native.prevent=\"addRole()\"\n          >\n            <el-button\n              v-show=\"!showARoleButton\"\n              type=\"text\"\n              icon=\"el-icon-plus\"\n              @click=\"showAddRole()\"\n            >\n              Adicionar nova parte\n            </el-button>\n            <el-form-item\n              v-show=\"showARoleButton\"\n              label=\"Adicionar nova parte\"\n              prop=\"role\"\n            >\n              <el-input\n                ref=\"newRoleInput\"\n                v-model=\"roleForm.role\"\n                placeholder=\"Nome\"\n                @input=\"clearValidate()\"\n              >\n                <el-button\n                  slot=\"append\"\n                  type=\"transparent\"\n                  icon=\"el-icon-plus\"\n                  @click=\"addRole()\"\n                />\n              </el-input>\n            </el-form-item>\n          </el-form>\n        </div>\n\n        <!-- FEEDBACK DE ASSINATURAS -->\n        <div v-if=\"step === 3\">\n          <div\n            v-for=\"(signer, index) in signers\"\n            :key=\"index\"\n            class=\"jus-protocol-dialog__status\"\n          >\n            <div class=\"jus-protocol-dialog__status-role\">\n              <div class=\"jus-protocol-dialog__status-role-name\">\n                {{ signer.name }}<br>\n              </div>\n              <div class=\"jus-protocol-dialog__status-role-email\">\n                {{ signer.email }}\n              </div>\n            </div>\n            <div class=\"jus-protocol-dialog__status-icon\">\n              <el-button\n                v-if=\"isThamirisSigner(signer) && !signer.signed\"\n                :size=\"buttonSize\"\n                icon=\"el-icon-thumb\"\n                type=\"primary\"\n                style=\"font-weight: bold\"\n                @click=\"signDraft(signer)\"\n              >\n                ASSINAR MINUTA AQUI\n              </el-button>\n\n              <span v-if=\"signer.signatureStatus\">\n                {{ $tc(`document.signature.status.${signer.signatureStatus}.text`) }}\n                <jus-icon :icon=\"$tc(`document.signature.status.${signer.signatureStatus}.icon`)\" />\n              </span>\n\n              <span v-else>\n                {{ $tc('document.signature.status.UNKNOWN.text') }}\n                <jus-icon :icon=\"$tc('document.signature.status.UNKNOWN.icon')\" />\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- BOTÕES DO RODAPE -->\n      <div\n        slot=\"footer\"\n        class=\"dialog-footer\"\n      >\n        <div class=\"dialog-footer__alerts\">\n          <el-alert\n            v-if=\"!signerServiceIsAvailable\"\n            title=\"O assinador digital está indisponível no momento. Faça o download do arquivo e utilize outro meio de assinatura do documento.\"\n            type=\"error\"\n            :closable=\"false\"\n            show-icon\n            center\n          />\n        </div>\n\n        <div class=\"dialog-footer__buttons\">\n          <!-- Voltar para edição -->\n          <el-tooltip\n            v-if=\"document.canEdit && [3, 4].includes(step)\"\n            content=\"Volta documento para edição.\"\n          >\n            <el-button\n              :disabled=\"loading\"\n              type=\"primary\"\n              icon=\"el-icon-refresh-left\"\n              :size=\"buttonSize\"\n              @click=\"backDocumentToEditing\"\n            >\n              Voltar para edição\n            </el-button>\n          </el-tooltip>\n\n          <!-- Baixar -->\n          <el-tooltip\n            v-if=\"step === 3 || (step === 1 && !signerServiceIsAvailable)\"\n            content=\"Baixar minuta.\"\n          >\n            <el-button\n              v-loading=\"loadingDownload\"\n              icon=\"el-icon-download\"\n              type=\"primary\"\n              :size=\"buttonSize\"\n              @click=\"downloadDocument\"\n            >\n              Baixar\n            </el-button>\n          </el-tooltip>\n\n          <!-- Voltar -->\n          <el-button\n            v-if=\"[2, 4].includes(step)\"\n            :disabled=\"loading\"\n            :size=\"buttonSize\"\n            plain\n            @click=\"backToDocument\"\n          >\n            Voltar\n          </el-button>\n\n          <!-- Definir assinantes da minuta -->\n          <el-button\n            v-if=\"step === 1 && signerServiceIsAvailable\"\n            :size=\"buttonSize\"\n            :disabled=\"loading || !signerServiceIsAvailable\"\n            type=\"primary\"\n            @click=\"step = 2, hideForms()\"\n          >\n            Definir assinantes da minuta\n          </el-button>\n\n          <!-- Enviar para Assinatura -->\n          <el-button\n            v-if=\"step === 2\"\n            :size=\"buttonSize\"\n            :disabled=\"(!hasEmails || loadingChooseRecipients) || !signerServiceIsAvailable\"\n            type=\"primary\"\n            @click=\"confirmChooseRecipients\"\n          >\n            Enviar para Assinatura\n          </el-button>\n\n          <!-- Reenviar -->\n          <el-tooltip\n            v-if=\"canResendNotification && step === 3\"\n            content=\"Reenvia notificação para todos os contatos que ainda não assinaram a minuta.\"\n          >\n            <el-button\n              :disabled=\"loading\"\n              icon=\"el-icon-refresh-right\"\n              type=\"primary\"\n              :size=\"buttonSize\"\n              @click=\"resendSignersNotification\"\n            >\n              Reenviar\n            </el-button>\n          </el-tooltip>\n\n          <!-- Visualizar -->\n          <el-button\n            v-if=\"false && step === 3\"\n            icon=\"el-icon-view\"\n            :size=\"buttonSize\"\n            type=\"primary\"\n            @click=\"visualizePdf\"\n          >\n            Visualizar\n          </el-button>\n\n          <!-- Excluir minuta -->\n          <el-button\n            v-if=\"![0, 4].includes(step)\"\n            :disabled=\"loading\"\n            :size=\"buttonSize\"\n            type=\"danger\"\n            @click=\"deleteDocument\"\n          >\n            <i\n              class=\"el-icon-delete\"\n              style=\"color: white; margin-right: 4px;\"\n            />\n            Excluir Minuta\n          </el-button>\n\n          <!-- Fechar/Cancelar -->\n          <el-button\n            v-if=\"step !== 4\"\n            :disabled=\"loading\"\n            :size=\"buttonSize\"\n            plain\n            type=\"danger\"\n            @click=\"visible = false\"\n          >\n            {{ [3, 4].includes(step) ? 'Fechar' : 'Cancelar' }}\n          </el-button>\n        </div>\n      </div>\n    </el-dialog>\n\n    <el-dialog\n      :visible.sync=\"confirmChooseRecipientsVisible\"\n      :close-on-click-modal=\"false\"\n      :close-on-press-escape=\"false\"\n      :show-close=\"false\"\n      title=\"Confirmar partes para assinatura\"\n      width=\"60%\"\n      append-to-body\n    >\n      <el-alert\n        type=\"info\"\n        title=\"Faltando algum assinante?\"\n        class=\"mb40\"\n      >\n        Cada parte assinante precisa ter o CPF cadastrado e um E-MAIL selecionado. Certifique-se na\n        tela anterior se todas as partes para assinatura estão corretamente preenchidas.\n      </el-alert>\n\n      <div\n        v-for=\"recipient of recipients\"\n        :key=\"recipient.name\"\n        class=\"jus-protocol-dialog__confirm-recipients\"\n      >\n        <jus-avatar-user :name=\"recipient.name\" />\n        <div>\n          <b>{{ recipient.name }}</b><br>\n          <b>{{ recipient.documentNumber | cpfCnpj }}</b><br>\n          {{ recipient.email }}\n        </div>\n      </div>\n\n      <span\n        slot=\"footer\"\n        class=\"dialog-footer\"\n      >\n        <el-button\n          :disabled=\"loadingChooseRecipients\"\n          plain\n          @click=\"confirmChooseRecipientsVisible = false\"\n        >\n          Voltar\n        </el-button>\n\n        <el-button\n          :disabled=\"loadingChooseRecipients\"\n          type=\"primary\"\n          @click=\"chooseRecipients\"\n        >\n          {{ signerServiceIsAvailable ? 'Confirmar e enviar' : 'Confirmar e salvar' }}\n        </el-button>\n      </span>\n    </el-dialog>\n\n    <el-dialog\n      :visible.sync=\"signDraftVisible\"\n      :close-on-click-modal=\"false\"\n      :close-on-press-escape=\"false\"\n      :show-close=\"true\"\n      append-to-body\n      width=\"100%\"\n    >\n      <iframe\n        :src=\"disputeProtocol.urlToSign\"\n        title=\"Assinar minuta.\"\n        class=\"iframe-dialog\"\n        style=\"border: none;\"\n        allowfullscreen\n      />\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { validateObjectEmail, validateDocument, validateNameWithoutEmail } from '@/utils/validations'\nimport { IS_SMALL_WINDOW } from '@/constants/variables'\nimport * as cpf from '@fnando/cpf'\n// import * as cnpj from '@fnando/cnpj'\nimport { mapActions, mapGetters } from 'vuex'\nimport { concat } from 'lodash'\n\nexport default {\n  name: 'JusProtocolDialog',\n\n  props: {\n    protocolDialogVisible: {\n      type: Boolean,\n      default: false\n    },\n\n    dispute: {\n      type: Object,\n      default: () => ({\n        id: 0,\n        disputeRoles: []\n      })\n    }\n  },\n\n  data() {\n    return {\n      step: 0,\n      loading: false,\n      loadingPdf: false,\n      loadingDownload: false,\n      loadingChooseRecipients: false,\n      confirmChooseRecipientsVisible: false,\n      signDraftVisible: false,\n      fullscreen: false,\n      models: [],\n      emails: {},\n      recipients: {},\n      document: {},\n      signers: '',\n      formKey: 0,\n      roles: [],\n      showARoleButton: false,\n      roleForm: {\n        role: ''\n      },\n      roleFormRules: {\n        role: [\n          { required: true, message: 'Campo obrigatório', trigger: 'submit' },\n          { validator: validateNameWithoutEmail, trigger: 'submit' }\n        ]\n      },\n      emailForm: {\n        email: {}\n      },\n      emailFormRules: {\n        email: [\n          { required: true, message: 'Campo obrigatório', trigger: 'submit' },\n          { validator: validateObjectEmail, trigger: 'submit' }\n        ]\n      },\n      documentForm: {\n        document: {}\n      },\n      documentFormRules: {\n        document: [\n          { validator: validateDocument, message: 'CPF/CNPJ inválido.', trigger: 'submit' },\n          { required: true, message: 'Campo obrigatório', trigger: 'submit' }\n        ]\n      },\n      isLowHeight: false,\n      innerWidth: window.innerWidth,\n      waitingModels: false\n    }\n  },\n\n  computed: {\n    ...mapGetters({\n      defaultSigners: 'availableSigners',\n      accountEmail: 'accountEmail',\n      disputeProtocol: 'getDisputeProtocol',\n      isRecovery: 'isWorkspaceRecovery',\n      openDraftId: 'getOpenDraftId',\n      signerServiceIsAvailable: 'getSignerServiceAvailable'\n    }),\n\n    disputeRoles() {\n      return this.dispute.getDisputeRoles\n    },\n\n    disputeId() {\n      return this.dispute.getDisputeId\n    },\n\n    defaultsDocuments() {\n      return this.defaultSigners.map(signer => this.stripDoc(signer.documentNumber))\n    },\n\n    availableSigners() {\n      function getObjectByDoc(doc, list) {\n        return list.find(item => item.documentNumber === doc) || { emails: [] }\n      }\n\n      function filterValidEmails(emails) {\n        return emails.filter(email => (\n          (email.archived === false && email.isMain && email.isValid) ||\n          email.canDelete))\n      }\n\n      function concatEmails(list1, list2) {\n        const emails = concat(list1, list2)\n        const res = []\n\n        for (const email of emails) {\n          if (res.filter(el => el.address === email.address).length < 1) {\n            res.push(email)\n          }\n        }\n\n        return res\n      }\n\n      const docs = this.roles.map(role => this.stripDoc(role.documentNumber))\n\n      const signers = this.defaultSigners.filter(signer => !docs.includes(this.stripDoc(signer.documentNumber)))\n      const roles = this.roles.map(role => {\n        return {\n          ...role,\n          show: false,\n          emails: filterValidEmails(concatEmails(role.emails, getObjectByDoc(role.documentNumber, this.defaultSigners).emails))\n        }\n      })\n      return [...roles, ...signers].filter(({ archived }) => archived !== true)\n    },\n\n    visible: {\n      get() {\n        return this.protocolDialogVisible\n      },\n      set(value) {\n        if (!value) this.$emit('update:protocolDialogVisible', value)\n      }\n    },\n\n    title() {\n      switch (this.step) {\n        case 0:\n          return this.models.length > 1 ? 'Escolha um modelo para iniciar' : 'Carregando...'\n        case 1: return 'Visualização da Minuta'\n        case 2: return 'Enviar Minuta'\n        case 3:\n        case 4: return this.handleTitle(this.document.name)\n        default: return 'Minuta'\n      }\n    },\n\n    width() {\n      if (this.innerWidth <= 950) return '100%'\n      if (this.step === 1 && this.fullscreen === true) {\n        return '100%'\n      }\n      if ([1, 4].includes(this.step)) {\n        return '85%'\n      }\n      return '80%'\n    },\n\n    hasEmails() {\n      let hasEmails = false\n      if (this.availableSigners) {\n        this.availableSigners.map(e => {\n          if (e.emails.length) hasEmails = true\n        })\n      }\n      return hasEmails\n    },\n\n    pdfUrl() {\n      if (this.disputeId) {\n        return 'https://backend.justto.app/api/office/documents/download-signed/' + this.disputeId\n      }\n\n      return ''\n    },\n\n    canResendNotification() {\n      if (this.signers) {\n        return this.signers.length > this.signers.filter(s => {\n          return s.signed === true\n        }).length\n      }\n\n      return null\n    },\n\n    buttonSize() {\n      return IS_SMALL_WINDOW ? 'mini' : 'medium'\n    }\n  },\n\n  watch: {\n    step() {\n      if (Number(this.step) === 4) {\n        this.step = Number(localStorage.getItem('lastStep'))\n        this.getDocument()\n      } else {\n        localStorage.setItem('lastStep', this.step)\n      }\n\n      if (Number(this.step) === 2) {\n        this.getDefaultAssigners()\n      }\n\n      if (Number(this.step) === 1) {\n        document.body.style.zoom = 0.8\n      } else {\n        document.body.style.zoom = 1\n      }\n    },\n\n    visible(value) {\n      if (value) {\n        if (Number(this.step) === 1) {\n          document.body.style.zoom = 0.8\n        } else {\n          document.body.style.zoom = 1\n        }\n\n        this.getSignerStatus()\n\n        this.openStoredDraft()\n        this.disputeRolesFilter(this.dispute).then(({ content: roles }) => {\n          this.loading = true\n          this.loadingChooseRecipients = false\n          this.loadingDownload = false\n          this.step = 0\n          this.recipients = {}\n          this.signers = ''\n          this.roles = JSON.parse(JSON.stringify(roles.filter(({ archived }) => !archived) || this.disputeRoles))\n          this.emailForm.email = {}\n          this.getDocument()\n          this.roleForm.role = ''\n          this.showARoleButton = false\n        })\n      } else {\n        document.body.style.zoom = 1\n      }\n    },\n\n    openDraftId: {\n      deep: true,\n      handler: 'handleDraftNeedOpen'\n    }\n  },\n\n  mounted() {\n    window.addEventListener('resize', () => {\n      this.innerWidth = window.innerWidth\n    })\n    if (IS_SMALL_WINDOW) {\n      this.isLowHeight = true\n      this.fullscreen = true\n    }\n    this.disputeRolesFilter()\n    this.handleDraftNeedOpen()\n  },\n\n  methods: {\n    ...mapActions([\n      'getDocumentModels',\n      'getDocumentByDisputeId',\n      'getDefaultAssigners',\n      'setSelectedSigners',\n      'setDocumentSigners',\n      'cleanSelectedSigners',\n      'cleanSelectedSigners',\n      'filterDisputeRole',\n      'getDisputeProtocol',\n      'saveMinimizedDraft',\n      'openStoredDraft',\n      'getSignerStatus',\n      'getDocumentUrl'\n    ]),\n\n    disputeRolesFilter() {\n      return new Promise((resolve, reject) => {\n        this.filterDisputeRole(this.dispute).then(resolve).catch(reject)\n      })\n    },\n\n    getLabelSigner(role) {\n      const { documentNumber, name } = role\n      if (this.isDefaultSigner(documentNumber)) {\n        return 'Assinante padrão'\n      } else if (this.recipients[name]) {\n        return 'Definir como assinante padrão'\n      } else {\n        return ''\n      }\n    },\n\n    stripDoc(doc) {\n      if (cpf.isValid(doc)) {\n        return cpf.strip(doc)\n      // } else if (cnpj.isValid(doc)) {\n      //   return cnpj.strip(doc)\n      } else {\n        return ''\n      }\n    },\n\n    changeDefaultSigner(role) {\n      const { name, documentNumber } = role\n      if (!this.isDefaultSigner(documentNumber)) {\n        this.recipients[name].defaultSigner = !this.recipients[name].defaultSigner\n        this.$forceUpdate()\n      }\n    },\n\n    setRecipientEmail(signer) {\n      if (Object.keys(this.recipients).includes(signer.name)) {\n        if (this.recipients[signer.name].email === signer.email) {\n          this.$delete(this.recipients, signer.name)\n        } else {\n          this.recipients[signer.name] = signer\n        }\n      } else {\n        this.recipients[signer.name] = signer\n      }\n      this.$forceUpdate()\n    },\n\n    generateSigner(role, email) {\n      return {\n        name: role.name,\n        documentNumber: role.documentNumber,\n        email: email.address,\n        disputeRoleId: role.id,\n        defaultSigner: this.isDefaultSigner(role.documentNumber)\n      }\n    },\n\n    isDefaultSigner(doc) {\n      return this.defaultsDocuments.includes(this.stripDoc(doc))\n    },\n\n    isValidCpfOrCnpj(value) {\n      return cpf.isValid(value)\n    },\n\n    async openDocumentInNewTab() {\n      try {\n        const downloadUrl = await this.getDocumentUrl(this.disputeId)\n        const { origin } = new URL(downloadUrl)\n        const url = `${origin}/private/documents/${this.document.signedDocument.signKey}`\n\n        navigator.clipboard.writeText(url)\n\n        this.$jusNotification({\n          title: 'Yay!',\n          message: 'URL do documento copiado!',\n          type: 'success'\n        })\n\n        setTimeout(() => window.open(url), 1400)\n      } catch (error) {\n        this.$jusNotification({ error })\n      }\n    },\n\n    addDocument(role, formIndex) {\n      const documentForm = this.$refs['documentForm' + formIndex][0]\n      documentForm.validate(valid => {\n        if (valid) {\n          if (!role.documentNumber) {\n            this.formKey += 1\n            this.$forceUpdate()\n            this.showAddEmail(role.name, formIndex)\n          }\n\n          this.roles[formIndex].documentNumber = this.stripDoc(this.documentForm.document[formIndex])\n          role.documentNumber = this.stripDoc(this.documentForm.document[formIndex])\n        }\n      })\n    },\n\n    hideForms() {\n      this.roles.map(r => { r.show = false })\n      this.showARoleButton = false\n      this.formKey += 1\n    },\n\n    addRole() {\n      this.$refs.roleForm.validate(valid => {\n        if (valid) {\n          const name = this.roleForm.role.toUpperCase()\n          this.roles.push({ name, emails: [] })\n          this.roleForm.role = ''\n          this.showARoleButton = false\n          this.formKey += 1\n          this.$nextTick(() => {\n            const documentInput = this.$refs['documentInput' + this.formKey][0]\n            documentInput.focus()\n          })\n        }\n      })\n    },\n\n    showAddRole() {\n      this.showARoleButton = true\n      this.formKey += 1\n      this.$nextTick(() => this.$refs.newRoleInput.focus())\n    },\n\n    addEmail(role, formIndex) {\n      const emailForm = this.$refs['emailForm' + formIndex][0]\n      emailForm.validate(valid => {\n        if (valid) {\n          if (this.emailForm.email[role.name]) {\n            const index = this.roles.findIndex(r => r.name === role.name)\n            if (index > -1) {\n              this.roles[index].emails.push({\n                address: this.emailForm.email[role.name],\n                canDelete: true\n              })\n              const email = this.emailForm.email[role.name]\n              this.recipients[role.name] = this.generateSigner(role, { address: email })\n              this.emailForm.email = {}\n              this.roles[index].show = false\n              this.formKey += 1\n            }\n          }\n        }\n      })\n    },\n\n    showAddEmail(name, formIndex) {\n      this.availableSigners.map(r => {\n        if (r.name === name) r.show = true\n        else r.show = false\n      })\n      this.showARoleButton = false\n      this.formKey += 1\n      if (formIndex) {\n        this.$nextTick(() => {\n          const emailInput = this.$refs['emailInput' + formIndex][0]\n          emailInput.focus()\n        })\n      }\n      this.$forceUpdate()\n    },\n\n    removeEmail(email, name) {\n      const index = this.roles.findIndex(r => r.name === name)\n      if (index > -1) {\n        const emailIndex = this.roles[index].emails.findIndex(e => e.address === email)\n        this.roles[index].emails.splice(emailIndex, 1)\n      }\n    },\n\n    clearValidate(formIndex) {\n      const roleform = this.$refs.roleForm\n      let documentForm\n      let emailForm\n      if (formIndex) {\n        documentForm = this.$refs['documentForm' + formIndex]\n        emailForm = this.$refs['emailForm' + formIndex]\n      }\n      if (roleform) roleform.clearValidate()\n      if (documentForm && documentForm.length) documentForm[0].clearValidate()\n      if (emailForm && emailForm.length) emailForm[0].clearValidate()\n    },\n\n    updateDocument() {\n      this.getDocumentByDisputeId(this.disputeId).then(document => {\n        if (document) { this.document = document }\n      }).catch(error => this.$jusNotification({ error }))\n    },\n\n    getDocument() {\n      this.waitingModels = true\n\n      this.getDocumentByDisputeId(this.disputeId).then(document => {\n        if (document) {\n          this.document = document\n          if (document.signedDocument === null) {\n            this.step = 1\n          } else {\n            this.signers = document.signedDocument.signers\n            this.step = 3\n          }\n        } else {\n          this.getModels()\n        }\n      }).catch(error => {\n        this.visible = false\n        this.loading = false\n        this.$jusNotification({ error })\n      }).finally(() => {\n        this.waitingModels = false\n        this.loading = false\n      })\n    },\n\n    getModels() {\n      this.loading = true\n      this.getDocumentModels().then(models => {\n        this.models = models.filter(({ archived }) => !archived)\n        const isUnique = this.models.length && this.models.length === 1\n        if (isUnique) {\n          this.selectModel(this.models[0].id, isUnique)\n        }\n      }).catch(error => {\n        this.visible = false\n        this.$jusNotification({ error })\n      }).finally(() => {\n        this.loading = false\n      })\n    },\n\n    selectModel(modelId, isUnique) {\n      const { disputeId } = this\n\n      this.loading = true\n      this.waitingModels = true\n\n      this.$store.dispatch('createDocumentByModel', { disputeId, modelId }).then(doc => {\n        this.document = doc\n        this.step = 1\n        if (isUnique) {\n          const hideAlert = localStorage.getItem('jushidemodelalert')\n          if (!hideAlert) {\n            this.$confirm(\n              `Este é um modelo padrão disponibilizado pela ProJuris.\n              Fique à vontade para edita-lo de acordo com suas necessidades.`,\n              'Minuta padrão', {\n                confirmButtonText: 'OK',\n                cancelButtonText: 'Não exibir mais esta mensagem',\n                dangerouslyUseHTMLString: true,\n                type: 'info'\n              }\n            ).catch(() => {\n              localStorage.setItem('jushidemodelalert', true)\n            })\n          }\n        }\n        // SEGMENT TRACK\n        this.$jusSegment('Geração de minuta', { description: `Minuta gerada: ${this.document.name}` })\n      }).catch(error => {\n        this.visible = false\n        this.$jusNotification({ error })\n      }).finally(() => {\n        this.loading = false\n        this.waitingModels = false\n      })\n    },\n\n    confirmChooseRecipients() {\n      if (!Object.keys(this.recipients).length) {\n        this.$jusNotification({\n          title: 'Ops!',\n          message: 'Selecione ao menos um email.',\n          type: 'warning'\n        })\n        return false\n      } else {\n        new Promise((resolve, reject) => {\n          for (const recipient of Object.values(this.recipients)) {\n            if (!this.isValidCpfOrCnpj(recipient.documentNumber)) {\n              reject(new Error(`${recipient.name} está com o número do documento inválido`))\n            }\n          }\n          resolve()\n        }).then(() => {\n          this.confirmChooseRecipientsVisible = true\n        }).catch(error => {\n          this.$jusNotification({ error })\n          return false\n        })\n      }\n    },\n\n    chooseRecipients() {\n      this.loading = true\n      this.loadingChooseRecipients = true\n      this.confirmChooseRecipientsVisible = false\n      const recipients = Object.values(this.recipients).map(recipient => {\n        const { name, email, documentNumber, disputeRoleId, defaultSigner } = recipient\n        return { name, email, documentNumber, disputeRoleId, defaultSigner }\n      })\n      this.setDocumentSigners({\n        disputeId: this.disputeId, recipients\n      }).then(doc => {\n        this.signers = doc.signers\n        this.step = 3\n        this.loading = false\n        this.document.signedDocument = doc\n        this.document.signedDocumentId = doc.id\n        this.document.canEdit = true\n      }).catch(error => {\n        this.visible = false\n        this.$jusNotification({ error })\n      }).finally(() => {\n        this.loading = false\n        this.loadingChooseRecipients = false\n        this.recipients = {}\n        this.updateDocument()\n      })\n    },\n\n    resendSignersNotification() {\n      this.loading = true\n      this.$store.dispatch('resendSignersNotification', {\n        disputeId: this.disputeId\n      }).then(() => {\n        this.$jusNotification({\n          title: 'Yay!',\n          message: 'Notificação reenviada com sucesso',\n          type: 'success'\n        })\n      }).catch(error => {\n        this.$jusNotification({ error })\n      }).finally(() => {\n        this.loading = false\n      })\n    },\n\n    backToDocument() {\n      if (this.step === 4) {\n        this.step = 3\n      } else {\n        this.step = 1\n        this.recipients = {}\n      }\n    },\n\n    downloadDocument() {\n      this.loadingDownload = true\n      this.$store.dispatch('downloadDocument', {\n        disputeId: this.disputeId,\n        name: this.document.name\n      }).catch(error => {\n        this.$jusNotification({ error })\n      }).finally(() => {\n        this.loadingDownload = false\n      })\n    },\n\n    deleteDocument() {\n      this.$confirm('Tem certeza que deseja excluir?', {\n        confirmButtonText: 'Excluir',\n        cancelButtonText: 'Cancelar',\n        title: 'Atenção!',\n        type: 'warning'\n      }).then(() => {\n        this.loading = true\n        this.$store.dispatch('deleteDocument', this.disputeId).then(() => {\n          this.$jusNotification({\n            title: 'Yay!',\n            message: 'Minuta excluída com sucesso',\n            type: 'success'\n          })\n          this.step = 0\n        }).catch(error => {\n          this.$jusNotification({ error })\n        }).finally(() => {\n          this.visible = false\n        })\n      })\n    },\n\n    visualizePdf() {\n      this.loadingPdf = true\n      this.step = 4\n    },\n\n    backDocumentToEditing() {\n      this.$confirm('Você vai cancelar o documento já enviado para assinatura. Tem certeza que deseja voltar para edição?', {\n        confirmButtonText: 'Voltar para edição',\n        cancelButtonText: 'Cancelar',\n        title: 'Atenção!',\n        type: 'warning'\n      }).then(() => {\n        this.loading = true\n        this.$store.dispatch('backDocumentToEditing', this.disputeId).then(() => {\n          this.step = 1\n          this.loading = false\n          this.$jusNotification({\n            title: 'Yay!',\n            message: 'Ok, seu documento voltou para faze de edição!',\n            type: 'success'\n          })\n        }).catch(error => {\n          this.$jusNotification({ error })\n        })\n      })\n    },\n\n    changeFullscreen() {\n      this.fullscreen = !this.fullscreen\n    },\n\n    handleTitle(title) {\n      if (title.includes('_-_')) {\n        const words = title.split('_-_')\n        if (words.length < 4) return [title, '']\n        const firstLine = words[0].replaceAll('_', ' ') + ' - ' + words[1].replaceAll('_', ' ')\n        const secondLine = words[2].replaceAll('_', ' ') + ' - ' + words[3].replaceAll('_', ' ')\n        return [firstLine, secondLine]\n      } else {\n        return [title, '']\n      }\n    },\n\n    isThamirisSigner(signer) {\n      const isThamirisSigner = this.dispute.getDisputeRoles.filter((role) => {\n        return role.roles?.includes('NEGOTIATOR')\n      }).filter(role => {\n        return role.emails.filter(email => email.address === signer.email).length > 0\n      }).length > 0\n      const isThamirisEmail = signer.email === this.accountEmail\n      return isThamirisSigner && isThamirisEmail\n    },\n\n    signDraft(signer) {\n      this.getDisputeProtocol({ disputeId: this.dispute.getDisputeId, docNumber: signer.documentNumber })\n      this.signDraftVisible = true\n    },\n\n    async handleMinimizeDraft() {\n      await this.saveMinimizedDraft(this.dispute)\n      this.visible = false\n    },\n\n    handleDraftNeedOpen() {\n      if (this.openDraftId && Number(this.openDraftId) === Number(this.dispute.getDisputeId) && !this.visible) {\n        this.$emit('update:protocolDialogVisible', true)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '~projuris-acordos-theme/src/common/colors.scss';\n\n.jus-protocol-dialog {\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n\n  .jus-protocol-dialog__header {\n    padding-top: 0;\n    display: flex;\n    justify-content: space-between;\n\n    .jus-protocol-dialog__title {\n      display: flex;\n      align-content: center;\n      align-items: center;\n      text-align: center;\n      width: 100%;\n      color: $--color-black;\n      font-weight: bold;\n      font-size: 20px;\n      // margin: 30px 8vw 0px 8vw;\n    }\n\n    .jus-protocol-dialog__dispute-link-icon {\n      width: 16px;\n    }\n\n    .jus-protocol-dialog__header-minimize {\n      cursor: pointer;\n    }\n\n    .jus-protocol-dialog__header__third-step {\n      flex: 1;\n    }\n  }\n\n  &--full {\n    padding: 10px;\n    .el-dialog {\n      .el-dialog__body {\n        height: calc(100vh - 200px);\n\n        @media (max-height: 780px) {\n          margin: 10px;\n          height: 100%;\n        }\n      }\n    }\n  }\n\n  &--large {\n    .el-dialog {\n      .el-dialog__body {\n        height: calc(100vh - 284px);\n      }\n    }\n  }\n\n  &--auto {\n    height: auto !important;\n  }\n\n  &__fullscreen-icon {\n    position: absolute;\n    font-size: 22px;\n    top: 30px;\n    right: 20px;\n    cursor: pointer;\n  }\n\n  .jus-protocol-dialog__model-choice {\n    // margin: 30px;\n    display: flex;\n    justify-content: center;\n    flex-wrap: wrap;\n    padding: 10px;\n\n    .model-choice__button {\n      width: 160px;\n      height: 180px;\n      margin: 10px;\n      .model-choice__button-text {\n        font-weight: 500;\n        display: -webkit-box;\n        -webkit-line-clamp: 6;\n        -webkit-box-orient: vertical;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: initial;\n      }\n      .model-choice__button-icon {\n        width: 50px;\n        margin-top: 20px\n      }\n    }\n  }\n\n  &__send-to {\n    > div {\n      margin-top: 12px;\n    }\n    p {\n      margin-top: 8px 0px;\n    }\n\n    .jus-protocol-dialog__send-title {\n      color: $--color-text-secondary;\n      font-weight: 700;\n\n      border-bottom: solid 1px lightgray;\n      margin-bottom: 8px;\n\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n\n      .jus-protocol-dialog__send-default-signer {\n        margin-left: 8px;\n      }\n\n    }\n    .signer-choice {\n      font-weight: bold;\n      font-size: 12px;\n      .el-switch {\n        margin: auto 8px;\n      }\n    }\n    .subtitle {\n      font-weight: bold;\n      font-size: 12px;\n    }\n    .el-input {\n      margin-top: 8px;\n    }\n    .line {\n      padding: 4px 8px;\n      button {\n        display: none;\n      }\n      &:hover {\n        background-color: #f6f6f6;\n        button {\n          display: initial;\n          float: right;\n          padding: 0;\n          padding-top: 2px;\n          color: #FF4B54;\n          font-size: 16px;\n        }\n      }\n    }\n    .new-role {\n      margin: 20px 0;\n    }\n    .add-email {\n      font-size: 12px;\n      margin-left: 9px;\n    }\n  }\n\n  .jus-protocol-dialog__status {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 24px 8px;\n    margin: 0px 10vw;\n    &:hover {\n      background-color: #f6f6f6;\n    }\n  }\n\n  .jus-protocol-dialog__status-icon {\n    color: $--color-text-secondary;\n    display: flex;\n    align-items: center;\n    gap: 16px;\n    // margin-left: auto;\n    img {\n      width: 14px;\n      vertical-align: middle;\n      margin-bottom: 2px;\n    }\n  }\n\n  .jus-protocol-dialog__status-role {\n    display: flex;\n    flex-direction: column;\n    margin-left: 10px;\n    font-weight: 600;\n    &-name {\n      color: $--color-primary;\n    }\n  }\n\n  &__confirm-recipients {\n    display: flex;\n    > div:last-child {\n      margin-left: 14px;\n      > b:first-child {\n        color: $--color-text-secondary;\n      }\n    }\n    &+ .jus-protocol-dialog__confirm-recipients {\n      margin-top: 20px;\n    }\n  }\n\n  .el-dialog__body > div > div, .el-dialog__body > div {\n    height: 100%;\n    margin-bottom: 20px;\n  }\n\n  & > .el-dialog__body {\n    margin: 0 !important;\n  }\n\n  & > .el-dialog__footer {\n    padding: 12px;\n\n    .dialog-footer {\n      margin: 0;\n    }\n  }\n\n  & > .el-dialog__body {\n    height: 100% !important;\n  }\n\n  .el-button--danger {\n    float: left;\n  }\n\n  iframe {\n    width: 100%;\n    height: 100%;\n  }\n\n  object {\n    width: 100%;\n    height: 99%;\n  }\n\n  .el-dialog__header {\n    padding: 12px;\n  }\n\n  .dialog-footer {\n    display: flex;\n    flex-direction: column;\n    // justify-content: center;\n    gap: 16px;\n    margin-bottom: 18px;\n    padding-bottom: 0;\n\n    .dialog-footer__alerts {\n      display: flex;\n\n      .el-alert {\n        .el-alert__content {\n          .el-alert__title {\n            font-weight: 600;\n            font-size: 16px;\n          }\n        }\n      }\n    }\n\n    .dialog-footer__buttons {\n      display: flex;\n      flex-direction: row;\n      justify-content: center;\n    }\n  }\n\n  &.is-fullscreen {\n    .el-dialog__body {\n      overflow-y: scroll;\n    }\n  }\n}\n\n.iframe-dialog {\n  width: 100%;\n  height: 80vh;\n  margin-top: 20px;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./JusProtocolDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./JusProtocolDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./JusProtocolDialog.vue?vue&type=template&id=d0407a04&\"\nimport script from \"./JusProtocolDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./JusProtocolDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./JusProtocolDialog.vue?vue&type=style&index=0&id=d0407a04&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".jus-protocol-dialog{overflow:hidden;display:flex;flex-direction:column}.jus-protocol-dialog .jus-protocol-dialog__header{padding-top:0;display:flex;justify-content:space-between}.jus-protocol-dialog .jus-protocol-dialog__header .jus-protocol-dialog__title{display:flex;align-content:center;align-items:center;text-align:center;width:100%;color:#424242;font-weight:700;font-size:20px}.jus-protocol-dialog .jus-protocol-dialog__header .jus-protocol-dialog__dispute-link-icon{width:16px}.jus-protocol-dialog .jus-protocol-dialog__header .jus-protocol-dialog__header-minimize{cursor:pointer}.jus-protocol-dialog .jus-protocol-dialog__header .jus-protocol-dialog__header__third-step{flex:1}.jus-protocol-dialog--full{padding:10px}.jus-protocol-dialog--full .el-dialog .el-dialog__body{height:calc(100vh - 200px)}@media(max-height:780px){.jus-protocol-dialog--full .el-dialog .el-dialog__body{margin:10px;height:100%}}.jus-protocol-dialog--large .el-dialog .el-dialog__body{height:calc(100vh - 284px)}.jus-protocol-dialog--auto{height:auto!important}.jus-protocol-dialog__fullscreen-icon{position:absolute;font-size:22px;top:30px;right:20px;cursor:pointer}.jus-protocol-dialog .jus-protocol-dialog__model-choice{display:flex;justify-content:center;flex-wrap:wrap;padding:10px}.jus-protocol-dialog .jus-protocol-dialog__model-choice .model-choice__button{width:160px;height:180px;margin:10px}.jus-protocol-dialog .jus-protocol-dialog__model-choice .model-choice__button .model-choice__button-text{font-weight:500;display:-webkit-box;-webkit-line-clamp:6;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;white-space:normal}.jus-protocol-dialog .jus-protocol-dialog__model-choice .model-choice__button .model-choice__button-icon{width:50px;margin-top:20px}.jus-protocol-dialog__send-to>div{margin-top:12px}.jus-protocol-dialog__send-to p{margin-top:8px 0}.jus-protocol-dialog__send-to .jus-protocol-dialog__send-title{color:#979797;font-weight:700;border-bottom:1px solid #d3d3d3;margin-bottom:8px;display:flex;flex-direction:row;justify-content:space-between}.jus-protocol-dialog__send-to .jus-protocol-dialog__send-title .jus-protocol-dialog__send-default-signer{margin-left:8px}.jus-protocol-dialog__send-to .signer-choice{font-weight:700;font-size:12px}.jus-protocol-dialog__send-to .signer-choice .el-switch{margin:auto 8px}.jus-protocol-dialog__send-to .subtitle{font-weight:700;font-size:12px}.jus-protocol-dialog__send-to .el-input{margin-top:8px}.jus-protocol-dialog__send-to .line{padding:4px 8px}.jus-protocol-dialog__send-to .line button{display:none}.jus-protocol-dialog__send-to .line:hover{background-color:#f6f6f6}.jus-protocol-dialog__send-to .line:hover button{display:initial;float:right;padding:0;padding-top:2px;color:#ff4b54;font-size:16px}.jus-protocol-dialog__send-to .new-role{margin:20px 0}.jus-protocol-dialog__send-to .add-email{font-size:12px;margin-left:9px}.jus-protocol-dialog .jus-protocol-dialog__status{display:flex;align-items:center;justify-content:space-between;padding:24px 8px;margin:0 10vw}.jus-protocol-dialog .jus-protocol-dialog__status:hover{background-color:#f6f6f6}.jus-protocol-dialog .jus-protocol-dialog__status-icon{color:#979797;display:flex;align-items:center;gap:16px}.jus-protocol-dialog .jus-protocol-dialog__status-icon img{width:14px;vertical-align:middle;margin-bottom:2px}.jus-protocol-dialog .jus-protocol-dialog__status-role{display:flex;flex-direction:column;margin-left:10px;font-weight:600}.jus-protocol-dialog .jus-protocol-dialog__status-role-name{color:#0756e4}.jus-protocol-dialog__confirm-recipients{display:flex}.jus-protocol-dialog__confirm-recipients>div:last-child{margin-left:14px}.jus-protocol-dialog__confirm-recipients>div:last-child>b:first-child{color:#979797}.jus-protocol-dialog__confirm-recipients+.jus-protocol-dialog__confirm-recipients{margin-top:20px}.jus-protocol-dialog .el-dialog__body>div,.jus-protocol-dialog .el-dialog__body>div>div{height:100%;margin-bottom:20px}.jus-protocol-dialog>.el-dialog__body{margin:0!important}.jus-protocol-dialog>.el-dialog__footer{padding:12px}.jus-protocol-dialog>.el-dialog__footer .dialog-footer{margin:0}.jus-protocol-dialog>.el-dialog__body{height:100%!important}.jus-protocol-dialog .el-button--danger{float:left}.jus-protocol-dialog iframe{width:100%;height:100%}.jus-protocol-dialog object{width:100%;height:99%}.jus-protocol-dialog .el-dialog__header{padding:12px}.jus-protocol-dialog .dialog-footer{display:flex;flex-direction:column;gap:16px;margin-bottom:18px;padding-bottom:0}.jus-protocol-dialog .dialog-footer .dialog-footer__alerts{display:flex}.jus-protocol-dialog .dialog-footer .dialog-footer__alerts .el-alert .el-alert__content .el-alert__title{font-weight:600;font-size:16px}.jus-protocol-dialog .dialog-footer .dialog-footer__buttons{display:flex;flex-direction:row;justify-content:center}.jus-protocol-dialog.is-fullscreen .el-dialog__body{overflow-y:scroll}.iframe-dialog{width:100%;height:80vh;margin-top:20px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/dialogs/JusProtocolDialog.vue\",\"webpack://./node_modules/projuris-acordos-theme/src/common/colors.scss\"],\"names\":[],\"mappings\":\"AAGA,qBACE,eAAA,CACA,YAAA,CACA,qBAAA,CAEA,kDACE,aAAA,CACA,YAAA,CACA,6BAAA,CAEA,8EACE,YAAA,CACA,oBAAA,CACA,kBAAA,CACA,iBAAA,CACA,UAAA,CACA,aCfU,CDgBV,eAAA,CACA,cAAA,CAIF,0FACE,UAAA,CAGF,wFACE,cAAA,CAGF,2FACE,MAAA,CAIJ,2BACE,YAAA,CAEE,uDACE,0BAAA,CAEA,yBAHF,uDAII,WAAA,CACA,WAAA,CAAA,CAQJ,wDACE,0BAAA,CAKN,2BACE,qBAAA,CAGF,sCACE,iBAAA,CACA,cAAA,CACA,QAAA,CACA,UAAA,CACA,cAAA,CAGF,wDAEE,YAAA,CACA,sBAAA,CACA,cAAA,CACA,YAAA,CAEA,8EACE,WAAA,CACA,YAAA,CACA,WAAA,CACA,yGACE,eAAA,CACA,mBAAA,CACA,oBAAA,CACA,2BAAA,CACA,eAAA,CACA,sBAAA,CACA,kBAAA,CAEF,yGACE,UAAA,CACA,eAAA,CAMJ,kCACE,eAAA,CAEF,gCACE,gBAAA,CAGF,+DACE,aCvGS,CDwGT,eAAA,CAEA,+BAAA,CACA,iBAAA,CAEA,YAAA,CACA,kBAAA,CACA,6BAAA,CAEA,yGACE,eAAA,CAIJ,6CACE,eAAA,CACA,cAAA,CACA,wDACE,eAAA,CAGJ,wCACE,eAAA,CACA,cAAA,CAEF,wCACE,cAAA,CAEF,oCACE,eAAA,CACA,2CACE,YAAA,CAEF,0CACE,wBAAA,CACA,iDACE,eAAA,CACA,WAAA,CACA,SAAA,CACA,eAAA,CACA,aAAA,CACA,cAAA,CAIN,wCACE,aAAA,CAEF,yCACE,cAAA,CACA,eAAA,CAIJ,kDACE,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,gBAAA,CACA,aAAA,CACA,wDACE,wBAAA,CAIJ,uDACE,aC1KW,CD2KX,YAAA,CACA,kBAAA,CACA,QAAA,CAEA,2DACE,UAAA,CACA,qBAAA,CACA,iBAAA,CAIJ,uDACE,YAAA,CACA,qBAAA,CACA,gBAAA,CACA,eAAA,CACA,4DACE,aCrLY,CDyLhB,yCACE,YAAA,CACA,wDACE,gBAAA,CACA,sEACE,aCrMO,CDwMX,kFACE,eAAA,CAIJ,wFACE,WAAA,CACA,kBAAA,CAGF,sCACE,kBAAA,CAGF,wCACE,YAAA,CAEA,uDACE,QAAA,CAIJ,sCACE,qBAAA,CAGF,wCACE,UAAA,CAGF,4BACE,UAAA,CACA,WAAA,CAGF,4BACE,UAAA,CACA,UAAA,CAGF,wCACE,YAAA,CAGF,oCACE,YAAA,CACA,qBAAA,CAEA,QAAA,CACA,kBAAA,CACA,gBAAA,CAEA,2DACE,YAAA,CAII,yGACE,eAAA,CACA,cAAA,CAMR,4DACE,YAAA,CACA,kBAAA,CACA,sBAAA,CAKF,oDACE,iBAAA,CAKN,eACE,UAAA,CACA,WAAA,CACA,eAAA\",\"sourcesContent\":[\"\\n@import '~projuris-acordos-theme/src/common/colors.scss';\\n\\n.jus-protocol-dialog {\\n  overflow: hidden;\\n  display: flex;\\n  flex-direction: column;\\n\\n  .jus-protocol-dialog__header {\\n    padding-top: 0;\\n    display: flex;\\n    justify-content: space-between;\\n\\n    .jus-protocol-dialog__title {\\n      display: flex;\\n      align-content: center;\\n      align-items: center;\\n      text-align: center;\\n      width: 100%;\\n      color: $--color-black;\\n      font-weight: bold;\\n      font-size: 20px;\\n      // margin: 30px 8vw 0px 8vw;\\n    }\\n\\n    .jus-protocol-dialog__dispute-link-icon {\\n      width: 16px;\\n    }\\n\\n    .jus-protocol-dialog__header-minimize {\\n      cursor: pointer;\\n    }\\n\\n    .jus-protocol-dialog__header__third-step {\\n      flex: 1;\\n    }\\n  }\\n\\n  &--full {\\n    padding: 10px;\\n    .el-dialog {\\n      .el-dialog__body {\\n        height: calc(100vh - 200px);\\n\\n        @media (max-height: 780px) {\\n          margin: 10px;\\n          height: 100%;\\n        }\\n      }\\n    }\\n  }\\n\\n  &--large {\\n    .el-dialog {\\n      .el-dialog__body {\\n        height: calc(100vh - 284px);\\n      }\\n    }\\n  }\\n\\n  &--auto {\\n    height: auto !important;\\n  }\\n\\n  &__fullscreen-icon {\\n    position: absolute;\\n    font-size: 22px;\\n    top: 30px;\\n    right: 20px;\\n    cursor: pointer;\\n  }\\n\\n  .jus-protocol-dialog__model-choice {\\n    // margin: 30px;\\n    display: flex;\\n    justify-content: center;\\n    flex-wrap: wrap;\\n    padding: 10px;\\n\\n    .model-choice__button {\\n      width: 160px;\\n      height: 180px;\\n      margin: 10px;\\n      .model-choice__button-text {\\n        font-weight: 500;\\n        display: -webkit-box;\\n        -webkit-line-clamp: 6;\\n        -webkit-box-orient: vertical;\\n        overflow: hidden;\\n        text-overflow: ellipsis;\\n        white-space: initial;\\n      }\\n      .model-choice__button-icon {\\n        width: 50px;\\n        margin-top: 20px\\n      }\\n    }\\n  }\\n\\n  &__send-to {\\n    > div {\\n      margin-top: 12px;\\n    }\\n    p {\\n      margin-top: 8px 0px;\\n    }\\n\\n    .jus-protocol-dialog__send-title {\\n      color: $--color-text-secondary;\\n      font-weight: 700;\\n\\n      border-bottom: solid 1px lightgray;\\n      margin-bottom: 8px;\\n\\n      display: flex;\\n      flex-direction: row;\\n      justify-content: space-between;\\n\\n      .jus-protocol-dialog__send-default-signer {\\n        margin-left: 8px;\\n      }\\n\\n    }\\n    .signer-choice {\\n      font-weight: bold;\\n      font-size: 12px;\\n      .el-switch {\\n        margin: auto 8px;\\n      }\\n    }\\n    .subtitle {\\n      font-weight: bold;\\n      font-size: 12px;\\n    }\\n    .el-input {\\n      margin-top: 8px;\\n    }\\n    .line {\\n      padding: 4px 8px;\\n      button {\\n        display: none;\\n      }\\n      &:hover {\\n        background-color: #f6f6f6;\\n        button {\\n          display: initial;\\n          float: right;\\n          padding: 0;\\n          padding-top: 2px;\\n          color: #FF4B54;\\n          font-size: 16px;\\n        }\\n      }\\n    }\\n    .new-role {\\n      margin: 20px 0;\\n    }\\n    .add-email {\\n      font-size: 12px;\\n      margin-left: 9px;\\n    }\\n  }\\n\\n  .jus-protocol-dialog__status {\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    padding: 24px 8px;\\n    margin: 0px 10vw;\\n    &:hover {\\n      background-color: #f6f6f6;\\n    }\\n  }\\n\\n  .jus-protocol-dialog__status-icon {\\n    color: $--color-text-secondary;\\n    display: flex;\\n    align-items: center;\\n    gap: 16px;\\n    // margin-left: auto;\\n    img {\\n      width: 14px;\\n      vertical-align: middle;\\n      margin-bottom: 2px;\\n    }\\n  }\\n\\n  .jus-protocol-dialog__status-role {\\n    display: flex;\\n    flex-direction: column;\\n    margin-left: 10px;\\n    font-weight: 600;\\n    &-name {\\n      color: $--color-primary;\\n    }\\n  }\\n\\n  &__confirm-recipients {\\n    display: flex;\\n    > div:last-child {\\n      margin-left: 14px;\\n      > b:first-child {\\n        color: $--color-text-secondary;\\n      }\\n    }\\n    &+ .jus-protocol-dialog__confirm-recipients {\\n      margin-top: 20px;\\n    }\\n  }\\n\\n  .el-dialog__body > div > div, .el-dialog__body > div {\\n    height: 100%;\\n    margin-bottom: 20px;\\n  }\\n\\n  & > .el-dialog__body {\\n    margin: 0 !important;\\n  }\\n\\n  & > .el-dialog__footer {\\n    padding: 12px;\\n\\n    .dialog-footer {\\n      margin: 0;\\n    }\\n  }\\n\\n  & > .el-dialog__body {\\n    height: 100% !important;\\n  }\\n\\n  .el-button--danger {\\n    float: left;\\n  }\\n\\n  iframe {\\n    width: 100%;\\n    height: 100%;\\n  }\\n\\n  object {\\n    width: 100%;\\n    height: 99%;\\n  }\\n\\n  .el-dialog__header {\\n    padding: 12px;\\n  }\\n\\n  .dialog-footer {\\n    display: flex;\\n    flex-direction: column;\\n    // justify-content: center;\\n    gap: 16px;\\n    margin-bottom: 18px;\\n    padding-bottom: 0;\\n\\n    .dialog-footer__alerts {\\n      display: flex;\\n\\n      .el-alert {\\n        .el-alert__content {\\n          .el-alert__title {\\n            font-weight: 600;\\n            font-size: 16px;\\n          }\\n        }\\n      }\\n    }\\n\\n    .dialog-footer__buttons {\\n      display: flex;\\n      flex-direction: row;\\n      justify-content: center;\\n    }\\n  }\\n\\n  &.is-fullscreen {\\n    .el-dialog__body {\\n      overflow-y: scroll;\\n    }\\n  }\\n}\\n\\n.iframe-dialog {\\n  width: 100%;\\n  height: 80vh;\\n  margin-top: 20px;\\n}\\n\",\"/* Colors\\n-------------------------- */\\n\\n$--color-white: #fff !default;\\n$--color-black: #424242 !default;\\n$--color-gray: #979797 !default;\\n$--color-gray-light-1: mix($--color-white, $--color-gray, 10%) !default;\\n$--color-light-gray: #f3f4f5 !default;\\n$--color-whatsapp: #075E54 !default;\\n\\n$--pj-color-darker-blue: #0A0022 !default;\\n$--pj-color-dark-blue: #280BA0 !default;\\n$--pj-color-blue: #0756e4 !default;\\n$--pj-color-light-blue: #018EF0 !default;\\n$--pj-color-lighter-blue: #30A9FB !default;\\n$--pj-color-white-blue: #F0F9FE !default;\\n$--pj-color-disabled-blue: #9ad2f9 !default;\\n\\n$-pg-color-overlay: #19415F !default;\\n\\n$--pj-color-red: #CC4148 !default;\\n$--pj-color-light-red: #EC767C !default;\\n$--pj-color-disable-red: #FFF2F3 !default;\\n\\n$--color-primary: $--pj-color-blue !default;\\n$--color-primary-light-1: mix($--color-white, $--color-primary, 10%) !default;\\n$--color-primary-light-2: mix($--color-white, $--color-primary, 20%) !default;\\n$--color-primary-light-3: mix($--color-white, $--color-primary, 30%) !default;\\n$--color-primary-light-4: mix($--color-white, $--color-primary, 40%) !default;\\n$--color-primary-light-5: mix($--color-white, $--color-primary, 50%) !default;\\n$--color-primary-light-6: mix($--color-white, $--color-primary, 60%) !default;\\n$--color-primary-light-7: mix($--color-white, $--color-primary, 70%) !default;\\n$--color-primary-light-8: mix($--color-white, $--color-primary, 80%) !default;\\n$--color-primary-light-9: mix($--color-white, $--color-primary, 90%) !default;\\n\\n$--color-secondary: $--pj-color-light-blue !default;\\n$--color-secondary-light-1: mix($--color-white, $--color-secondary, 10%) !default;\\n$--color-secondary-light-2: mix($--color-white, $--color-secondary, 20%) !default;\\n$--color-secondary-light-3: mix($--color-white, $--color-secondary, 30%) !default;\\n$--color-secondary-light-4: mix($--color-white, $--color-secondary, 40%) !default;\\n$--color-secondary-light-5: mix($--color-white, $--color-secondary, 50%) !default;\\n$--color-secondary-light-6: mix($--color-white, $--color-secondary, 60%) !default;\\n$--color-secondary-light-7: mix($--color-white, $--color-secondary, 70%) !default;\\n$--color-secondary-light-8: mix($--color-white, $--color-secondary, 80%) !default;\\n$--color-secondary-light-9: mix($--color-white, $--color-secondary, 90%) !default;\\n\\n$--color-primary-dark: $--pj-color-dark-blue !default;\\n$--color-success: #14CC30 !default;\\n$--color-warning: #FFC900 !default;\\n$--color-danger: #FF4B54 !default;\\n$--color-info: #2FBBEC !default;\\n\\n$--color-success-light-1: mix($--color-white, $--color-success, 10%) !default;\\n$--color-success-light-5: mix($--color-white, $--color-success, 50%) !default;\\n$--color-warning-light-5: mix($--color-white, $--color-warning, 50%) !default;\\n$--color-danger-light-5: mix($--color-white, $--color-danger, 50%) !default;\\n$--color-danger-light-3: mix($--color-white, $--color-danger, 30%) !default;\\n$--color-info-light-5: mix($--color-white, $--color-info, 50%) !default;\\n\\n$--color-success-light: mix($--color-white, $--color-success, 80%) !default;\\n$--color-warning-light: mix($--color-white, $--color-warning, 80%) !default;\\n$--color-danger-light: mix($--color-white, $--color-danger, 80%) !default;\\n$--color-info-light: mix($--color-white, $--color-info, 80%) !default;\\n\\n$--color-success-lighter: mix($--color-white, $--color-success, 90%) !default;\\n$--color-warning-lighter: mix($--color-white, $--color-warning, 90%) !default;\\n$--color-danger-lighter: mix($--color-white, $--color-danger, 90%) !default;\\n$--color-info-lighter: mix($--color-white, $--color-info, 90%) !default;\\n\\n$--color-text-primary: $--color-black !default;\\n$--color-text-secondary: $--color-gray !default;\\n\\n$--color-nps-promoter: #14CC30 !default;\\n$--color-nps-neutral: #979797 !default;\\n$--color-nps-detractor: #FF4B54 !default;\\n\\n$--color-negotiator-bg: #9461f74f !default;\\n$--color-email-bg: $--color-info-light !default;\\n$--color-whatsapp-bg: $--color-success-light-5 !default;\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[4]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./JusProtocolDialog.vue?vue&type=style&index=0&id=d0407a04&prod&lang=scss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"6b4b9b3a\", content, true, {\"sourceMap\":true,\"shadowMode\":false});"],"names":["render","_vm","this","_c","_self","staticClass","class","fullscreen","step","includes","attrs","visible","width","on","$event","slot","document","signedDocument","openDocumentInNewTab","_v","_s","title","_l","lineTitle","index","key","handleMinimizeDraft","_e","directives","name","rawName","value","loading","expression","waitingModels","models","model","id","selectModel","isLowHeight","changeFullscreen","staticStyle","url","availableSigners","role","toUpperCase","recipients","isDefaultSigner","documentNumber","defaultSigner","changeDefaultSigner","getLabelSigner","party","roles","length","$tc","toLocaleLowerCase","charAt","slice","isRecovery","isValidCpfOrCnpj","formKey","_f","ref","refInFor","documentForm","documentFormRules","nativeOn","preventDefault","addDocument","clearValidate","callback","$$v","$set","emails","email","emailIndex","Object","keys","address","setRecipientEmail","generateSigner","canDelete","removeEmail","show","showAddEmail","emailForm","emailFormRules","addEmail","roleForm","roleFormRules","addRole","showARoleButton","showAddRole","signers","signer","isThamirisSigner","signed","buttonSize","signDraft","signatureStatus","signerServiceIsAvailable","canEdit","backDocumentToEditing","loadingDownload","downloadDocument","backToDocument","hideForms","hasEmails","loadingChooseRecipients","confirmChooseRecipients","canResendNotification","resendSignersNotification","deleteDocument","confirmChooseRecipientsVisible","recipient","chooseRecipients","signDraftVisible","disputeProtocol","urlToSign","staticRenderFns","IS_SMALL_WINDOW","window","innerHeight","props","protocolDialogVisible","type","Boolean","default","dispute","disputeRoles","data","loadingPdf","required","message","trigger","validator","validateNameWithoutEmail","validateObjectEmail","validateDocument","innerWidth","computed","mapGetters","defaultSigners","accountEmail","openDraftId","getDisputeRoles","disputeId","getDisputeId","defaultsDocuments","map","stripDoc","getObjectByDoc","doc","list","find","item","filterValidEmails","filter","archived","isMain","isValid","concatEmails","list1","list2","concat","res","el","push","docs","get","set","$emit","handleTitle","e","pdfUrl","s","watch","Number","localStorage","getItem","getDocument","setItem","getDefaultAssigners","body","style","zoom","getSignerStatus","openStoredDraft","disputeRolesFilter","then","content","JSON","parse","stringify","deep","handler","mounted","addEventListener","handleDraftNeedOpen","methods","mapActions","Promise","resolve","reject","filterDisputeRole","catch","cpf","$forceUpdate","$delete","disputeRoleId","downloadUrl","getDocumentUrl","origin","URL","signKey","navigator","clipboard","writeText","$jusNotification","setTimeout","open","error","formIndex","$refs","validate","valid","r","$nextTick","documentInput","focus","newRoleInput","findIndex","emailInput","splice","roleform","updateDocument","getDocumentByDisputeId","getModels","finally","getDocumentModels","isUnique","modelId","$store","dispatch","hideAlert","$confirm","confirmButtonText","cancelButtonText","dangerouslyUseHTMLString","$jusSegment","description","values","Error","setDocumentSigners","signedDocumentId","visualizePdf","words","split","firstLine","replaceAll","secondLine","isThamirisEmail","getDisputeProtocol","docNumber","saveMinimizedDraft","component","___CSS_LOADER_EXPORT___","module","__esModule","locals","exports","add"],"sourceRoot":""}