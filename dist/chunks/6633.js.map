{"version":3,"file":"chunks/6633.js","mappings":"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","sources":["webpack://@projuris/justto-web/./src/components/dialogs/NotifyOnCompanyAnalysis.vue","webpack://@projuris/justto-web/src/components/dialogs/NotifyOnCompanyAnalysis.vue","webpack://@projuris/justto-web/./src/components/dialogs/NotifyOnCompanyAnalysis.vue?c2a8","webpack://@projuris/justto-web/./src/components/dialogs/NotifyOnCompanyAnalysis.vue?a872","webpack://@projuris/justto-web/./src/plugins/ckeditor/preview.js","webpack://@projuris/justto-web/./src/plugins/ckeditor/imageAttachment.js","webpack://@projuris/justto-web/./src/plugins/ckeditor/mentionCustomization.js","webpack://@projuris/justto-web/./src/utils/mixins/ckeditor.js","webpack://@projuris/justto-web/./src/components/dialogs/NotifyOnCompanyAnalysis.vue?e905","webpack://@projuris/justto-web/./src/components/dialogs/NotifyOnCompanyAnalysis.vue?51b3"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.visible)?_c('el-dialog',{attrs:{\"visible\":_vm.visible,\"show-close\":false,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"title\":`Quer notificar ${_vm.name ? _vm.$options.filters.resumedName(_vm.name) : _vm.emailmonimo} desta ação?`,\"append-to-body\":\"\",\"destroy-on-close\":\"\",\"width\":\"604px\",\"custom-class\":\"dialog-actions__increase-alert\"},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('article',{staticClass:\"dialog-actions__increase-alert-body jus-ckeditor__parent\"},[_c('label',{staticClass:\"dialog-actions__increase-alert-body-label\"},[_c('div',{staticClass:\"dialog-actions__increase-alert-body-label-text\"},[_vm._v(\" Mensagem que será enviada: \")])]),(_vm.visible)?_c('ckeditor',{ref:\"messageEditor\",attrs:{\"editor\":_vm.editor,\"config\":_vm.editorConfig,\"type\":\"classic\"},model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}}):_vm._e()],1),_c('div',{staticClass:\"dialog-actions__increase-alert-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-tooltip',{attrs:{\"content\":\"Não notificará desta vez, porém perguntará se deve notificar na próxima.\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"default\"},on:{\"click\":function($event){return _vm.handleCompanyAnalysisAction('NEVER')}}},[_vm._v(\" Não notificar \")])],1),_c('el-tooltip',{attrs:{\"content\":\"Notificará desta vez, e todas as próximas.\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"secondary\"},on:{\"click\":function($event){return _vm.handleCompanyAnalysisAction('ALWAYS')}}},[_vm._v(\" Sempre notificar \")])],1),_c('el-tooltip',{attrs:{\"content\":\"Notificará desta vez e perguntará se deve notificar na próxima.\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleCompanyAnalysisAction('ASK')}}},[_vm._v(\" Notificar somente dessa vez \")])],1)],1)]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog\n    v-if=\"visible\"\n    :visible.sync=\"visible\"\n    :show-close=\"false\"\n    :close-on-click-modal=\"false\"\n    :close-on-press-escape=\"false\"\n    :title=\"`Quer notificar ${name ? $options.filters.resumedName(name) : emailmonimo} desta ação?`\"\n    append-to-body\n    destroy-on-close\n    width=\"604px\"\n    custom-class=\"dialog-actions__increase-alert\"\n  >\n    <article class=\"dialog-actions__increase-alert-body jus-ckeditor__parent\">\n      <label class=\"dialog-actions__increase-alert-body-label\">\n        <div class=\"dialog-actions__increase-alert-body-label-text\">\n          Mensagem que será enviada:\n        </div>\n      </label>\n      <ckeditor\n        v-if=\"visible\"\n        ref=\"messageEditor\"\n        v-model=\"message\"\n        :editor=\"editor\"\n        :config=\"editorConfig\"\n        type=\"classic\"\n      />\n    </article>\n\n    <div\n      slot=\"footer\"\n      class=\"dialog-actions__increase-alert-footer\"\n    >\n      <el-tooltip\n        content=\"Não notificará desta vez, porém perguntará se deve notificar na próxima.\"\n        placement=\"top\"\n      >\n        <el-button\n          size=\"small\"\n          type=\"default\"\n          @click=\"handleCompanyAnalysisAction('NEVER')\"\n        >\n          Não notificar\n        </el-button>\n      </el-tooltip>\n\n      <el-tooltip\n        content=\"Notificará desta vez, e todas as próximas.\"\n        placement=\"top\"\n      >\n        <el-button\n          size=\"small\"\n          type=\"secondary\"\n          @click=\"handleCompanyAnalysisAction('ALWAYS')\"\n        >\n          Sempre notificar\n        </el-button>\n      </el-tooltip>\n\n      <el-tooltip\n        content=\"Notificará desta vez e perguntará se deve notificar na próxima.\"\n        placement=\"top\"\n      >\n        <el-button\n          size=\"small\"\n          type=\"primary\"\n          @click=\"handleCompanyAnalysisAction('ASK')\"\n        >\n          Notificar somente dessa vez\n        </el-button>\n      </el-tooltip>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex'\nimport ckeditor from '@/utils/mixins/ckeditor'\n\nconst actionToTemplateId = {\n  DISFAVOR: 4500,\n  FAVORITE: 4494\n}\n\nconst actionToPropertieKey = {\n  DISFAVOR: 'FAVORITE_NOTIFICATION',\n  FAVORITE: 'FAVORITE_NOTIFICATION'\n}\n\nexport default {\n  mixins: [ckeditor],\n\n  data: () => ({\n    disputeId: null,\n    visible: false,\n    message: '',\n    action: '',\n    email: '',\n    name: ''\n  }),\n\n  computed: {\n    ...mapGetters({\n      userPreferences: 'userPreferences'\n    })\n  },\n\n  methods: {\n    ...mapActions([\n      'getAccountProperty',\n      'setAccountProperty',\n      'getQuickReplyTemplates',\n      'sendemail'\n    ]),\n\n    async open(action, ticket) {\n      if (ticket.getDisputeHasLastReceivedMessageProperties) {\n        const { PERSON_EMAIL, PERSON_NAME } = ticket.lastReceivedMessage?.properties\n\n        if (!ticket?.getDisputeLastReceivedMessageProperties?.PERSON_EMAIL) {\n          this.close()\n          return\n        } else {\n          this.email = PERSON_EMAIL\n          this.name = PERSON_NAME || ''\n        }\n      } else {\n        this.close()\n        return\n      }\n\n      this.disputeId = Number(this.$route.params.id)\n\n      await this.getQuickReplyTemplates(this.$route.params.id).then(res => {\n        res.forEach(({ parsed: { body, referenceTemplateId } }) => {\n          if (referenceTemplateId === actionToTemplateId[action]) {\n            this.message = body\n          }\n        })\n      })\n\n      if (!this.message) {\n        this.close()\n        return\n      }\n\n      this.action = action\n\n      this.getAccountProperty(actionToPropertieKey[this.action]).then((res = {}) => {\n        if (res[actionToPropertieKey[this.action]] === 'ALWAYS') {\n          this.sendMessage()\n        } else {\n          this.visible = true\n        }\n      })\n    },\n\n    close() {\n      this.disputeId = null\n      this.visible = false\n      this.message = ''\n      this.action = ''\n      this.email = ''\n      this.name = ''\n    },\n\n    handleCompanyAnalysisAction(key) {\n      const { action } = this\n\n      const res = {}\n\n      switch (key) {\n        case 'ALWAYS':\n          this.sendMessage()\n\n          res[actionToPropertieKey[action]] = 'ALWAYS'\n\n          break\n        default:\n          res[actionToPropertieKey[action]] = ''\n\n          if (key === 'ASK') this.sendMessage()\n\n          break\n      }\n\n      this.setAccountProperty(res)\n      this.close()\n    },\n\n    sendMessage() {\n      const data = {\n        to: [{ address: this.email }],\n        disputeId: this.disputeId,\n        attachments: [],\n        message: this.message,\n        externalIdentification: null,\n        inReplyTo: null\n      }\n\n      this.sendemail(data).then(() => {\n        this.$jusNotification({\n          type: 'success',\n          title: 'Yay!',\n          message: 'Notificação enviada com sucesso'\n        })\n      }).catch(error => {\n        this.$jusNotification({ error })\n      }).finally(this.close)\n    },\n\n    editMessage() {}\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '~projuris-acordos-theme/src/common/colors.scss';\n\n.dialog-actions__increase-alert {\n  .el-dialog__body {\n    margin-top: 0 !important;\n\n    .dialog-actions__increase-alert-body {\n      .dialog-actions__increase-alert-body-label {\n        display: block;\n        font-weight: 600;\n        margin-bottom: 16px;\n      }\n\n      .dialog-actions__increase-alert-body-text {\n        word-break: keep-all;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NotifyOnCompanyAnalysis.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NotifyOnCompanyAnalysis.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NotifyOnCompanyAnalysis.vue?vue&type=template&id=60bd0a53&\"\nimport script from \"./NotifyOnCompanyAnalysis.vue?vue&type=script&lang=js&\"\nexport * from \"./NotifyOnCompanyAnalysis.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NotifyOnCompanyAnalysis.vue?vue&type=style&index=0&id=60bd0a53&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Plugin from '@ckeditor/ckeditor5-core/src/plugin'\nimport ButtonView from '@ckeditor/ckeditor5-ui/src/button/buttonview'\nimport store from '@/store'\nimport { eventBus } from '@/utils'\n\nexport default class Preview extends Plugin {\n  constructor(editor) {\n    super(editor)\n\n    this.editor = editor\n    this.buttonView = null\n\n    this.createButton()\n\n    this.editor.ui.componentFactory.add('preview', () => this.buttonView)\n  }\n\n  createButton() {\n    const previewIcon = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18.409\" height=\"18\"><path data-name=\"Retângulo 67\" fill=\"none\" d=\"M.204 0h18v18h-18z\"/><g data-name=\"Grupo 3101\"><g data-name=\"Grupo 26\"><path data-name=\"Caminho 253\" d=\"M9.205 12.018a3.043 3.043 0 10-3.019-3.043 3.031 3.031 0 003.019 3.043z\" fill=\"none\" stroke=\"#000\" stroke-width=\".8\"/><path data-name=\"Caminho 254\" d=\"M9.204 10.745a1.839 1.839 0 10-1.781-1.838 1.814 1.814 0 001.781 1.838z\" fill=\"#191919\" fill-rule=\"evenodd\"/><path data-name=\"Caminho 11629\" d=\"M9.761 9.397a1.032 1.032 0 10-1-1.032 1.019 1.019 0 001 1.032z\" fill=\"#fff\" fill-rule=\"evenodd\"/><path data-name=\"Caminho 255\" d=\"M17.909 8.902a10.174 10.174 0 00-17.409 0 10.174 10.174 0 0017.409 0z\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></g></g></svg>'\n\n    this.buttonView = new ButtonView()\n    this.buttonView.set({\n      label: 'Visualizar Mensagem',\n      icon: previewIcon,\n      tooltip: true\n    })\n\n    this.buttonView.on('execute', () => {\n      const editor = Array(...document.querySelectorAll('.ck-content')).pop()\n\n      if (editor) {\n        const { getSelectedIds: ids } = store.getters\n        const disputeId = ids.length ? ids[0] : Number(location.href.split('/').pop())\n        const template = editor.innerHTML\n\n        eventBus.$emit('SEE-PREVIEW', { template, disputeId })\n      }\n    })\n  }\n}\n","import Plugin from '@ckeditor/ckeditor5-core/src/plugin'\nimport ButtonView from '@ckeditor/ckeditor5-ui/src/button/buttonview'\nimport store from '@/store'\n\nexport default class ImageAttachment extends Plugin {\n  constructor(editor) {\n    super(editor)\n\n    this.editor = editor\n    this.buttonView = null\n\n    this.createButton()\n\n    this.editor.ui.componentFactory.add('imageAttachment', () => this.buttonView)\n  }\n\n  createButton() {\n    const imageIcon = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" style=\"margin-left: 10px !important;\" height=\"18\"><path data-name=\"Caminho 13974\" d=\"M8.948 4.948a.611.611 0 10-1.222 0c0 .009.005.017.005.026V13.5a3.254 3.254 0 11-6.508 0V3.273a2.034 2.034 0 114.067 0v8.591a.813.813 0 11-1.626 0V4.942a.106.106 0 000-.017.611.611 0 10-1.222 0 .106.106 0 000 .017v6.922a2.034 2.034 0 104.068 0V3.273a3.254 3.254 0 11-6.508 0V13.5a4.474 4.474 0 108.948 0V4.974h-.005c-.002-.009.003-.017.003-.026z\"/></svg>'\n\n    this.buttonView = new ButtonView()\n    this.buttonView.set({\n      label: 'Inserir Imagem',\n      icon: imageIcon,\n      tooltip: true,\n      withText: false\n    })\n\n    this.buttonView.on('execute', () => store.dispatch('toggleImageUploadDialog', true))\n  }\n}\n","import Plugin from '@ckeditor/ckeditor5-core/src/plugin'\n\nexport default class MentionCustomization extends Plugin {\n  constructor(editor) {\n    super(editor)\n\n    this.editor = editor\n\n    this.registerConverters()\n  }\n\n  registerConverters() {\n    this.editor.conversion.for('upcast').elementToAttribute({\n      view: {\n        name: '',\n        key: 'data-mention',\n        classes: '',\n        attributes: {\n          href: true,\n          'data-user-id': true\n        }\n      },\n      model: {\n        key: 'mention',\n        value: viewItem => {\n          const mentionAttribute = this.editor.plugins\n            .get('Mention')\n            .toMentionAttribute(viewItem, {\n              link: viewItem.getAttribute('href'),\n              userId: viewItem.getAttribute('data-user-id')\n            })\n\n          return mentionAttribute\n        }\n      },\n      converterPriority: 'high'\n    })\n\n    this.editor.conversion.for('downcast').attributeToElement({\n      model: 'mention',\n      view: (modelAttributeValue, { writer }) => {\n        if (!modelAttributeValue) {\n          return\n        }\n        const isImage = modelAttributeValue.type === 'image'\n        const isMemberMention = modelAttributeValue.type === 'memberMention'\n\n        return writer.createAttributeElement(\n          isImage ? 'img' : (isMemberMention ? 'em' : 'span'),\n          {\n            class: 'justto-variable',\n            'data-mention': modelAttributeValue.id,\n            src: modelAttributeValue.id,\n            ...(isMemberMention ? {\n              class: 'justto-mention',\n              'account-id': modelAttributeValue.accountId\n            } : {})\n          },\n          {\n            priority: 20,\n            id: modelAttributeValue.uid\n          }\n        )\n      },\n      converterPriority: 'high'\n    })\n  }\n}\n","/* eslint-disable indent */\nimport ClassicEditor from '@ckeditor/ckeditor5-editor-classic/src/classiceditor'\nimport Alignment from '@ckeditor/ckeditor5-alignment/src/alignment'\nimport Autoformat from '@ckeditor/ckeditor5-autoformat/src/autoformat'\nimport BlockQuote from '@ckeditor/ckeditor5-block-quote/src/blockquote'\nimport Bold from '@ckeditor/ckeditor5-basic-styles/src/bold'\nimport Essentials from '@ckeditor/ckeditor5-essentials/src/essentials'\nimport Highlight from '@ckeditor/ckeditor5-highlight/src/highlight'\nimport Indent from '@ckeditor/ckeditor5-indent/src/indent'\nimport Italic from '@ckeditor/ckeditor5-basic-styles/src/italic'\nimport List from '@ckeditor/ckeditor5-list/src/list'\nimport Link from '@ckeditor/ckeditor5-link/src/link'\nimport Image from '@ckeditor/ckeditor5-image/src/image'\nimport ImageToolbar from '@ckeditor/ckeditor5-image/src/imagetoolbar'\nimport ImageStyle from '@ckeditor/ckeditor5-image/src/imagestyle'\nimport Paragraph from '@ckeditor/ckeditor5-paragraph/src/paragraph'\nimport RemoveFormat from '@ckeditor/ckeditor5-remove-format/src/removeformat'\nimport TextTransformation from '@ckeditor/ckeditor5-typing/src/texttransformation'\nimport Underline from '@ckeditor/ckeditor5-basic-styles/src/underline'\nimport Mention from '@ckeditor/ckeditor5-mention/src/mention'\nimport Table from '@ckeditor/ckeditor5-table/src/table'\nimport TableToolbar from '@ckeditor/ckeditor5-table/src/tabletoolbar'\nimport Preview from '@/plugins/ckeditor/preview'\nimport ImageAttachment from '@/plugins/ckeditor/imageAttachment'\nimport MentionCustomization from '@/plugins/ckeditor/mentionCustomization'\nimport { normalizeString } from '@/utils'\nimport { mapActions, mapGetters } from 'vuex'\n\nexport default {\n  data() {\n    return {\n      editor: ClassicEditor\n    }\n  },\n\n  computed: {\n    ...mapGetters({\n      variables: 'getAvaliableVariablesToTemplate',\n      members: 'workspaceMembersByDispute'\n    }),\n\n    editorConfig() {\n      return {\n        plugins: [\n          ...[\n            Alignment,\n            Autoformat,\n            BlockQuote,\n            Bold,\n            Image,\n            ImageToolbar,\n            ImageStyle,\n            Essentials,\n            Highlight,\n            Indent,\n            Italic,\n            List,\n            Link,\n            Paragraph,\n            RemoveFormat,\n            TextTransformation,\n            Underline\n          ],\n          ...(this.dontUseTablePlugin ? [] : [Table, TableToolbar]),\n          ...(this.useImageAttachmentPlugin ? [ImageAttachment] : []),\n          ...(this.useMentionPlugin ? [Mention, MentionCustomization] : []),\n          ...(this.usePreviewPlugin ? [Preview] : [])\n        ],\n        mention: this.useMentionPlugin ? {\n          feeds: [\n            {\n              marker: '{',\n              feed: this.getFeedItems,\n              minimumCharacters: 1,\n              itemRenderer: this.customItemRenderer\n            },\n            {\n              marker: '@',\n              feed: this.getFeedPersonItems,\n              minimumCharacters: 0,\n              itemRenderer: this.customMemberItemRenderer\n            }\n          ]\n        } : {},\n        toolbar: {\n          items: [\n            ...[\n              'bold',\n              'italic',\n              'underline',\n              'removeFormat',\n              'link',\n              'bulletedList',\n              'numberedList',\n              '|',\n              'insertTable',\n              '|',\n              'outdent',\n              'indent',\n              '|',\n              'blockQuote',\n              'undo',\n              'redo',\n              'imageStyle'\n            ],\n            ...(this.useImageAttachmentPlugin ? ['imageAttachment'] : []),\n            ...(this.usePreviewPlugin ? ['preview'] : [])\n          ],\n          viewportTopOffset: 30,\n          shouldNotGroupWhenFull: true\n        },\n        table: {\n          contentToolbar: ['tableColumn', 'tableRow', 'mergeTableCells']\n        }\n      }\n    },\n\n    variablesList() {\n      const imgKeys = []\n      const linkKeys = []\n\n      return Object.keys(this.variables).map(key => {\n        return {\n          id: `{{${key}}}`,\n          name: `${this.variables[key]}`,\n          type: imgKeys.includes(key) ? 'img' : linkKeys.includes(key) ? 'link' : 'text'\n        }\n      })\n    }\n  },\n\n  beforeMount() {\n    this.getAvaliableVariablesToTemplate()\n  },\n\n  methods: {\n    ...mapActions([\n      'getAvaliableVariablesToTemplate'\n    ]),\n\n    setImgTag(src) {\n      this.$nextTick(() => {\n        const editor = document.querySelector('.ck-editor__editable').ckeditorInstance\n\n        editor.model.change(writer => {\n          const imageElement = writer.createElement('image', { src })\n          editor.model.insertContent(imageElement, editor.model.document.selection)\n        })\n      })\n    },\n\n    customItemRenderer(item) {\n      return item.name\n    },\n\n    customMemberItemRenderer(item) {\n      return item.person?.name || item.accountEmail\n    },\n\n    getFeedItems(queryText) {\n      function isItemMatching({ name, id }) {\n        const searchString = normalizeString(queryText).replace(/{/g, '')\n\n        return normalizeString(name).includes(searchString) || normalizeString(id).includes(searchString)\n      }\n\n      return this.variablesList.filter(isItemMatching)\n    },\n\n    getFeedPersonItems(queryText) {\n      function isItemMatching({ name, person }) {\n        const searchString = normalizeString(queryText).replace(/{/g, '')\n\n        if (person) {\n          return normalizeString(person.name).includes(searchString)\n        } else {\n          return normalizeString(name).includes(searchString)\n        }\n      }\n\n      return this.members.filter(isItemMatching).map(member => ({\n        ...member,\n        type: 'memberMention',\n        id: `@${this.customMemberItemRenderer(member)}`\n      }))\n    },\n\n    ckeditorFocus(editorInstance) {\n      // TODO: Rever foco do CKEditor.\n      // if (editorInstance) {\n      //   editorInstance.$_instance.editing.view.focus()\n      // } else if (this.editorInstance) {\n      //   this.editorInstance.$_instance.editing.view.focus()\n      // }\n    }\n  }\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".dialog-actions__increase-alert .el-dialog__body{margin-top:0!important}.dialog-actions__increase-alert .el-dialog__body .dialog-actions__increase-alert-body .dialog-actions__increase-alert-body-label{display:block;font-weight:600;margin-bottom:16px}.dialog-actions__increase-alert .el-dialog__body .dialog-actions__increase-alert-body .dialog-actions__increase-alert-body-text{word-break:keep-all}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/dialogs/NotifyOnCompanyAnalysis.vue\"],\"names\":[],\"mappings\":\"AAIE,iDACE,sBAAA,CAGE,iIACE,aAAA,CACA,eAAA,CACA,kBAAA,CAGF,gIACE,mBAAA\",\"sourcesContent\":[\"\\n@import '~projuris-acordos-theme/src/common/colors.scss';\\n\\n.dialog-actions__increase-alert {\\n  .el-dialog__body {\\n    margin-top: 0 !important;\\n\\n    .dialog-actions__increase-alert-body {\\n      .dialog-actions__increase-alert-body-label {\\n        display: block;\\n        font-weight: 600;\\n        margin-bottom: 16px;\\n      }\\n\\n      .dialog-actions__increase-alert-body-text {\\n        word-break: keep-all;\\n      }\\n    }\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[4]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NotifyOnCompanyAnalysis.vue?vue&type=style&index=0&id=60bd0a53&prod&lang=scss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"346bcd77\", content, true, {\"sourceMap\":true,\"shadowMode\":false});"],"names":["render","_vm","this","_c","_self","visible","attrs","name","$options","filters","resumedName","emailmonimo","on","$event","staticClass","_v","ref","editor","editorConfig","model","value","message","callback","$$v","expression","_e","slot","handleCompanyAnalysisAction","staticRenderFns","actionToTemplateId","DISFAVOR","FAVORITE","actionToPropertieKey","mixins","ckeditor","data","disputeId","action","email","computed","mapGetters","userPreferences","methods","mapActions","open","ticket","getDisputeHasLastReceivedMessageProperties","PERSON_EMAIL","PERSON_NAME","lastReceivedMessage","properties","getDisputeLastReceivedMessageProperties","close","Number","$route","params","id","getQuickReplyTemplates","then","res","forEach","parsed","body","referenceTemplateId","getAccountProperty","sendMessage","key","setAccountProperty","to","address","attachments","externalIdentification","inReplyTo","sendemail","$jusNotification","type","title","catch","error","finally","editMessage","component","Preview","Plugin","constructor","super","buttonView","createButton","ui","componentFactory","add","previewIcon","ButtonView","set","label","icon","tooltip","Array","document","querySelectorAll","pop","getSelectedIds","ids","store","getters","length","location","href","split","template","innerHTML","eventBus","$emit","ImageAttachment","imageIcon","withText","dispatch","MentionCustomization","registerConverters","conversion","for","elementToAttribute","view","classes","attributes","viewItem","mentionAttribute","plugins","get","toMentionAttribute","link","getAttribute","userId","converterPriority","attributeToElement","modelAttributeValue","writer","isImage","isMemberMention","createAttributeElement","class","src","accountId","priority","uid","ClassicEditor","variables","members","Alignment","Autoformat","BlockQuote","Bold","Image","ImageToolbar","ImageStyle","Essentials","Highlight","Indent","Italic","List","Link","Paragraph","RemoveFormat","TextTransformation","Underline","dontUseTablePlugin","Table","TableToolbar","useImageAttachmentPlugin","useMentionPlugin","Mention","usePreviewPlugin","mention","feeds","marker","feed","getFeedItems","minimumCharacters","itemRenderer","customItemRenderer","getFeedPersonItems","customMemberItemRenderer","toolbar","items","viewportTopOffset","shouldNotGroupWhenFull","table","contentToolbar","variablesList","imgKeys","linkKeys","Object","keys","map","includes","beforeMount","getAvaliableVariablesToTemplate","setImgTag","$nextTick","querySelector","ckeditorInstance","change","imageElement","createElement","insertContent","selection","item","person","accountEmail","queryText","isItemMatching","searchString","normalizeString","replace","filter","member","ckeditorFocus","editorInstance","___CSS_LOADER_EXPORT___","push","module","content","__esModule","default","locals","exports"],"sourceRoot":""}