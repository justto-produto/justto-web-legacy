(self["webpackChunk_projuris_justto_web"]=self["webpackChunk_projuris_justto_web"]||[]).push([[6758],{76758:function(e,o,n){"use strict";n.r(o),n.d(o,{default:function(){return u}});var t=function(){var e=this,o=e._self._c;return o("section",{staticClass:"communication-container"},[e.occurrence.renderCompleted?e._e():o("el-skeleton"),e.toPrint?o("div",{staticClass:"date-to-print"},[e._v(" "+e._s(e._f("moment")(e.sendDate,"[Em] DD/MM [-] HH:mm"))+" ")]):e._e(),e.hideInfo?e._e():o("div",{staticClass:"communication-container__email",class:e.directionIn||e.toPrint?"INBOUND":"OUTBOUND"},[o("JusIcon",{staticClass:"communication-container__email-icon",attrs:{icon:e.messageType}}),e.contact?o("span",{staticClass:"communication-container__email-prefix"},[e._v(" "+e._s(e.prefix)+" ")]):e._e(),!e.isSimilarName&&e.person?o("span",{staticClass:"communication-container__email-person"},[e._v(" "+e._s(e.person)+" ")]):e._e(),e.contact?o("span",{staticClass:"communication-container__email-contact",on:{click:e.copyEmail}},[!e.isSimilarName&&e.person?o("span",[e._v("<")]):e._e(),e._v(" "+e._s(e.contact)+" "),!e.isSimilarName&&e.person?o("span",[e._v(">")]):e._e()]):e._e()],1),o("div",{staticClass:"communication-container__message"},[e.canShowFullMessage||e.isSmallText||e.toPrint?e._e():o("span",{staticClass:"communication-container__message-link",on:{click:function(o){return e.deleteFullMessage(e.interaction.message.messageId)}}},[e._v(" Ver menos ")]),o("span",{domProps:{innerHTML:e._s(e.message)}}),e.canShowFullMessage&&!e.toPrint?o("span",{staticClass:"communication-container__message-link",on:{click:function(o){return e.getFullMessage(e.interaction.message.messageId)}}},[e._v(" Ver mais ")]):e._e()]),e.toPrint?e._e():o("div",{staticClass:"communication-container__about"},[o("el-tooltip",{attrs:{disabled:!e.sendStatusDate}},[o("span",{attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s({readed:"Lida",recived:"Recebida",sent:"Enviada"}[e.sendStatus])+" "+e._s(e._f("moment")(e.sendStatusDate,"[ em ] DD/MM/YYYY [ às ] HH:mm"))+" ")]),"default"===e.sendStatus||e.directionIn?e._e():o("JusIcon",{staticClass:"communication-container__about-icon",attrs:{icon:`status-${e.sendStatus}`}})],1),o("el-tooltip",{attrs:{"open-delay":600}},[o("div",{staticStyle:{"max-width":"400px","text-align":"justify"},attrs:{slot:"content"},slot:"content"},[o("span",{domProps:{innerHTML:e._s(e.hasError)}})]),e.hasError?o("JusIcon",{staticClass:"communication-container__about-icon",attrs:{icon:"alert"}}):e._e()],1)],1)],1)},i=[],r=n(90408),a=n(4593),c={mixins:[a.Z],props:{value:{type:Object,required:!0},occurrence:{type:Object,required:!0},hideInfo:{type:Boolean,default:!1}},computed:{...(0,r.Se)({fullMessages:"getFullMessages"}),interaction(){return this.value},prefix(){return this.directionIn?"de":"para"},contact(){return this.interaction.message[this.directionIn?"sender":"receiver"]},messageType(){const e={SMS:"sms",EMAIL:"email",WHATSAPP:"whatsapp",NEGOTIATOR_MESSAGE:"negotiator-message-2"};if(this.interaction?.message?.communicationType){const{communicationType:o}=this.interaction.message;if(Object.keys(e).includes(o))return e[o]}return"email"},text(){return this.interaction?.message?.resume?this.interaction.message.resume:this.interaction?.message?.parameters?.SUBJECT?this.interaction?.message?.parameters?.SUBJECT:""},message(){const{messageId:e}=this.interaction.message;return"ARCHIVED"===this.value?.message?.contentStorage?"<i>Mensagem expurgada, entre em contato com suporte técnico caso queira ver a mensagem original!</i>":this.fullMessages[e]||this.text},isSmallText(){return"ARCHIVED"===this.value?.message?.contentStorage||this.text.length<100},canShowFullMessage(){const{messageId:e}=this.interaction.message;return!this.isSmallText&&!Object.keys(this.fullMessages).includes(String(e))},hasError(){return this.interaction?.message?.parameters?.FAILED_SEND}},updated(){this.$set(this.occurrence,"renderCompleted",!0)},mounted(){this.$set(this.value,"renderCompleted",!0)},methods:{...(0,r.nv)(["deleteFullMessage","getFullMessage"]),copyEmail(e){this.contact&&(navigator.clipboard.writeText(this.contact),this.$message({message:"Copiado para a área de transferência.",type:"info",center:!0,showClose:!0}))}}},s=c,l=(n(40965),n(1001)),m=(0,l.Z)(s,t,i,!1,null,"509f894c",null),u=m.exports},4593:function(e,o,n){"use strict";var t=n(40917),i=n(90408);o.Z={computed:{...(0,i.Se)({toPrint:"getExportTicketModalVisible"}),person(){const e=this.directionIn?"SENDER_NAME":"RECEIVER_NAME";if(this.interaction?.message?.parameters[e]){const o=this.interaction?.message?.parameters[e];return this.$options.filters.resumedName(o||"")}return this?.interaction?.properties?.PERSON_NAME?this.$options.filters.resumedName(this?.interaction?.properties?.PERSON_NAME):""},isSimilarName(){return(0,t.z_)(this.person,this.contact,75)},directionIn(){return"INBOUND"===this.interaction?.direction},sendDate(){return this.occurrence.updateAt?.dateTime||this.occurrence.createAt?.dateTime},sendStatus(){const e=this.interaction?.message?.parameters||{},o=Object.keys(e);return o.includes("READ_DATE")?"readed":o.includes("RECEIVER_DATE")?"recived":(o.includes("SEND_DATE"),"sent")},sendStatusDate(){const e=this.interaction?.message?.parameters||{},o=Object.keys(e);return o.includes("READ_DATE")?e?.READ_DATE?.includes("[UTC]")?this.$moment(e?.READ_DATE.slice(e?.READ_DATE.indexOf("[UTC]"))):(0,t.be)(e.READ_DATE):o.includes("RECEIVER_DATE")?e?.RECEIVER_DATE?.includes("[UTC]")?this.$moment(e?.RECEIVER_DATE.slice(e?.RECEIVER_DATE.indexOf("[UTC]"))):(0,t.be)(e.RECEIVER_DATE):o.includes("SEND_DATE")?e?.SEND_DATE?.includes("[UTC]")?this.$moment(e?.SEND_DATE.slice(e?.SEND_DATE.indexOf("[UTC]"))):(0,t.be)(e.SEND_DATE):this.interaction?.createAt?.dateTime},properties(){return this.occurrence?.properties},groupedOccurrences(){try{return this.occurrence?.properties?.GROUPED_OCCURRENCES?.length>2?JSON.parse(this.occurrence?.properties?.GROUPED_OCCURRENCES.replace(/'/g,'"')):[]}catch(e){return[]}},haveGroupedOccurrences(){return this.groupedOccurrences.length>0}}}},66432:function(e,o,n){"use strict";n.r(o);var t=n(87537),i=n.n(t),r=n(23645),a=n.n(r),c=a()(i());c.push([e.id,".communication-container[data-v-509f894c]{background-color:transparent;overflow:hidden;margin:6px;padding:0}.communication-container .communication-container__email[data-v-509f894c]{display:flex;align-items:center;gap:6px;color:#9a9797;font-weight:600;margin-bottom:6px;width:-moz-max-content;width:max-content;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.communication-container .communication-container__email.INBOUND[data-v-509f894c]{color:#424242}.communication-container .communication-container__email.OUTBOUND[data-v-509f894c]{color:#018ef0}.communication-container .communication-container__email .communication-container__email-contact[data-v-509f894c]{display:inherit;cursor:copy}.communication-container .communication-container__email .communication-container__email-icon[data-v-509f894c]{width:16px}.communication-container .communication-container__message[data-v-509f894c]{font-size:16px;color:#3c3b3b;max-width:40vw}.communication-container .communication-container__message .communication-container__message-link[data-v-509f894c]{cursor:pointer;font-size:12px;text-decoration:underline;color:#0756e4}.communication-container .communication-container__about[data-v-509f894c]{display:flex;justify-content:flex-end;align-items:center;gap:6px;font-size:12px;color:#9a9797}.communication-container .communication-container__about .communication-container__about-icon[data-v-509f894c]{width:18px}@media(max-height:900px){.communication-container .communication-container__message[data-v-509f894c]{font-size:14px}}","",{version:3,sources:["webpack://./src/views/main/negotiation/partials/ticket/omnichannel/occurrences/occurrence/interaction/partials/Communication.vue","webpack://./node_modules/projuris-acordos-theme/src/common/colors.scss"],names:[],mappings:"AAGA,0CACE,4BAAA,CACA,eAAA,CACA,UAAA,CACA,SAAA,CAEA,0EACE,YAAA,CACA,kBAAA,CACA,OAAA,CAEA,aAAA,CACA,eAAA,CAEA,iBAAA,CACA,sBAAA,CAAA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CAEA,kFACE,aCpBU,CDuBZ,mFACE,aCfkB,CDkBpB,kHACE,eAAA,CACA,WAAA,CAGF,+GACE,UAAA,CAIJ,4EACE,cAAA,CACA,aAAA,CACA,cAAA,CAMA,mHACE,cAAA,CACA,cAAA,CACA,yBAAA,CACA,aC1CY,CD8ChB,0EACE,YAAA,CACA,wBAAA,CACA,kBAAA,CACA,OAAA,CAEA,cAAA,CACA,aAAA,CAEA,+GACE,UAAA,CAKN,yBAEI,4EACE,cAAA,CAAA",sourcesContent:["\n@import '~projuris-acordos-theme/src/common/colors.scss';\n\n.communication-container {\n  background-color: transparent;\n  overflow: hidden;\n  margin: 6px;\n  padding: 0px;\n\n  .communication-container__email {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n\n    color: #9A9797;\n    font-weight: 600;\n\n    margin-bottom: 6px;\n    width: max-content;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n\n    &.INBOUND {\n      color: $--color-text-primary;\n    }\n\n    &.OUTBOUND {\n      color: $--color-secondary;\n    }\n\n    .communication-container__email-contact {\n      display: inherit;\n      cursor: copy;\n    }\n\n    .communication-container__email-icon {\n      width: 16px;\n    }\n  }\n\n  .communication-container__message {\n    font-size: 16px;\n    color: #3C3B3B;\n    max-width: 40vw;\n\n    @media (max-height: 900px) {\n      font-size: 14px;\n    }\n\n    .communication-container__message-link {\n      cursor: pointer;\n      font-size: 12px;\n      text-decoration: underline;\n      color: $--color-primary;\n    }\n  }\n\n  .communication-container__about {\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    gap: 6px;\n\n    font-size: 12px;\n    color: #9A9797;\n\n    .communication-container__about-icon {\n      width: 18px;\n    }\n  }\n}\n\n@media (max-height: 900px) {\n  .communication-container {\n    .communication-container__message {\n      font-size: 14px;\n    }\n  }\n}\n","/* Colors\n-------------------------- */\n\n$--color-white: #fff !default;\n$--color-black: #424242 !default;\n$--color-gray: #979797 !default;\n$--color-gray-light-1: mix($--color-white, $--color-gray, 10%) !default;\n$--color-light-gray: #f3f4f5 !default;\n$--color-whatsapp: #075E54 !default;\n\n$--pj-color-darker-blue: #0A0022 !default;\n$--pj-color-dark-blue: #280BA0 !default;\n$--pj-color-blue: #0756e4 !default;\n$--pj-color-light-blue: #018EF0 !default;\n$--pj-color-lighter-blue: #30A9FB !default;\n$--pj-color-white-blue: #F0F9FE !default;\n$--pj-color-disabled-blue: #9ad2f9 !default;\n\n$-pg-color-overlay: #19415F !default;\n\n$--pj-color-red: #CC4148 !default;\n$--pj-color-light-red: #EC767C !default;\n$--pj-color-disable-red: #FFF2F3 !default;\n\n$--color-primary: $--pj-color-blue !default;\n$--color-primary-light-1: mix($--color-white, $--color-primary, 10%) !default;\n$--color-primary-light-2: mix($--color-white, $--color-primary, 20%) !default;\n$--color-primary-light-3: mix($--color-white, $--color-primary, 30%) !default;\n$--color-primary-light-4: mix($--color-white, $--color-primary, 40%) !default;\n$--color-primary-light-5: mix($--color-white, $--color-primary, 50%) !default;\n$--color-primary-light-6: mix($--color-white, $--color-primary, 60%) !default;\n$--color-primary-light-7: mix($--color-white, $--color-primary, 70%) !default;\n$--color-primary-light-8: mix($--color-white, $--color-primary, 80%) !default;\n$--color-primary-light-9: mix($--color-white, $--color-primary, 90%) !default;\n\n$--color-secondary: $--pj-color-light-blue !default;\n$--color-secondary-light-1: mix($--color-white, $--color-secondary, 10%) !default;\n$--color-secondary-light-2: mix($--color-white, $--color-secondary, 20%) !default;\n$--color-secondary-light-3: mix($--color-white, $--color-secondary, 30%) !default;\n$--color-secondary-light-4: mix($--color-white, $--color-secondary, 40%) !default;\n$--color-secondary-light-5: mix($--color-white, $--color-secondary, 50%) !default;\n$--color-secondary-light-6: mix($--color-white, $--color-secondary, 60%) !default;\n$--color-secondary-light-7: mix($--color-white, $--color-secondary, 70%) !default;\n$--color-secondary-light-8: mix($--color-white, $--color-secondary, 80%) !default;\n$--color-secondary-light-9: mix($--color-white, $--color-secondary, 90%) !default;\n\n$--color-primary-dark: $--pj-color-dark-blue !default;\n$--color-success: #14CC30 !default;\n$--color-warning: #FFC900 !default;\n$--color-danger: #FF4B54 !default;\n$--color-info: #2FBBEC !default;\n\n$--color-success-light-1: mix($--color-white, $--color-success, 10%) !default;\n$--color-success-light-5: mix($--color-white, $--color-success, 50%) !default;\n$--color-warning-light-5: mix($--color-white, $--color-warning, 50%) !default;\n$--color-danger-light-5: mix($--color-white, $--color-danger, 50%) !default;\n$--color-danger-light-3: mix($--color-white, $--color-danger, 30%) !default;\n$--color-info-light-5: mix($--color-white, $--color-info, 50%) !default;\n\n$--color-success-light: mix($--color-white, $--color-success, 80%) !default;\n$--color-warning-light: mix($--color-white, $--color-warning, 80%) !default;\n$--color-danger-light: mix($--color-white, $--color-danger, 80%) !default;\n$--color-info-light: mix($--color-white, $--color-info, 80%) !default;\n\n$--color-success-lighter: mix($--color-white, $--color-success, 90%) !default;\n$--color-warning-lighter: mix($--color-white, $--color-warning, 90%) !default;\n$--color-danger-lighter: mix($--color-white, $--color-danger, 90%) !default;\n$--color-info-lighter: mix($--color-white, $--color-info, 90%) !default;\n\n$--color-text-primary: $--color-black !default;\n$--color-text-secondary: $--color-gray !default;\n\n$--color-nps-promoter: #14CC30 !default;\n$--color-nps-neutral: #979797 !default;\n$--color-nps-detractor: #FF4B54 !default;\n\n$--color-negotiator-bg: #9461f74f !default;\n$--color-email-bg: $--color-info-light !default;\n$--color-whatsapp-bg: $--color-success-light-5 !default;"],sourceRoot:""}]),o["default"]=c},40965:function(e,o,n){var t=n(66432);t.__esModule&&(t=t.default),"string"===typeof t&&(t=[[e.id,t,""]]),t.locals&&(e.exports=t.locals);var i=n(39185).Z;i("53e4beae",t,!0,{sourceMap:!0,shadowMode:!1})}}]);
//# sourceMappingURL=6758.js.map