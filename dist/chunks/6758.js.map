{"version":3,"file":"chunks/6758.js","mappings":"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","sources":["webpack://@projuris/justto-web/./src/views/main/negotiation/partials/ticket/omnichannel/occurrences/occurrence/interaction/partials/Communication.vue","webpack://@projuris/justto-web/src/views/main/negotiation/partials/ticket/omnichannel/occurrences/occurrence/interaction/partials/Communication.vue","webpack://@projuris/justto-web/./src/views/main/negotiation/partials/ticket/omnichannel/occurrences/occurrence/interaction/partials/Communication.vue?1df9","webpack://@projuris/justto-web/./src/views/main/negotiation/partials/ticket/omnichannel/occurrences/occurrence/interaction/partials/Communication.vue?dd08","webpack://@projuris/justto-web/./src/utils/mixins/communicationSendStatus.js","webpack://@projuris/justto-web/./src/views/main/negotiation/partials/ticket/omnichannel/occurrences/occurrence/interaction/partials/Communication.vue?aab0","webpack://@projuris/justto-web/./src/views/main/negotiation/partials/ticket/omnichannel/occurrences/occurrence/interaction/partials/Communication.vue?2943"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"communication-container\"},[(!_vm.occurrence.renderCompleted)?_c('el-skeleton'):_vm._e(),(_vm.toPrint)?_c('div',{staticClass:\"date-to-print\"},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(_vm.sendDate,'[Em] DD/MM [-] HH:mm'))+\" \")]):_vm._e(),(!_vm.hideInfo)?_c('div',{staticClass:\"communication-container__email\",class:_vm.directionIn || _vm.toPrint ? 'INBOUND' : 'OUTBOUND'},[_c('JusIcon',{staticClass:\"communication-container__email-icon\",attrs:{\"icon\":_vm.messageType}}),(_vm.contact)?_c('span',{staticClass:\"communication-container__email-prefix\"},[_vm._v(\" \"+_vm._s(_vm.prefix)+\" \")]):_vm._e(),(!_vm.isSimilarName && _vm.person)?_c('span',{staticClass:\"communication-container__email-person\"},[_vm._v(\" \"+_vm._s(_vm.person)+\" \")]):_vm._e(),(_vm.contact)?_c('span',{staticClass:\"communication-container__email-contact\",on:{\"click\":_vm.copyEmail}},[(!_vm.isSimilarName && _vm.person)?_c('span',[_vm._v(\"<\")]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.contact)+\" \"),(!_vm.isSimilarName && _vm.person)?_c('span',[_vm._v(\">\")]):_vm._e()]):_vm._e()],1):_vm._e(),_c('div',{staticClass:\"communication-container__message\"},[(!_vm.canShowFullMessage && !_vm.isSmallText && !_vm.toPrint)?_c('span',{staticClass:\"communication-container__message-link\",on:{\"click\":function($event){return _vm.deleteFullMessage(_vm.interaction.message.messageId)}}},[_vm._v(\" Ver menos \")]):_vm._e(),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.message)}}),(_vm.canShowFullMessage && !_vm.toPrint)?_c('span',{staticClass:\"communication-container__message-link\",on:{\"click\":function($event){return _vm.getFullMessage(_vm.interaction.message.messageId)}}},[_vm._v(\" Ver mais \")]):_vm._e()]),(!_vm.toPrint)?_c('div',{staticClass:\"communication-container__about\"},[_c('el-tooltip',{attrs:{\"disabled\":!_vm.sendStatusDate}},[_c('span',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_vm._v(\" \"+_vm._s({'readed': 'Lida', 'recived': 'Recebida', 'sent': 'Enviada'}[_vm.sendStatus])+\" \"+_vm._s(_vm._f(\"moment\")(_vm.sendStatusDate,'[ em ] DD/MM/YYYY [ às ] HH:mm'))+\" \")]),(_vm.sendStatus !== 'default' && !_vm.directionIn)?_c('JusIcon',{staticClass:\"communication-container__about-icon\",attrs:{\"icon\":`status-${_vm.sendStatus}`}}):_vm._e()],1),_c('el-tooltip',{attrs:{\"open-delay\":600}},[_c('div',{staticStyle:{\"max-width\":\"400px\",\"text-align\":\"justify\"},attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.hasError)}})]),(_vm.hasError)?_c('JusIcon',{staticClass:\"communication-container__about-icon\",attrs:{\"icon\":\"alert\"}}):_vm._e()],1)],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"communication-container\">\n    <el-skeleton v-if=\"!occurrence.renderCompleted\" />\n    <div\n      v-if=\"toPrint\"\n      class=\"date-to-print\"\n    >\n      {{ sendDate | moment('[Em] DD/MM [-] HH:mm') }}\n    </div>\n    <div\n      v-if=\"!hideInfo\"\n      class=\"communication-container__email\"\n      :class=\"directionIn || toPrint ? 'INBOUND' : 'OUTBOUND'\"\n    >\n      <JusIcon\n        class=\"communication-container__email-icon\"\n        :icon=\"messageType\"\n      />\n      <span\n        v-if=\"contact\"\n        class=\"communication-container__email-prefix\"\n      >\n        {{ prefix }}\n      </span>\n      <span\n        v-if=\"!isSimilarName && person\"\n        class=\"communication-container__email-person\"\n      >\n        {{ person }}\n      </span>\n      <span\n        v-if=\"contact\"\n        class=\"communication-container__email-contact\"\n        @click=\"copyEmail\"\n      >\n        <span v-if=\"!isSimilarName && person\">&lt;</span>\n        {{ contact }}\n        <span v-if=\"!isSimilarName && person\">&gt;</span>\n      </span>\n    </div>\n\n    <div class=\"communication-container__message\">\n      <span\n        v-if=\"!canShowFullMessage && !isSmallText && !toPrint\"\n        class=\"communication-container__message-link\"\n        @click=\"deleteFullMessage(interaction.message.messageId)\"\n      >\n        Ver menos\n      </span>\n      <span v-html=\"message\" />\n      <span\n        v-if=\"canShowFullMessage && !toPrint\"\n        class=\"communication-container__message-link\"\n        @click=\"getFullMessage(interaction.message.messageId)\"\n      >\n        Ver mais\n      </span>\n    </div>\n\n    <div\n      v-if=\"!toPrint\"\n      class=\"communication-container__about\"\n    >\n      <el-tooltip\n        :disabled=\"!sendStatusDate\"\n      >\n        <span slot=\"content\">\n          {{ {'readed': 'Lida', 'recived': 'Recebida', 'sent': 'Enviada'}[sendStatus] }}\n          {{ sendStatusDate | moment('[ em ] DD/MM/YYYY [ às ] HH:mm') }}\n        </span>\n\n        <JusIcon\n          v-if=\"sendStatus !== 'default' && !directionIn\"\n          class=\"communication-container__about-icon\"\n          :icon=\"`status-${sendStatus}`\"\n        />\n      </el-tooltip>\n\n      <el-tooltip\n        :open-delay=\"600\"\n      >\n        <div\n          slot=\"content\"\n          style=\"max-width: 400px; text-align: justify;\"\n        >\n          <span v-html=\"hasError\" />\n        </div>\n\n        <JusIcon\n          v-if=\"hasError\"\n          class=\"communication-container__about-icon\"\n          icon=\"alert\"\n        />\n      </el-tooltip>\n    </div>\n  </section>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex'\nimport communicationSendStatus from '@/utils/mixins/communicationSendStatus'\n\nexport default {\n  mixins: [communicationSendStatus],\n\n  props: {\n    value: {\n      type: Object,\n      required: true\n    },\n\n    occurrence: {\n      type: Object,\n      required: true\n    },\n\n    hideInfo: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  computed: {\n    ...mapGetters({\n      fullMessages: 'getFullMessages'\n    }),\n\n    interaction() {\n      return this.value\n    },\n\n    prefix() {\n      return this.directionIn ? 'de' : 'para'\n    },\n\n    contact() {\n      return this.interaction.message[this.directionIn ? 'sender' : 'receiver']\n    },\n\n    messageType() {\n      const mapCommunicationTypes = {\n        SMS: 'sms',\n        EMAIL: 'email',\n        WHATSAPP: 'whatsapp',\n        NEGOTIATOR_MESSAGE: 'negotiator-message-2'\n      }\n      if (this.interaction?.message?.communicationType) {\n        const { communicationType } = this.interaction.message\n        if (Object.keys(mapCommunicationTypes).includes(communicationType)) {\n          return mapCommunicationTypes[communicationType]\n        }\n      }\n      return 'email'\n    },\n\n    text() {\n      if (this.interaction?.message?.resume) {\n        return this.interaction.message.resume\n      } else if (this.interaction?.message?.parameters?.SUBJECT) {\n        return this.interaction?.message?.parameters?.SUBJECT\n      }\n      return ''\n    },\n\n    message() {\n      const { messageId } = this.interaction.message\n\n      return this.value?.message?.contentStorage === 'ARCHIVED' ? '<i>Mensagem expurgada, entre em contato com suporte técnico caso queira ver a mensagem original!</i>' : this.fullMessages[messageId] || this.text\n    },\n\n    isSmallText() {\n      return this.value?.message?.contentStorage === 'ARCHIVED' || this.text.length < 100\n    },\n\n    canShowFullMessage() {\n      const { messageId } = this.interaction.message\n\n      return !this.isSmallText && !Object.keys(this.fullMessages).includes(String(messageId))\n    },\n\n    hasError() {\n      return this.interaction?.message?.parameters?.FAILED_SEND\n    }\n  },\n\n  updated() {\n    this.$set(this.occurrence, 'renderCompleted', true)\n  },\n\n  mounted() {\n    this.$set(this.value, 'renderCompleted', true)\n  },\n\n  methods: {\n    ...mapActions([\n      'deleteFullMessage',\n      'getFullMessage'\n    ]),\n\n    copyEmail(_event) {\n      if (this.contact) {\n        navigator.clipboard.writeText(this.contact)\n        this.$message({\n          message: 'Copiado para a área de transferência.',\n          type: 'info',\n          center: true,\n          showClose: true\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~projuris-acordos-theme/src/common/colors.scss';\n\n.communication-container {\n  background-color: transparent;\n  overflow: hidden;\n  margin: 6px;\n  padding: 0px;\n\n  .communication-container__email {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n\n    color: #9A9797;\n    font-weight: 600;\n\n    margin-bottom: 6px;\n    width: max-content;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n\n    &.INBOUND {\n      color: $--color-text-primary;\n    }\n\n    &.OUTBOUND {\n      color: $--color-secondary;\n    }\n\n    .communication-container__email-contact {\n      display: inherit;\n      cursor: copy;\n    }\n\n    .communication-container__email-icon {\n      width: 16px;\n    }\n  }\n\n  .communication-container__message {\n    font-size: 16px;\n    color: #3C3B3B;\n    max-width: 40vw;\n\n    @media (max-height: 900px) {\n      font-size: 14px;\n    }\n\n    .communication-container__message-link {\n      cursor: pointer;\n      font-size: 12px;\n      text-decoration: underline;\n      color: $--color-primary;\n    }\n  }\n\n  .communication-container__about {\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    gap: 6px;\n\n    font-size: 12px;\n    color: #9A9797;\n\n    .communication-container__about-icon {\n      width: 18px;\n    }\n  }\n}\n\n@media (max-height: 900px) {\n  .communication-container {\n    .communication-container__message {\n      font-size: 14px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Communication.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Communication.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Communication.vue?vue&type=template&id=509f894c&scoped=true&\"\nimport script from \"./Communication.vue?vue&type=script&lang=js&\"\nexport * from \"./Communication.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Communication.vue?vue&type=style&index=0&id=509f894c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"509f894c\",\n  null\n  \n)\n\nexport default component.exports","import { isSimilarStrings, normalizeDateToISO } from '@/utils'\nimport { mapGetters } from 'vuex'\n\nexport default {\n  computed: {\n    ...mapGetters({\n      toPrint: 'getExportTicketModalVisible'\n    }),\n\n    person() {\n      const key = this.directionIn ? 'SENDER_NAME' : 'RECEIVER_NAME'\n\n      if (this.interaction?.message?.parameters[key]) {\n        const name = this.interaction?.message?.parameters[key]\n\n        return this.$options.filters.resumedName(name || '')\n      } else if (this?.interaction?.properties?.PERSON_NAME) {\n        return this.$options.filters.resumedName(this?.interaction?.properties?.PERSON_NAME)\n      } else {\n        return ''\n      }\n    },\n\n    isSimilarName() {\n      return isSimilarStrings(this.person, this.contact, 75)\n    },\n\n    directionIn() {\n      return this.interaction?.direction === 'INBOUND'\n    },\n\n    sendDate() {\n      return this.occurrence.updateAt?.dateTime || this.occurrence.createAt?.dateTime\n    },\n\n    sendStatus() {\n      const parameters = this.interaction?.message?.parameters || {}\n      const keys = Object.keys(parameters)\n\n      if (keys.includes('READ_DATE')) {\n        return 'readed'\n      } else if (keys.includes('RECEIVER_DATE')) {\n        return 'recived'\n      } else if (keys.includes('SEND_DATE')) {\n        return 'sent'\n      } else {\n        return 'sent'\n      }\n    },\n\n    sendStatusDate() {\n      const parameters = this.interaction?.message?.parameters || {}\n      const keys = Object.keys(parameters)\n\n      if (keys.includes('READ_DATE')) {\n        if (parameters?.READ_DATE?.includes('[UTC]')) {\n          return this.$moment(parameters?.READ_DATE.slice(parameters?.READ_DATE.indexOf('[UTC]')))\n        } else {\n          return normalizeDateToISO(parameters.READ_DATE)\n        }\n      } else if (keys.includes('RECEIVER_DATE')) {\n        if (parameters?.RECEIVER_DATE?.includes('[UTC]')) {\n          return this.$moment(parameters?.RECEIVER_DATE.slice(parameters?.RECEIVER_DATE.indexOf('[UTC]')))\n        } else {\n          return normalizeDateToISO(parameters.RECEIVER_DATE)\n        }\n      } else if (keys.includes('SEND_DATE')) {\n        if (parameters?.SEND_DATE?.includes('[UTC]')) {\n          return this.$moment(parameters?.SEND_DATE.slice(parameters?.SEND_DATE.indexOf('[UTC]')))\n        } else {\n          return normalizeDateToISO(parameters.SEND_DATE)\n        }\n      } else {\n        return this.interaction?.createAt?.dateTime\n      }\n    },\n\n    properties() {\n      return this.occurrence?.properties\n    },\n\n    groupedOccurrences() {\n      try {\n        if (this.occurrence?.properties?.GROUPED_OCCURRENCES?.length > 2) {\n          return JSON.parse(this.occurrence?.properties?.GROUPED_OCCURRENCES.replace(/'/g, '\"'))\n        }\n        return []\n      } catch (_error) {\n        return []\n      }\n    },\n\n    haveGroupedOccurrences() {\n      return this.groupedOccurrences.length > 0\n    }\n  }\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".communication-container[data-v-509f894c]{background-color:transparent;overflow:hidden;margin:6px;padding:0}.communication-container .communication-container__email[data-v-509f894c]{display:flex;align-items:center;gap:6px;color:#9a9797;font-weight:600;margin-bottom:6px;width:-moz-max-content;width:max-content;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.communication-container .communication-container__email.INBOUND[data-v-509f894c]{color:#424242}.communication-container .communication-container__email.OUTBOUND[data-v-509f894c]{color:#018ef0}.communication-container .communication-container__email .communication-container__email-contact[data-v-509f894c]{display:inherit;cursor:copy}.communication-container .communication-container__email .communication-container__email-icon[data-v-509f894c]{width:16px}.communication-container .communication-container__message[data-v-509f894c]{font-size:16px;color:#3c3b3b;max-width:40vw}.communication-container .communication-container__message .communication-container__message-link[data-v-509f894c]{cursor:pointer;font-size:12px;text-decoration:underline;color:#0756e4}.communication-container .communication-container__about[data-v-509f894c]{display:flex;justify-content:flex-end;align-items:center;gap:6px;font-size:12px;color:#9a9797}.communication-container .communication-container__about .communication-container__about-icon[data-v-509f894c]{width:18px}@media(max-height:900px){.communication-container .communication-container__message[data-v-509f894c]{font-size:14px}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/views/main/negotiation/partials/ticket/omnichannel/occurrences/occurrence/interaction/partials/Communication.vue\",\"webpack://./node_modules/projuris-acordos-theme/src/common/colors.scss\"],\"names\":[],\"mappings\":\"AAGA,0CACE,4BAAA,CACA,eAAA,CACA,UAAA,CACA,SAAA,CAEA,0EACE,YAAA,CACA,kBAAA,CACA,OAAA,CAEA,aAAA,CACA,eAAA,CAEA,iBAAA,CACA,sBAAA,CAAA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CAEA,kFACE,aCpBU,CDuBZ,mFACE,aCfkB,CDkBpB,kHACE,eAAA,CACA,WAAA,CAGF,+GACE,UAAA,CAIJ,4EACE,cAAA,CACA,aAAA,CACA,cAAA,CAMA,mHACE,cAAA,CACA,cAAA,CACA,yBAAA,CACA,aC1CY,CD8ChB,0EACE,YAAA,CACA,wBAAA,CACA,kBAAA,CACA,OAAA,CAEA,cAAA,CACA,aAAA,CAEA,+GACE,UAAA,CAKN,yBAEI,4EACE,cAAA,CAAA\",\"sourcesContent\":[\"\\n@import '~projuris-acordos-theme/src/common/colors.scss';\\n\\n.communication-container {\\n  background-color: transparent;\\n  overflow: hidden;\\n  margin: 6px;\\n  padding: 0px;\\n\\n  .communication-container__email {\\n    display: flex;\\n    align-items: center;\\n    gap: 6px;\\n\\n    color: #9A9797;\\n    font-weight: 600;\\n\\n    margin-bottom: 6px;\\n    width: max-content;\\n    white-space: nowrap;\\n    text-overflow: ellipsis;\\n    overflow: hidden;\\n\\n    &.INBOUND {\\n      color: $--color-text-primary;\\n    }\\n\\n    &.OUTBOUND {\\n      color: $--color-secondary;\\n    }\\n\\n    .communication-container__email-contact {\\n      display: inherit;\\n      cursor: copy;\\n    }\\n\\n    .communication-container__email-icon {\\n      width: 16px;\\n    }\\n  }\\n\\n  .communication-container__message {\\n    font-size: 16px;\\n    color: #3C3B3B;\\n    max-width: 40vw;\\n\\n    @media (max-height: 900px) {\\n      font-size: 14px;\\n    }\\n\\n    .communication-container__message-link {\\n      cursor: pointer;\\n      font-size: 12px;\\n      text-decoration: underline;\\n      color: $--color-primary;\\n    }\\n  }\\n\\n  .communication-container__about {\\n    display: flex;\\n    justify-content: flex-end;\\n    align-items: center;\\n    gap: 6px;\\n\\n    font-size: 12px;\\n    color: #9A9797;\\n\\n    .communication-container__about-icon {\\n      width: 18px;\\n    }\\n  }\\n}\\n\\n@media (max-height: 900px) {\\n  .communication-container {\\n    .communication-container__message {\\n      font-size: 14px;\\n    }\\n  }\\n}\\n\",\"/* Colors\\n-------------------------- */\\n\\n$--color-white: #fff !default;\\n$--color-black: #424242 !default;\\n$--color-gray: #979797 !default;\\n$--color-gray-light-1: mix($--color-white, $--color-gray, 10%) !default;\\n$--color-light-gray: #f3f4f5 !default;\\n$--color-whatsapp: #075E54 !default;\\n\\n$--pj-color-darker-blue: #0A0022 !default;\\n$--pj-color-dark-blue: #280BA0 !default;\\n$--pj-color-blue: #0756e4 !default;\\n$--pj-color-light-blue: #018EF0 !default;\\n$--pj-color-lighter-blue: #30A9FB !default;\\n$--pj-color-white-blue: #F0F9FE !default;\\n$--pj-color-disabled-blue: #9ad2f9 !default;\\n\\n$-pg-color-overlay: #19415F !default;\\n\\n$--pj-color-red: #CC4148 !default;\\n$--pj-color-light-red: #EC767C !default;\\n$--pj-color-disable-red: #FFF2F3 !default;\\n\\n$--color-primary: $--pj-color-blue !default;\\n$--color-primary-light-1: mix($--color-white, $--color-primary, 10%) !default;\\n$--color-primary-light-2: mix($--color-white, $--color-primary, 20%) !default;\\n$--color-primary-light-3: mix($--color-white, $--color-primary, 30%) !default;\\n$--color-primary-light-4: mix($--color-white, $--color-primary, 40%) !default;\\n$--color-primary-light-5: mix($--color-white, $--color-primary, 50%) !default;\\n$--color-primary-light-6: mix($--color-white, $--color-primary, 60%) !default;\\n$--color-primary-light-7: mix($--color-white, $--color-primary, 70%) !default;\\n$--color-primary-light-8: mix($--color-white, $--color-primary, 80%) !default;\\n$--color-primary-light-9: mix($--color-white, $--color-primary, 90%) !default;\\n\\n$--color-secondary: $--pj-color-light-blue !default;\\n$--color-secondary-light-1: mix($--color-white, $--color-secondary, 10%) !default;\\n$--color-secondary-light-2: mix($--color-white, $--color-secondary, 20%) !default;\\n$--color-secondary-light-3: mix($--color-white, $--color-secondary, 30%) !default;\\n$--color-secondary-light-4: mix($--color-white, $--color-secondary, 40%) !default;\\n$--color-secondary-light-5: mix($--color-white, $--color-secondary, 50%) !default;\\n$--color-secondary-light-6: mix($--color-white, $--color-secondary, 60%) !default;\\n$--color-secondary-light-7: mix($--color-white, $--color-secondary, 70%) !default;\\n$--color-secondary-light-8: mix($--color-white, $--color-secondary, 80%) !default;\\n$--color-secondary-light-9: mix($--color-white, $--color-secondary, 90%) !default;\\n\\n$--color-primary-dark: $--pj-color-dark-blue !default;\\n$--color-success: #14CC30 !default;\\n$--color-warning: #FFC900 !default;\\n$--color-danger: #FF4B54 !default;\\n$--color-info: #2FBBEC !default;\\n\\n$--color-success-light-1: mix($--color-white, $--color-success, 10%) !default;\\n$--color-success-light-5: mix($--color-white, $--color-success, 50%) !default;\\n$--color-warning-light-5: mix($--color-white, $--color-warning, 50%) !default;\\n$--color-danger-light-5: mix($--color-white, $--color-danger, 50%) !default;\\n$--color-danger-light-3: mix($--color-white, $--color-danger, 30%) !default;\\n$--color-info-light-5: mix($--color-white, $--color-info, 50%) !default;\\n\\n$--color-success-light: mix($--color-white, $--color-success, 80%) !default;\\n$--color-warning-light: mix($--color-white, $--color-warning, 80%) !default;\\n$--color-danger-light: mix($--color-white, $--color-danger, 80%) !default;\\n$--color-info-light: mix($--color-white, $--color-info, 80%) !default;\\n\\n$--color-success-lighter: mix($--color-white, $--color-success, 90%) !default;\\n$--color-warning-lighter: mix($--color-white, $--color-warning, 90%) !default;\\n$--color-danger-lighter: mix($--color-white, $--color-danger, 90%) !default;\\n$--color-info-lighter: mix($--color-white, $--color-info, 90%) !default;\\n\\n$--color-text-primary: $--color-black !default;\\n$--color-text-secondary: $--color-gray !default;\\n\\n$--color-nps-promoter: #14CC30 !default;\\n$--color-nps-neutral: #979797 !default;\\n$--color-nps-detractor: #FF4B54 !default;\\n\\n$--color-negotiator-bg: #9461f74f !default;\\n$--color-email-bg: $--color-info-light !default;\\n$--color-whatsapp-bg: $--color-success-light-5 !default;\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../../../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../../../../../../../../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../../../../../../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../../../../../../../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../../../../../../../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[4]!../../../../../../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Communication.vue?vue&type=style&index=0&id=509f894c&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"53e4beae\", content, true, {\"sourceMap\":true,\"shadowMode\":false});"],"names":["render","_vm","this","_c","_self","staticClass","occurrence","renderCompleted","_e","toPrint","_v","_s","_f","sendDate","hideInfo","class","directionIn","attrs","messageType","contact","prefix","isSimilarName","person","on","copyEmail","canShowFullMessage","isSmallText","$event","deleteFullMessage","interaction","message","messageId","domProps","getFullMessage","sendStatusDate","slot","sendStatus","staticStyle","hasError","staticRenderFns","mixins","communicationSendStatus","props","value","type","Object","required","Boolean","default","computed","mapGetters","fullMessages","mapCommunicationTypes","SMS","EMAIL","WHATSAPP","NEGOTIATOR_MESSAGE","communicationType","keys","includes","text","resume","parameters","SUBJECT","contentStorage","length","String","FAILED_SEND","updated","$set","mounted","methods","mapActions","_event","navigator","clipboard","writeText","$message","center","showClose","component","key","name","$options","filters","resumedName","properties","PERSON_NAME","isSimilarStrings","direction","updateAt","dateTime","createAt","READ_DATE","$moment","slice","indexOf","normalizeDateToISO","RECEIVER_DATE","SEND_DATE","groupedOccurrences","GROUPED_OCCURRENCES","JSON","parse","replace","_error","haveGroupedOccurrences","___CSS_LOADER_EXPORT___","push","module","id","content","__esModule","locals","exports","add"],"sourceRoot":""}