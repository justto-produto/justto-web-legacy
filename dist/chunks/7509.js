(self["webpackChunk_projuris_justto_web"]=self["webpackChunk_projuris_justto_web"]||[]).push([[7509],{17509:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return p}});var s=function(){var e=this,t=e._self._c;return t("section",{staticClass:"overview-parties"},[e.contactsMetadataCount?t("a",{staticClass:"overview-parties__associated-contacts",on:{click:function(t){return e.resetAssociatedContracts()}}},[e._v(" "+e._s(e.$tc("dispute.overview.label.contact-found",e.contactsMetadataCount,{count:e.contactsMetadataCount}))+" "+e._s(e.$t("dispute.overview.label.in-the-attachments"))+" ")]):e._e(),t("div",{staticClass:"overview-parties__list"},[t("el-collapse",{attrs:{accordion:""},on:{change:e.getPartyDetails},model:{value:e.activeCollapseItem,callback:function(t){e.activeCollapseItem=t},expression:"activeCollapseItem"}},e._l(e.isAllPartiesVisible?e.filteredTicketParties:e.ticketParties,(function(i){return t("PartyResumed",{key:i.disputeRoleId,attrs:{"active-collapse-item":e.activeCollapseItem,party:i},on:{addRecipient:function(t){return e.$emit("addRecipient",t)}}})})),1),t("div",{staticClass:"overview-parties__link"},[e.ticketParties.length>e.filteredTicketParties.length?t("a",{on:{click:e.toggleVisibleParties}},[e._v(" "+e._s(e.isAllPartiesVisible?`Ver mais (+${e.ticketParties.length-e.filteredTicketParties.length})`:"Ver menos")+" ")]):e._e()])],1),e.isPreNegotiation?e._e():t("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:e.addParty}},[e._v(" Cadastrar parte ")]),t("DisputeAddRole",{attrs:{visible:e.newPartyDialogVisible,"dispute-id":e.disputeId,"document-numbers":e.concatedPartiesDocumentNumbers,oabs:e.concatedPartiesOabs},on:{"update:visible":function(t){e.newPartyDialogVisible=t}}})],1)},a=[],r=(i(57658),i(90408)),o=i(87325),n={name:"OverviewParties",components:{PartyResumed:()=>i.e(1306).then(i.bind(i,61306)),DisputeAddRole:()=>i.e(7750).then(i.bind(i,87750))},mixins:[o.Z],data:()=>({activeCollapseItem:null,isAllPartiesVisible:!1,loadedCollapseItems:[],newPartyDialogVisible:!1}),computed:{...(0,r.Se)({ticketParties:"getTicketOverviewParties",metadata:"getTicketMetadata"}),filteredTicketParties(){return this.ticketParties.filter((e=>!("RESPONDENT"===e.polarity&&e.roles.includes("LAWYER"))))},disputeId(){return Number(this.$route.params.id)},contactsMetadataCount(){const{phones:e,emails:t}=this.metadata;return e.length+t.length},concatedPartiesDocumentNumbers(){return this.ticketParties.filter((e=>e.documentNumber)).map((e=>e.documentNumber))},concatedPartiesOabs(){const e=this.ticketParties.filter((e=>e.oabs&&e.oabs.length));return e.length?e.map((e=>e.oabs.map((e=>e.number+e.state)))).reduce(((e,t)=>[...e,...t])):[]}},watch:{disputeId(e){this.loadedCollapseItems=[],this.activeCollapseItem=null}},methods:{...(0,r.nv)(["getTicketOverviewParty","setDisputeProperty","getAssociatedContacts"]),resetAssociatedContracts(){this.setDisputeProperty({key:"CONTATOS ASSOCIADOS",disputeId:this.disputeId,value:"NAO"}).then((()=>{this.getAssociatedContacts(this.disputeId)}))},getPartyDetails(e){const{disputeId:t,loadedCollapseItems:i}=this;e&&!i.includes(e)&&this.getTicketOverviewParty({disputeId:t,disputeRoleId:e}).then((()=>i.push(e)))},toggleVisibleParties(){this.isAllPartiesVisible=!this.isAllPartiesVisible},addParty(){this.newPartyDialogVisible=!0}}},l=n,c=(i(90441),i(1001)),d=(0,c.Z)(l,s,a,!1,null,"23b734d6",null),p=d.exports},71994:function(e,t,i){"use strict";i.r(t);var s=i(87537),a=i.n(s),r=i(23645),o=i.n(r),n=o()(a());n.push([e.id,".overview-parties[data-v-23b734d6]{display:flex;flex-direction:column;justify-content:flex-start;height:100%;gap:10px}.overview-parties .overview-parties__associated-contacts[data-v-23b734d6]{margin-bottom:-12px;margin-top:12px}.overview-parties .overview-parties__list[data-v-23b734d6]{overflow-y:auto;overflow-x:hidden;height:100%}.overview-parties .overview-parties__list .overview-parties__link[data-v-23b734d6]{margin:6px 0;text-align:center}.overview-parties .overview-parties__list .el-collapse .el-collapse-item[data-v-23b734d6]{border-bottom:1px solid #dcdfe6}.overview-parties .overview-parties__list .el-collapse .el-collapse-item[data-v-23b734d6]:last-child{border-bottom:none}","",{version:3,sources:["webpack://./src/views/main/negotiation/partials/ticket/overview/tabs/OverviewParties.vue"],names:[],mappings:"AACA,mCACE,YAAA,CACA,qBAAA,CACA,0BAAA,CACA,WAAA,CACA,QAAA,CAEA,0EACE,mBAAA,CACA,eAAA,CAGF,2DACE,eAAA,CACA,iBAAA,CACA,WAAA,CAEA,mFACE,YAAA,CACA,iBAAA,CAGF,0FACE,+BAAA,CACA,qGAAA,kBAAA",sourcesContent:["\n.overview-parties {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  height: 100%;\n  gap: 10px;\n\n  .overview-parties__associated-contacts {\n    margin-bottom: -12px;\n    margin-top: 12px;\n  }\n\n  .overview-parties__list {\n    overflow-y: auto;\n    overflow-x: hidden;\n    height: 100%;\n\n    .overview-parties__link {\n      margin: 6px 0;\n      text-align: center;\n    }\n\n    .el-collapse .el-collapse-item {\n      border-bottom: 1px solid #dcdfe6;\n      &:last-child { border-bottom: none; }\n    }\n  }\n}\n"],sourceRoot:""}]),t["default"]=n},90441:function(e,t,i){var s=i(71994);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var a=i(39185).Z;a("213c815b",s,!0,{sourceMap:!0,shadowMode:!1})}}]);
//# sourceMappingURL=7509.js.map