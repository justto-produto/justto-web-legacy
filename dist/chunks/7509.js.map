{"version":3,"file":"chunks/7509.js","mappings":"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","sources":["webpack://@projuris/justto-web/./src/views/main/negotiation/partials/ticket/overview/tabs/OverviewParties.vue","webpack://@projuris/justto-web/src/views/main/negotiation/partials/ticket/overview/tabs/OverviewParties.vue","webpack://@projuris/justto-web/./src/views/main/negotiation/partials/ticket/overview/tabs/OverviewParties.vue?045d","webpack://@projuris/justto-web/./src/views/main/negotiation/partials/ticket/overview/tabs/OverviewParties.vue?01c9","webpack://@projuris/justto-web/./src/views/main/negotiation/partials/ticket/overview/tabs/OverviewParties.vue?0036","webpack://@projuris/justto-web/./src/views/main/negotiation/partials/ticket/overview/tabs/OverviewParties.vue?1f2d"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"overview-parties\"},[(_vm.contactsMetadataCount)?_c('a',{staticClass:\"overview-parties__associated-contacts\",on:{\"click\":function($event){return _vm.resetAssociatedContracts()}}},[_vm._v(\" \"+_vm._s(_vm.$tc('dispute.overview.label.contact-found', _vm.contactsMetadataCount, { count: _vm.contactsMetadataCount }))+\" \"+_vm._s(_vm.$t('dispute.overview.label.in-the-attachments'))+\" \")]):_vm._e(),_c('div',{staticClass:\"overview-parties__list\"},[_c('el-collapse',{attrs:{\"accordion\":\"\"},on:{\"change\":_vm.getPartyDetails},model:{value:(_vm.activeCollapseItem),callback:function ($$v) {_vm.activeCollapseItem=$$v},expression:\"activeCollapseItem\"}},_vm._l(((!_vm.isAllPartiesVisible ? _vm.ticketParties : _vm.filteredTicketParties)),function(party){return _c('PartyResumed',{key:party.disputeRoleId,attrs:{\"active-collapse-item\":_vm.activeCollapseItem,\"party\":party},on:{\"addRecipient\":function($event){return _vm.$emit('addRecipient', $event)}}})}),1),_c('div',{staticClass:\"overview-parties__link\"},[(_vm.ticketParties.length > _vm.filteredTicketParties.length)?_c('a',{on:{\"click\":_vm.toggleVisibleParties}},[_vm._v(\" \"+_vm._s(_vm.isAllPartiesVisible ? `Ver mais (+${_vm.ticketParties.length - _vm.filteredTicketParties.length})` : 'Ver menos')+\" \")]):_vm._e()])],1),(!_vm.isPreNegotiation)?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.addParty}},[_vm._v(\" Cadastrar parte \")]):_vm._e(),_c('DisputeAddRole',{attrs:{\"visible\":_vm.newPartyDialogVisible,\"dispute-id\":_vm.disputeId,\"document-numbers\":_vm.concatedPartiesDocumentNumbers,\"oabs\":_vm.concatedPartiesOabs},on:{\"update:visible\":function($event){_vm.newPartyDialogVisible=$event}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"overview-parties\">\n    <a\n      v-if=\"contactsMetadataCount\"\n      class=\"overview-parties__associated-contacts\"\n      @click=\"resetAssociatedContracts()\"\n    >\n      {{ $tc('dispute.overview.label.contact-found', contactsMetadataCount, { count: contactsMetadataCount }) }} {{ $t('dispute.overview.label.in-the-attachments') }}\n    </a>\n\n    <div class=\"overview-parties__list\">\n      <el-collapse\n        v-model=\"activeCollapseItem\"\n        accordion\n        @change=\"getPartyDetails\"\n      >\n        <PartyResumed\n          v-for=\"party in (!isAllPartiesVisible ? ticketParties : filteredTicketParties)\"\n          :key=\"party.disputeRoleId\"\n          :active-collapse-item=\"activeCollapseItem\"\n          :party=\"party\"\n          @addRecipient=\"$emit('addRecipient', $event)\"\n        />\n      </el-collapse>\n      <div class=\"overview-parties__link\">\n        <a\n          v-if=\"ticketParties.length > filteredTicketParties.length\"\n          @click=\"toggleVisibleParties\"\n        >\n          {{ isAllPartiesVisible ? `Ver mais (+${ticketParties.length - filteredTicketParties.length})` : 'Ver menos' }}\n        </a>\n      </div>\n    </div>\n\n    <el-button\n      v-if=\"!isPreNegotiation\"\n      type=\"primary\"\n      size=\"small\"\n      icon=\"el-icon-plus\"\n      @click=\"addParty\"\n    >\n      Cadastrar parte\n    </el-button>\n\n    <DisputeAddRole\n      :visible.sync=\"newPartyDialogVisible\"\n      :dispute-id=\"disputeId\"\n      :document-numbers=\"concatedPartiesDocumentNumbers\"\n      :oabs=\"concatedPartiesOabs\"\n    />\n  </section>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex'\nimport preNegotiation from '@/utils/mixins/ticketPreNegotiation'\n\nexport default {\n  name: 'OverviewParties',\n\n  components: {\n    PartyResumed: () => import('./parties/PartyResumed'),\n    DisputeAddRole: () => import('@/components/dialogs/DisputeAddRole')\n  },\n\n  mixins: [preNegotiation],\n\n  data: () => ({\n    activeCollapseItem: null,\n    isAllPartiesVisible: false,\n    loadedCollapseItems: [],\n    newPartyDialogVisible: false\n  }),\n\n  computed: {\n    ...mapGetters({\n      ticketParties: 'getTicketOverviewParties',\n      metadata: 'getTicketMetadata'\n    }),\n\n    filteredTicketParties() {\n      return this.ticketParties.filter(party => {\n        return !(party.polarity === 'RESPONDENT' && party.roles.includes('LAWYER'))\n      })\n    },\n\n    disputeId() {\n      return Number(this.$route.params.id)\n    },\n\n    contactsMetadataCount() {\n      const { phones, emails } = this.metadata\n      return phones.length + emails.length\n    },\n\n    concatedPartiesDocumentNumbers() {\n      return this.ticketParties\n        .filter(party => party.documentNumber)\n        .map(party => party.documentNumber)\n    },\n\n    concatedPartiesOabs() {\n      const filteredOabs = this.ticketParties\n        .filter(party => party.oabs && party.oabs.length)\n\n      if (filteredOabs.length) {\n        return filteredOabs\n          .map(party => party.oabs.map(oab => oab.number + oab.state))\n          .reduce((acc, cur) => [...acc, ...cur])\n      } else return []\n    }\n  },\n\n  watch: {\n    'disputeId'(disputeId) {\n      this.loadedCollapseItems = []\n      this.activeCollapseItem = null\n    }\n  },\n\n  methods: {\n    ...mapActions([\n      'getTicketOverviewParty',\n      'setDisputeProperty',\n      'getAssociatedContacts'\n    ]),\n\n    resetAssociatedContracts() {\n      this.setDisputeProperty({\n        key: 'CONTATOS ASSOCIADOS',\n        disputeId: this.disputeId,\n        value: 'NAO'\n      }).then(() => {\n        this.getAssociatedContacts(this.disputeId)\n      })\n    },\n\n    getPartyDetails(collapseItem) {\n      const { disputeId, loadedCollapseItems } = this\n\n      if (collapseItem && !loadedCollapseItems.includes(collapseItem)) {\n        this.getTicketOverviewParty({ disputeId, disputeRoleId: collapseItem })\n          .then(() => loadedCollapseItems.push(collapseItem))\n      }\n    },\n\n    toggleVisibleParties() {\n      this.isAllPartiesVisible = !this.isAllPartiesVisible\n    },\n\n    addParty() {\n      this.newPartyDialogVisible = true\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.overview-parties {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  height: 100%;\n  gap: 10px;\n\n  .overview-parties__associated-contacts {\n    margin-bottom: -12px;\n    margin-top: 12px;\n  }\n\n  .overview-parties__list {\n    overflow-y: auto;\n    overflow-x: hidden;\n    height: 100%;\n\n    .overview-parties__link {\n      margin: 6px 0;\n      text-align: center;\n    }\n\n    .el-collapse .el-collapse-item {\n      border-bottom: 1px solid #dcdfe6;\n      &:last-child { border-bottom: none; }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OverviewParties.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OverviewParties.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OverviewParties.vue?vue&type=template&id=23b734d6&scoped=true&\"\nimport script from \"./OverviewParties.vue?vue&type=script&lang=js&\"\nexport * from \"./OverviewParties.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OverviewParties.vue?vue&type=style&index=0&id=23b734d6&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23b734d6\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".overview-parties[data-v-23b734d6]{display:flex;flex-direction:column;justify-content:flex-start;height:100%;gap:10px}.overview-parties .overview-parties__associated-contacts[data-v-23b734d6]{margin-bottom:-12px;margin-top:12px}.overview-parties .overview-parties__list[data-v-23b734d6]{overflow-y:auto;overflow-x:hidden;height:100%}.overview-parties .overview-parties__list .overview-parties__link[data-v-23b734d6]{margin:6px 0;text-align:center}.overview-parties .overview-parties__list .el-collapse .el-collapse-item[data-v-23b734d6]{border-bottom:1px solid #dcdfe6}.overview-parties .overview-parties__list .el-collapse .el-collapse-item[data-v-23b734d6]:last-child{border-bottom:none}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/views/main/negotiation/partials/ticket/overview/tabs/OverviewParties.vue\"],\"names\":[],\"mappings\":\"AACA,mCACE,YAAA,CACA,qBAAA,CACA,0BAAA,CACA,WAAA,CACA,QAAA,CAEA,0EACE,mBAAA,CACA,eAAA,CAGF,2DACE,eAAA,CACA,iBAAA,CACA,WAAA,CAEA,mFACE,YAAA,CACA,iBAAA,CAGF,0FACE,+BAAA,CACA,qGAAA,kBAAA\",\"sourcesContent\":[\"\\n.overview-parties {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: flex-start;\\n  height: 100%;\\n  gap: 10px;\\n\\n  .overview-parties__associated-contacts {\\n    margin-bottom: -12px;\\n    margin-top: 12px;\\n  }\\n\\n  .overview-parties__list {\\n    overflow-y: auto;\\n    overflow-x: hidden;\\n    height: 100%;\\n\\n    .overview-parties__link {\\n      margin: 6px 0;\\n      text-align: center;\\n    }\\n\\n    .el-collapse .el-collapse-item {\\n      border-bottom: 1px solid #dcdfe6;\\n      &:last-child { border-bottom: none; }\\n    }\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../../../../../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../../../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../../../../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../../../../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[4]!../../../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OverviewParties.vue?vue&type=style&index=0&id=23b734d6&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"213c815b\", content, true, {\"sourceMap\":true,\"shadowMode\":false});"],"names":["render","_vm","this","_c","_self","staticClass","contactsMetadataCount","on","$event","resetAssociatedContracts","_v","_s","$tc","count","$t","_e","attrs","getPartyDetails","model","value","activeCollapseItem","callback","$$v","expression","_l","isAllPartiesVisible","filteredTicketParties","ticketParties","party","key","disputeRoleId","$emit","length","toggleVisibleParties","isPreNegotiation","addParty","newPartyDialogVisible","disputeId","concatedPartiesDocumentNumbers","concatedPartiesOabs","staticRenderFns","name","components","PartyResumed","DisputeAddRole","mixins","preNegotiation","data","loadedCollapseItems","computed","mapGetters","metadata","filter","polarity","roles","includes","Number","$route","params","id","phones","emails","documentNumber","map","filteredOabs","oabs","oab","number","state","reduce","acc","cur","watch","methods","mapActions","setDisputeProperty","then","getAssociatedContacts","collapseItem","getTicketOverviewParty","push","component","___CSS_LOADER_EXPORT___","module","content","__esModule","default","locals","exports","add"],"sourceRoot":""}