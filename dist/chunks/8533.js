(self["webpackChunk_projuris_justto_web"]=self["webpackChunk_projuris_justto_web"]||[]).push([[8533,4226],{34226:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("article",{directives:[{name:"loading",rawName:"v-loading",value:t.isAttachmentLoading,expression:"isAttachmentLoading"}],ref:"dragAreaElm",staticClass:"jus-drag-area",class:{"jus-drag-area--dragging":t.maskIsVisible},on:{dragenter:t.handleDragenter}},[t._t("default"),e("label",{attrs:{for:`input-file-drag-area-${t._uid}`},on:{dragover:function(e){return e.preventDefault(),t.handleDragenter.apply(null,arguments)},dragleave:t.handleDragleave,drop:function(e){return e.preventDefault(),t.handleDrop.apply(null,arguments)}}},[e("el-card",{staticClass:"el-card--dashed-hover jus-drag-area__mask",attrs:{"body-style":{"text-align":"center"},shadow:"never"}},[e("div",{staticClass:"jus-drag-area__mask-action"}),e("div",[e("jus-icon",{attrs:{icon:"upload-file","is-active":""}}),e("br"),t._v(" Arraste aqui os anexos que deseja importar! ")],1)])],1),e("input",{staticClass:"jus-drag-area__input-file",attrs:{id:`input-file-drag-area-${t._uid}`,"data-max-size":"20971520",type:"file"},on:{change:t.handleDrop}}),e("el-dialog",{attrs:{visible:t.attachmentDialog.isVisible,"append-to-body":"",title:"Enviar Anexos","custom-class":"attachment-dialog","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,"before-close":t.closeAttachmentDialog},on:{"update:visible":function(e){return t.$set(t.attachmentDialog,"isVisible",e)}}},[e("div",{staticClass:"attachment-dialog__container"},[e("span",{staticClass:"attachment-dialog__container-message"},[t._v(" "+t._s(t.attachmentDialog.message)+" ")]),e("div",{staticClass:"attachment-dialog__container-check"},[e("el-switch",{class:t.attachmentDialog.confidential?"inactive":"active",model:{value:t.attachmentDialog.confidential,callback:function(e){t.$set(t.attachmentDialog,"confidential",e)},expression:"attachmentDialog.confidential"}}),e("span",[e("strong",[t._v(" "+t._s(t.attachmentDialog.confidential?"Não exibir":"Exibir")+" ")]),t._v(" anexo no portal de negociações ")])],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.attachmentDialog.isVisible=!1}}},[t._v(" Cancelar ")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.uploadFiles(t.attachmentDialog)}}},[t._v(" Continuar ")])],1)])],2)},a=[],o=s(90408),n={name:"JusDragArea",props:{visible:{type:Boolean,default:!1}},data:()=>({isDragging:!1,isAttachmentLoading:!1,attachmentDialog:{isVisible:!1,message:"",confidential:!1,files:[]}}),computed:{maskIsVisible:t=>t.visible||t.isDragging},methods:{...(0,o.nv)(["uploadAttachment","getDisputeAttachments","hideLoadingAttachments","getTicketOverviewAttachments"]),handleDragenter(t){t.dataTransfer.types.includes("Files")&&(this.isDragging=!0)},handleDragleave(t){this.isDragging=!1},handleDrop(t){const{files:e}=t.dataTransfer||t.target;this.uploadVerification(e),this.isDragging=!1},closeAttachmentDialog(t){t(),this.attachmentDialog.message="",this.attachmentDialog.confidential=!1,this.attachmentDialog.files=[]},uploadFiles({files:t,confidential:e}){Promise.all([...Object.keys(t).map((s=>this.saveFile(t[s],e)))]).then((()=>{this.attachmentDialog.isVisible=!1}))},uploadVerification(t){const e=Object.keys(t),s=20971520,i=Array(...t).filter((t=>t.size>s)).length>0;i?this.$jusNotification({title:"Arquivo muito grande!",message:"Não suportamos arquivos com mais de 20 Mb.",type:"warning"}):(1===e.length?this.attachmentDialog.message=`Tem certeza que deseja fazer o upload do arquivo "${t[0].name}"?`:this.attachmentDialog.message=`Tem certeza que deseja fazer o upload de ${e.length} arquivos?`,this.attachmentDialog.files=t,this.attachmentDialog.isVisible=!0)},updateAttachments(t){return window.location.href.includes("negotiation")?this.getTicketOverviewAttachments(t):window.location.href.includes("dispute")?this.getDisputeAttachments(t):new Promise((t=>t))},saveFile(t,e=!1){this.isAttachmentLoading=!0;const s="Solicitação de upload do arquivo",i=this.$route.params.id,a=new FormData;return a.append("file",t),this.uploadAttachment({disputeId:i,formData:a,file:t,confidential:e}).then((()=>{this.updateAttachments(i).then((()=>{this.$jusNotification({title:"Yay!",message:"Anexo(s) adicionado(s) com sucesso",type:"success"}),this.$jusSegment(s,{fileName:t.name})}))})).catch((e=>{this.$jusNotification({error:e}),this.$jusSegment(`${s} falhou`,{fileName:t.name})})).finally((()=>{this.$emit("closeDialog"),this.isAttachmentLoading=!1,this.hideLoadingAttachments()}))}}},r=n,l=(s(8652),s(46041),s(1001)),c=(0,l.Z)(r,i,a,!1,null,"23cc1084",null),u=c.exports},28533:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"jus-dispute-actions",class:t.tableActions?"jus-dispute-actions--table":"jus-dispute-actions--dispute"},[t.tableActions?t._e():e("router-link",{attrs:{to:"/management"}},[e("jus-icon",{staticClass:"jus-dispute-actions__back-button",attrs:{icon:"back"}})],1),t._l(t.actionsList,(function(s){return e("span",{key:s.name},[s.condition()?e("el-tooltip",{attrs:{content:s.tooltip,"open-delay":300}},[e("span",[e("el-button",{staticClass:"jus-dispute-actions__actions-buttons",attrs:{disabled:s.disabled||t.modalLoading,type:t.tableActions?"text":"",plain:!t.tableActions,"data-testid":s.name},on:{click:function(t){return s.action()}}},[s.isElementIcon?e("i",{staticClass:"jus-dispute-actions__actions-icons el-icon",class:s.icon}):e("jus-icon",{staticClass:"jus-dispute-actions__actions-icons",attrs:{icon:s.icon}})],1)],1)]):t._e()],1)})),t.tableActions?t._e():e("el-tooltip",{attrs:{content:t.collapsed?"Exibir informações da disputa":"Ocultar informações da disputa"}},[e("el-button",{staticClass:"jus-dispute-actions__collapse-button",attrs:{plain:!t.tableActions,icon:t.collapsed?"el-icon-arrow-left":"el-icon-arrow-right",type:"text"},on:{click:t.togleCollapsed}})],1),e("el-dialog",{staticClass:"dispute-view-actions__choose-unsettled-dialog",attrs:{"close-on-click-modal":!1,"show-close":!1,"close-on-press-escape":!1,visible:t.settledDialogVisible,"append-to-body":"",title:"Acordo aceito",width:"600px","data-testid":"choose-unsettled-dialog"},on:{"update:visible":function(e){t.settledDialogVisible=e}}},[e("p",[t._v("Confirme o valor do acordo nos campos abaixo:")]),e("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.modalLoading,expression:"modalLoading"}],ref:"counterOfferForm",attrs:{model:t.counterOfferForm,rules:t.counterOfferFormRules,"label-position":"top"}},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"Valor",prop:"lastCounterOfferValue"}},[e("div",{staticClass:"el-input"},[e("money",{staticClass:"el-input__inner",attrs:{"data-testid":"counterproposal-value-input",maxlength:"16"},model:{value:t.counterOfferForm.lastCounterOfferValue,callback:function(e){t.$set(t.counterOfferForm,"lastCounterOfferValue",e)},expression:"counterOfferForm.lastCounterOfferValue"}})],1)])],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"Proposto por",prop:"selectedRoleId"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Autor da contraproposta","data-testid":"counterproposal-claimant-input"},model:{value:t.counterOfferForm.selectedRoleId,callback:function(e){t.$set(t.counterOfferForm,"selectedRoleId",e)},expression:"counterOfferForm.selectedRoleId"}},t._l(t.disputeClaimants,(function(t,s){return e("el-option",{key:`${s}-${t.id}`,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1),e("el-row",{attrs:{hutter:20}},[e("el-form",[e("el-form-item",{attrs:{label:`${t.$t("dispute.labels.note")}:`}},[e("el-input",{staticClass:"dialog__textarea-note",attrs:{type:"textarea",placeholder:"Informe uma nota",rows:4,maxlength:255},model:{value:t.counterOfferForm.note,callback:function(e){t.$set(t.counterOfferForm,"note",e)},expression:"counterOfferForm.note"}}),e("div",{staticStyle:{"text-align":"right"}},[t._v(" "+t._s((t.counterOfferForm.note||"").length)+"/255 ")])],1)],1)],1)],1),e("span",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{disabled:t.modalLoading},on:{click:function(e){t.settledDialogVisible=!1}}},[t._v(" Cancelar ")]),e("el-button",{attrs:{loading:t.modalLoading,type:"primary"},on:{click:function(e){return e.preventDefault(),t.disputeAction("send_settled",t.updateUpperRange=!0)}}},[t._v(" Continuar ")])],1)],1),e("el-dialog",{staticClass:"jus-dispute-actions__choose-unsettled-dialog",attrs:{"close-on-click-modal":!1,"show-close":!1,"close-on-press-escape":!1,visible:t.chooseUnsettledDialogVisible,"append-to-body":"",title:"Perder",width:"460px","data-testid":"choose-unsettled-dialog"},on:{"update:visible":function(e){t.chooseUnsettledDialogVisible=e}}},[e("div",{staticClass:"el-message-box__content"},[e("div",{staticClass:"el-message-box__container"},[e("div",{staticClass:"el-message-box__status el-icon-warning"}),e("div",{staticClass:"el-message-box__message"},[e("p",[t._v("Tem certeza que deseja realizar esta ação?")])])])]),e("el-select",{attrs:{filterable:"","data-testid":"select-unsettled",placeholder:"Escolha o motivo da perda"},model:{value:t.unsettledType,callback:function(e){t.unsettledType=e},expression:"unsettledType"}},t._l(t.unsettledReasonsSorted,(function(t,s){return e("el-option",{key:s,attrs:{label:t[1],value:t[0]}})})),1),t.isInsufficientUpperRange?e("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.modalLoading,expression:"modalLoading"}],ref:"counterOfferForm",attrs:{model:t.counterOfferForm,rules:t.counterOfferFormRules,"label-position":"top"}},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"Valor",prop:"lastCounterOfferValue"}},[e("div",{staticClass:"el-input"},[e("money",{staticClass:"el-input__inner",attrs:{"data-testid":"counterproposal-value-input",maxlength:"16"},model:{value:t.counterOfferForm.lastCounterOfferValue,callback:function(e){t.$set(t.counterOfferForm,"lastCounterOfferValue",e)},expression:"counterOfferForm.lastCounterOfferValue"}})],1)])],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"Proposto por",prop:"selectedRoleId"}},[e("el-select",{attrs:{placeholder:"Autor da contraproposta","data-testid":"counterproposal-claimant-input"},model:{value:t.counterOfferForm.selectedRoleId,callback:function(e){t.$set(t.counterOfferForm,"selectedRoleId",e)},expression:"counterOfferForm.selectedRoleId"}},t._l(t.disputeClaimants,(function(t,s){return e("el-option",{key:`${s}-${t.id}`,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1)],1):t._e(),e("el-form",[e("el-form-item",{attrs:{label:`${t.$t("dispute.labels.note")}:`}},[e("el-input",{attrs:{type:"textarea",placeholder:"Informe uma nota",rows:4,maxlength:255},model:{value:t.counterOfferForm.note,callback:function(e){t.$set(t.counterOfferForm,"note",e)},expression:"counterOfferForm.note"}}),e("div",{staticStyle:{"text-align":"right"}},[t._v(" "+t._s((t.counterOfferForm.note||"").length)+"/255 ")])],1)],1),e("span",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{disabled:t.modalLoading},on:{click:function(e){t.chooseUnsettledDialogVisible=!1}}},[t._v(" Cancelar ")]),e("el-button",{attrs:{loading:t.modalLoading,disabled:!t.unsettledType,type:"primary"},on:{click:function(e){return e.preventDefault(),t.disputeAction("send-unsettled")}}},[t._v(" Continuar ")])],1)],1),e("el-dialog",{attrs:{"close-on-click-modal":!1,"show-close":!1,"close-on-press-escape":!1,visible:t.editNegotiatorDialogVisible,"append-to-body":"",title:"Editar negociadores da disputa",width:"604px"},on:{"update:visible":function(e){t.editNegotiatorDialogVisible=e}}},[e("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.modalLoading,expression:"modalLoading"}],ref:"negotiatorsForm",attrs:{model:t.negotiatorsForm,rules:t.negotiatorsRules,"label-position":"top"},nativeOn:{submit:function(e){return e.preventDefault(),t.editNegotiator.apply(null,arguments)}}},[e("el-transfer",{attrs:{titles:["Equipe","Disputa"],"button-texts":["Remover","Adicionar"],data:t.workspaceNegotiators,"filter-placeholder":"Buscar",filterable:""},model:{value:t.disputeNegotiators,callback:function(e){t.disputeNegotiators=e},expression:"disputeNegotiators"}})],1),e("span",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{disabled:t.modalLoading},on:{click:function(e){t.editNegotiatorDialogVisible=!1}}},[t._v(" Cancelar ")]),e("el-button",{attrs:{loading:t.modalLoading,type:"primary"},on:{click:function(e){return e.preventDefault(),t.disputeAction("edit-negotiators",t.disputeNegotiators)}}},[t._v(" Editar dados ")])],1)],1),e("el-dialog",{staticClass:"dispute-view__counterproposal-dialog",attrs:{visible:t.counterproposalDialogVisible,"close-on-click-modal":!1,"show-close":!1,"close-on-press-escape":!1,"append-to-body":"",title:"Enviar contraproposta manual",width:"600px"},on:{"update:visible":function(e){t.counterproposalDialogVisible=e}}},[e("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.modalLoading,expression:"modalLoading"}],ref:"counterOfferForm",attrs:{model:t.counterOfferForm,rules:t.counterOfferFormRules}},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"Valor",prop:"lastCounterOfferValue"}},[e("div",{staticClass:"el-input"},[e("money",{staticClass:"el-input__inner",attrs:{"data-testid":"counterproposal-value-input",maxlength:"16"},model:{value:t.counterOfferForm.lastCounterOfferValue,callback:function(e){t.$set(t.counterOfferForm,"lastCounterOfferValue",e)},expression:"counterOfferForm.lastCounterOfferValue"}})],1)])],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"Proposto por",prop:"selectedRoleId"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Autor da contraproposta","data-testid":"counterproposal-claimant-input"},model:{value:t.counterOfferForm.selectedRoleId,callback:function(e){t.$set(t.counterOfferForm,"selectedRoleId",e)},expression:"counterOfferForm.selectedRoleId"}},t._l(t.disputeClaimants,(function(t,s){return e("el-option",{key:`${s}-${t.id}`,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:"Nota:",prop:"note"}},[e("el-input",{attrs:{type:"textarea",rows:"4",maxlength:255},model:{value:t.counterOfferForm.note,callback:function(e){t.$set(t.counterOfferForm,"note",e)},expression:"counterOfferForm.note"}}),e("div",{staticStyle:{"text-align":"right"}},[t._v(" "+t._s((t.counterOfferForm.note||"").length)+"/255 ")])],1)],1)],1)],1),e("span",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{disabled:t.modalLoading},on:{click:function(e){t.counterproposalDialogVisible=!1}}},[t._v(" Cancelar ")]),e("el-button",{attrs:{loading:t.modalLoading,type:"primary"},on:{click:function(e){return e.preventDefault(),t.disputeAction("send_counterproposal")}}},[t._v(" Atualizar contraproposta ")])],1)],1),e("el-dialog",{staticClass:"jus-dispute-actions__upload-dialog",attrs:{"close-on-click-modal":!1,visible:t.uploadAttacmentDialogVisable,"append-to-body":"",title:"Envie anexos",width:"600px","data-testid":"upload-file-dialog"},on:{"update:visible":function(e){t.uploadAttacmentDialogVisable=e}}},[e("jus-drag-area",{attrs:{visible:!0},on:{closeDialog:function(e){return t.handleAttachmentDialogVisable()}}})],1),e("el-dialog",{staticClass:"dialog-actions__increase-alert",attrs:{visible:t.dropLawsuitDialogVisible,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":"",width:"604px",title:"Cancelar disputa"},on:{"update:visible":function(e){t.dropLawsuitDialogVisible=e}}},[e("el-form",{ref:"dropLawsuitForm",attrs:{model:t.dropLawsuitForm,rules:t.dropLawsuitRules,disabled:t.modalLoading,"label-position":"top"}},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:"Motivo do cancelamento:",prop:"reason"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Escolha o motivo"},model:{value:t.dropLawsuitForm.reason,callback:function(e){t.$set(t.dropLawsuitForm,"reason",e)},expression:"dropLawsuitForm.reason"}},t._l(t.dropLawsuitReasons,(function(t,s){return e("el-option",{key:s,attrs:{value:Object.entries(t)[0][0],label:Object.entries(t)[0][1]}})})),1)],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:"Nota:",prop:"note"}},[e("el-input",{attrs:{type:"textarea",rows:"4",maxlength:255},model:{value:t.dropLawsuitForm.conclusionNote,callback:function(e){t.$set(t.dropLawsuitForm,"conclusionNote",e)},expression:"dropLawsuitForm.conclusionNote"}}),e("div",{staticStyle:{"text-align":"right"}},[t._v(" "+t._s((t.dropLawsuitForm.conclusionNote||"").length)+"/255 ")])],1)],1)],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dropLawsuitDialogVisible=!1}}},[t._v(" Cancelar ")]),e("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.modalLoading,expression:"modalLoading"}],attrs:{disabled:t.modalLoading,type:"primary"},on:{click:function(e){return e.preventDefault(),t.handleDropLawsuit.apply(null,arguments)}}},[t._v(" Confirmar ")])],1)],1),e("el-dialog",{staticClass:"dialog-actions__ticket-resume",attrs:{visible:t.ticketResumeDialogVisible,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":"",width:"500px",title:"Resumo da disputa"},on:{"update:visible":function(e){t.ticketResumeDialogVisible=e}}},[e("strong",{staticClass:"dialog-actions__ticket-resume-subtitle"},[t._v(" Confira os dados da disputa: ")]),e("p",{staticClass:"dialog-actions__ticket-resume-infoline"},[e("b",[t._v("Nº da disputa: ")]),e("span",[t._v(t._s(t.dispute.getHashedDisputeId))])]),e("p",{staticClass:"dialog-actions__ticket-resume-infoline"},[e("b",[t._v("Nº do processo: ")]),e("span",[t._v(t._s(t.dispute.getDisputeCode))])]),e("p",{staticClass:"dialog-actions__ticket-resume-infoline"},[e("b",[t._v(t._s(t.$tc("PARTY_RESPONDENT",t.isRecovery))+": ")]),e("span",[t._v(t._s(t._f("uppercase")(t.respondentsResume||" - ")))])]),e("p",{staticClass:"dialog-actions__ticket-resume-infoline"},[e("b",[t._v("Autor(es): ")]),e("span",[t._v(t._s(t._f("uppercase")(t.authorsResume)))])]),e("p",{staticClass:"dialog-actions__ticket-resume-infoline"},[e("b",[t._v("Advogado(s) do autor(es): ")]),e("span",[t._v(t._s(t._f("uppercase")(t.lawyersResume)))])]),e("p",{staticClass:"dialog-actions__ticket-resume-infoline"},[e("b",[t._v("Valor do acordo: ")]),e("span",[t._v(t._s(t._f("currency")(t.counterOfferForm.lastCounterOfferValue||t.dispute.getDisputeDealValue)))])]),e("el-input",{attrs:{type:"textarea",rows:"4",maxlength:255},model:{value:t.winNote,callback:function(e){t.winNote=e},expression:"winNote"}}),e("div",{staticStyle:{"text-align":"right"}},[t._v(" "+t._s(t.winNote.length)+"/255 ")]),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{disabled:t.modalLoading},on:{click:function(e){t.ticketResumeDialogVisible=!1}}},[t._v(" Cancelar ")]),e("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.modalLoading,expression:"modalLoading"}],attrs:{disabled:t.modalLoading,type:"primary"},on:{click:function(e){return e.preventDefault(),t.handleSettled.apply(null,arguments)}}},[t._v(" Ganhar ")])],1)],1),e("NotifyOnCompanyAnalysis",{ref:"notifyOnCompanyAnalysis"}),e("ConfirmActionDialog",{ref:"confirmActionDialog"}),e("SetSettledDialog",{ref:"setSettledDialog",attrs:{status:t.dispute.getDisputeStatus}})],2)},a=[],o=(s(57658),s(40917)),n=s(45318),r=s(90408),l={name:"JusDisputeActions",components:{JusDragArea:n.U,ConfirmActionDialog:()=>s.e(187).then(s.bind(s,187)),NotifyOnCompanyAnalysis:()=>Promise.all([s.e(5873),s.e(6633)]).then(s.bind(s,66633)),SetSettledDialog:()=>s.e(353).then(s.bind(s,50353))},props:{dispute:{type:Object,default:()=>{}},tableActions:{type:Boolean,default:!1},isCollapsed:{type:Boolean,default:!1},tab:{type:String,default:"1"}},data(){return{settledValue:0,unsettledType:null,negotiatorsForm:{},negotiatorsRules:{},disputeNegotiators:[],chooseUnsettledDialogVisible:!1,editNegotiatorDialogVisible:!1,counterproposalDialogVisible:!1,uploadAttacmentDialogVisable:!1,ticketResumeDialogVisible:!1,settledDialogVisible:!1,dropLawsuitDialogVisible:!1,modalLoading:!1,winNote:"",counterOfferForm:{lastCounterOfferValue:"",selectedRoleId:"",note:""},dropLawsuitForm:{reason:null,conclusionNote:null},dropLawsuitRules:{reason:[{required:!0,message:"Campo obrigatório",trigger:"submit"}]},counterOfferFormRules:{lastCounterOfferValue:[{required:!0,message:"Campo obrigatório",trigger:"submit"}],selectedRoleId:[{required:!0,message:"Campo obrigatório",trigger:"submit"}]},nextStatusMap:{IMPORTED:"ACCEPTED",ENRICHED:"ACCEPTED",ENGAGEMENT:"ACCEPTED",PENDING:"ACCEPTED",RUNNING:"ACCEPTED",UNSETTLED:"ACCEPTED",ACCEPTED:"CHECKOUT",CHECKOUT:"SETTLED"}}},computed:{...(0,r.Se)({disputeStatuses:"disputeStatuses",isJusttoAdmin:"isJusttoAdmin",ghostMode:"ghostMode",dropLawsuitReasons:"getDropLawsuitReasonsArray",userPreferences:"userPreferences",isRecovery:"isWorkspaceRecovery",features:"getMappedFeaturesAndModules",showNegotiationTypeMenu:"showNegotiationTypeMenu"}),unsettledReasonsSorted(){return Object.entries(this.disputeStatuses.UNSETTLED||{}).sort(((t,e)=>t[1]>e[1]?1:-1))},collapsed:{get(){return this.isCollapsed},set(t){this.$emit("update:isCollapsed",t)}},actionsList(){return[{name:"settled",icon:"win",disabled:this.isPaused||this.isCanceled,condition:()=>this.canSettled,action:()=>this.disputeAction("settled"),tooltip:["CHECKOUT","ACCEPTED"].includes(this.dispute?.getDisputeStatus)?"Ganhar":"Aceitar acordo"},{name:"unsettled",icon:"lose",disabled:this.isPaused||this.isCanceled,condition:()=>this.canUnsettled,action:()=>this.disputeAction("unsettled"),tooltip:"Perder"},{name:"resume",icon:"start-again",disabled:this.isCanceled,condition:()=>this.canResume,action:()=>this.disputeAction("resume"),tooltip:"Despausar"},{name:"paused",icon:"pause",disabled:this.isPaused||this.isCanceled,condition:()=>this.canPause,action:()=>this.disputeAction("paused"),tooltip:"Pausar"},{name:"restart-engagement",icon:"refresh",disabled:this.isPaused||this.isCanceled||this.dispute?.getDisputeIsFavorite,condition:()=>this.canRestartEngagement,action:()=>this.disputeAction("restart-engagement"),tooltip:this.dispute?.getDisputeIsFavorite?"Disputa aguardando análise da empresa não permite reiniciar":"Reiniciar disputa"},{name:"resend-messages",icon:"resend-messages",condition:()=>this.canResendMessages,disabled:!this.isInNegotiation||this.isPaused||this.isCanceled,action:()=>this.disputeAction("resend-messages"),tooltip:this.isInNegotiation?"Reenviar mensagens automáticas":"A disputa precisa estar em negociação para reagendar mensagens automáticas"},{name:"cancel-messages",icon:"cancel-messages",disabled:this.isPaused||this.isCanceled,condition:()=>!this.tableActions&&!this.isPreNegotiation,action:()=>this.disputeAction("cancel-messages"),tooltip:"Cancelar mensagens automáticas"},{name:"change-negotiators",icon:"delegate",disabled:this.isCanceled,condition:()=>!this.tableActions&&!this.isPreNegotiation,action:()=>this.openEditNegotiatorsDialog(),tooltip:"Alterar negociador"},{name:"enrich",icon:"enrich",disabled:this.isPaused||this.isCanceled||this.dispute?.getDisputeIsFavorite,condition:()=>!this.tableActions&&!this.isPreNegotiation,action:()=>this.disputeAction("enrich"),tooltip:this.dispute?.getDisputeIsFavorite?"Disputa aguardando análise da empresa não permite enriquecer":"Enriquecer disputa"},{name:"counterproposal",icon:"proposal",disabled:this.isPaused||this.isCanceled,condition:()=>this.canSendCounterproposal,action:()=>this.disputeAction("counterproposal"),tooltip:"Contraproposta manual"},{name:"renegotiate",icon:"move-to-running",disabled:this.isPaused,condition:()=>this.canMoveToRunning,action:()=>this.disputeAction("renegotiate"),tooltip:"Retornar para negociação"},{name:"set-unread",icon:"unread",condition:()=>this.canMarkAsNotRead||this.isCanceled,action:()=>this.setAsUnread(),tooltip:"Marcar como não lida"},{name:"permanently-leave",icon:"hammer",disabled:this.isCanceled,condition:()=>this.isPreNegotiation||this.isCanceled,action:()=>{this.dropLawsuitDialogVisible=!0},tooltip:"Cancelar negociação"},{name:"start-negotiation",icon:"right-arrow",disabled:this.isPaused,condition:()=>this.isPreNegotiation,action:()=>this.goToNegotiation(),tooltip:"Iniciar negociação"},{name:"open-new-tab",icon:"external-link",condition:()=>this.tableActions,action:()=>this.openNewTab(),tooltip:"Abrir disputa em nova aba"},{name:"upload-file",icon:"upload-file",condition:()=>!this.isPreNegotiation,action:()=>this.handleAttachmentDialogVisable(),tooltip:"Enviar anexo"},{name:"favorite",icon:this.dispute?.getDisputeIsFavorite?"offices-tower-active":"offices-tower",condition:()=>!this.isPreNegotiation,action:()=>this.disputeAction(this.dispute?.getDisputeIsFavorite?"disfavor":"favorite"),tooltip:`${this.$t("action.FAVORITE")}`},{name:"export",icon:"el-icon-printer",isElementIcon:!0,condition:()=>!0,action:()=>window.open(`/#/print/negotiation/${this.$route?.params?.id||this.dispute?.getDisputeId}?tab=${this.disputeTabToTicketTab}`,"_blank"),tooltip:"Imprimir disputa"},{name:"redirect",icon:"switch",condition:()=>!0,action:()=>this.redirectNegotiation(),tooltip:"Ir para negociação"}]},disputeTabToTicketTab(){return{1:"MESSAGES",2:"NOTES",3:"OCCURRENCES"}[Number(this.tab)]},isPaused(){return this.dispute?.getDisputeIsPaused},isCanceled(){return this.dispute?.getDisputeIsCanceled},canSettled(){return"SETTLED"!==this.dispute?.getDisputeStatus&&!this.isPreNegotiation},canUnsettled(){return"UNSETTLED"!==this.dispute?.getDisputeStatus&&!this.isPreNegotiation},canResume(){return this.dispute?.getDisputeIsPaused&&!this.isPreNegotiation},canPause(){return!this.dispute?.getDisputeIsPaused&&!this.isPreNegotiation&&!["EXPIRED"].includes(this.dispute?.getDisputeStatus)},canMarkAsNotRead(){return this.dispute?.getDisputeStatus&&!["IMPORTED","ENRICHED","ENGAGEMENT"].includes(this.dispute?.getDisputeStatus)&&!this.isPreNegotiation},canSendCounterproposal(){return this.dispute?.getDisputeStatus&&!["CHECKOUT","ACCEPTED","SETTLED","UNSETTLED"].includes(this.dispute?.getDisputeStatus)&&!this.isPreNegotiation},canMoveToRunning(){return this.dispute?.getDisputeStatus&&["CHECKOUT","ACCEPTED","SETTLED","UNSETTLED","CANCELED"].includes(this.dispute?.getDisputeStatus)&&!this.isPreNegotiation},canRestartEngagement(){return this.dispute?.getDisputeStatus&&!["CHECKOUT","ACCEPTED","SETTLED","UNSETTLED","EXPIRED"].includes(this.dispute?.getDisputeStatus)&&!this.isPreNegotiation},isPreNegotiation(){return this.dispute?.getDisputeIsInPreNegotiation},isInNegotiation(){return this.dispute?.getDisputeIsInNegotiation},canResendMessages(){return!this.tableActions&&!this.isPreNegotiation},isAccepted(){return["CHECKOUT","ACCEPTED","SETTLED","UNSETTLED"].includes(this.dispute?.getDisputeStatus)},checkUpperRangeCounterOffer(){return this.isRecovery?this.counterOfferForm.lastCounterOfferValue<this.dispute?.getDisputeUpperRange:this.counterOfferForm.lastCounterOfferValue>this.dispute?.getDisputeUpperRange},isInsufficientUpperRange(){return"INSUFFICIENT_UPPER_RANGE"===this.unsettledType},workspaceNegotiators(){return this.$store.getters.workspaceMembers.map((t=>{const e={};return e.key=t.person.id,e.label=t.person.name,e.value=t.person.id,e}))},disputeClaimants(){return this.dispute&&this.dispute?.getDisputeRoles?(0,o.F3)(this.dispute?.getDisputeRoles,"CLAIMANT"):[]},authorsResume(){return this.dispute&&this.dispute?.getDisputeRoles?(0,o.F3)(this.dispute?.getDisputeRoles,"CLAIMANT","PARTY").map((t=>t?.name||"")).join(", "):[]},lawyersResume(){return this.dispute&&this.dispute?.getDisputeRoles?(0,o.F3)(this.dispute?.getDisputeRoles,"CLAIMANT","LAWYER").map((t=>t?.name||"")).join(", "):[]},respondentsResume(){return this.dispute&&this.dispute?.getDisputeRoles?(0,o.F3)(this.dispute?.getDisputeRoles,"RESPONDENT","PARTY").map((t=>t?.name||"")).join(", "):[]},forcedStatusValue(){return this.dispute?.getDisputeNextStatus===this.counterOfferForm.forceStatus?void 0:this.counterOfferForm.forceStatus}},beforeMount(){Object.keys(this.dropLawsuitReasons).length||this.getDropLawsuitReasons()},methods:{...(0,r.nv)(["deleteDocument","disputeSetVisualized","removeDispute","sendDisputeAction","sendDisputeNote","startNegotiation","getDropLawsuitReasons","cancelTicket","setAccountProperty","getDisputeStatuses"]),redirectNegotiation(){const t=`/negotiation/${this.dispute?.getDisputeId||this.$route?.params?.id}`;this.$jusSegment("Chaveia de gerenciamento para negociação",{}),this.$router.push({path:t})},scapeHtml(t){return t.replace(/(<([^>]+)>)/gi,"")},handleActionNotify(t,e){const s={};s[t]=e,this.setAccountProperty(s)},disputeAction(t,e){let s={content:"Tem certeza que deseja realizar esta ação?",title:this.$options.filters.capitalize(this.$t("action."+t.toUpperCase()))};switch(this.offerFormType=t.toUpperCase(),t){case"settled":this.dispute?.getDisputeIsPaused?(s={content:"A disputa está pausada, deseja despausar negociação para ganhar?",title:"Despausar negociação"},this.doAction("resume",s).then((()=>{"CHECKOUT"===this.dispute?.getDisputeStatus||"ACCEPTED"===this.dispute?.getDisputeStatus?this.ticketResumeDialogVisible=!0:this.disputeAction(t,e)}))):this.features.DRAFT_MANAGEMENT||["PRE_NEGOTIATION","CHECKOUT","SETTLED"].includes(this.dispute?.getDisputeStatus)||e?.forceStatus?!this.features.DRAFT_MANAGEMENT||["PRE_NEGOTIATION","CHECKOUT","SETTLED"].includes(this.dispute?.getDisputeStatus)||e?.forceStatus?["CHECKOUT","ACCEPTED"].includes(this.dispute?.getDisputeStatus)?this.ticketResumeDialogVisible=!0:this.openSettledDialog(t):this.$refs.setSettledDialog.open((s=>{this.counterOfferForm.forceStatus=s,this.disputeAction(t,{...e,forceStatus:s})})):(this.counterOfferForm.forceStatus="SETTLED",this.disputeAction(t,{...e,forceStatus:"SETTLED"}));break;case"send_settled":this.sendCounterproposal(!0);break;case"unsettled":this.unsettledType=null,this.getDisputeStatuses("UNSETTLED"),this.openSettledDialog(t);break;case"send-unsettled":this.isInsufficientUpperRange?this.disputeAction("send_counterproposal"):(e={body:{reason:this.disputeStatuses.UNSETTLED[this.unsettledType],conclusionNote:this.scapeHtml(this.counterOfferForm.note),note:this.scapeHtml(this.counterOfferForm.note)}},this.doAction("unsettled",s,e).then((()=>{this.chooseUnsettledDialogVisible=!1})).finally((()=>{this.unsettledType=null,this.closeCounterProposalModal()})));break;case"resume":this.doAction(t,s);break;case"paused":this.doAction(t,s);break;case"restart-engagement":this.checkIsntManualStrategy(t).then((()=>{this.doAction(t,s)}));break;case"resend-messages":this.checkIsntManualStrategy(t).then((()=>{this.doAction(t,s)}));break;case"cancel-messages":this.checkIsntManualStrategy(t).then((()=>{this.doAction(t,s)}));break;case"edit-negotiators":e={negotiatorsId:e},this.doAction(t,s,e).then((()=>{this.editNegotiatorDialogVisible=!1}));break;case"enrich":this.isAccepted&&(s.title="Atenção!",s.content="Você está solicitando o <b>ENRIQUECIMENTO</b> de uma disputa que já\n          foi finalizada. Este processo irá agendar novamente as mensagens\n          para as partes quando finalizado. Você deseja enriquecer mesmo assim?"),this.doAction(t,s);break;case"renegotiate":this.doAction(t,s).then((()=>{this.dispute?.getDisputeHasDocument&&this.$confirm("Esta disputa possui documento gerado, deseja exclui-lo?","Excluir documento",{confirmButtonText:"Continuar",cancelButtonText:"Cancelar",type:"warning"}).then((()=>{this.deleteDocument(this.dispute?.getDisputeId).then((()=>{this.$jusNotification({type:"success",title:"Yay!",message:"Documento excluido com sucesso"})}))}))}));break;case"counterproposal":this.dispute?.getDisputeIsPaused?(s={content:"A disputa está pausada, deseja despausar negociação para enviar uma contraproposta?",title:"Despausar negociação"},this.doAction("resume",s).then((()=>{this.openCounterproposalDialog()}))):this.openCounterproposalDialog();break;case"send_counterproposal":"INSUFFICIENT_UPPER_RANGE"===this.unsettledType?this.sendCounterproposal().then((()=>{e={body:{reason:this.disputeStatuses.UNSETTLED[this.unsettledType],conclusionNote:this.scapeHtml(this.counterOfferForm.note),note:this.scapeHtml(this.counterOfferForm.note)}},this.doAction("unsettled",s,e).then((()=>{this.chooseUnsettledDialogVisible=!1})).finally((()=>{this.unsettledType=null}))})).finally(this.closeCounterProposalModal):e?this.checkCounterproposal("WIN").then((()=>{this.checkUpperRangeCounterOffer?this.sendCounterproposal(e).then().finally(this.closeCounterProposalModal):this.sendCounterproposal().then().finally(this.closeCounterProposalModal)})):this.checkCounterproposal("COUNTERPROPOSAL").then((t=>{this.sendCounterproposal(t).then().finally(this.closeCounterProposalModal)}));break;case"favorite":this.handleFavorite();break;case"disfavor":this.handleDisfavor();break}},handleFavorite(){const t="ALWAYS"===this.userPreferences.properties?.FAVORITE_NOTIFICATION;this.$refs.confirmActionDialog.handleNotify=t=>this.handleActionNotify("FAVORITE_NOTIFICATION",t?"ALWAYS":""),this.$refs.confirmActionDialog.handleConfirm=()=>this.handleAction("favorite",{}).then((()=>{this.$jusSegment("ACTIVE_fAVORITE",{...this.dispute}),this.$jusNotification({title:"Yay!",message:"Ação <b>"+this.$options.filters.capitalize(this.$t("actions.FAVORITE.name"))+"</b> realizada com sucesso.",type:"success",dangerouslyUseHTMLString:!0}),this.$refs.notifyOnCompanyAnalysis.open("FAVORITE",this.dispute)})),this.$refs.confirmActionDialog.open({visible:!0,showNotifyInput:t,title:this.$options.filters.capitalize(this.$t("actions.FAVORITE.name")),notify:t,action:"FAVORITE"})},handleDisfavor(){const t="ALWAYS"===this.userPreferences.properties?.FAVORITE_NOTIFICATION;this.$refs.confirmActionDialog.handleNotify=t=>this.handleActionNotify("FAVORITE_NOTIFICATION",t?"ALWAYS":""),this.$refs.confirmActionDialog.handleConfirm=()=>this.handleAction("disfavor",{}).then((()=>{this.$jusSegment("DEACTIVE_fAVORITE",{...this.dispute}),this.$jusNotification({title:"Yay!",message:"Ação <b>"+this.$options.filters.capitalize(this.$t("actions.DISFAVOR.name"))+"</b> realizada com sucesso.",type:"success",dangerouslyUseHTMLString:!0}),this.$refs.notifyOnCompanyAnalysis.open("DISFAVOR",this.dispute)})),this.$refs.confirmActionDialog.open({visible:!0,showNotifyInput:t,title:this.$options.filters.capitalize(this.$t("actions.DISFAVOR.name")),notify:t})},handleSettled(){const t={content:"Tem certeza que deseja realizar esta ação?",title:this.$options.filters.capitalize(this.$t("action.SETTLED"))};this.counterOfferForm.note=this.winNote,this.doAction("settled",t)},closeCounterProposalModal(){this.counterOfferForm.note="",this.settledDialogVisible=!1},handleAction(t,e){let s={action:t,disputeId:this.dispute?.getDisputeId,body:{note:this.counterOfferForm.note,conclusionNote:this.counterOfferForm.note,forceStatus:this.forcedStatusValue}};return e&&(s={...s,...e}),this.sendDisputeAction(s)},doAction(t,e,s){return new Promise(((i,a)=>{this.$confirm(e.content,e.title,{confirmButtonText:"Continuar",cancelButtonText:"Cancelar",dangerouslyUseHTMLString:!0,showClose:!1}).then((()=>{this.modalLoading=!0,this.handleAction(t,s).then((()=>{i(),this.$jusNotification({title:"Yay!",message:"Ação <b>"+e.title.toUpperCase()+"</b> realizada com sucesso.",type:"success",dangerouslyUseHTMLString:!0}),this.counterOfferForm.note="",this.$delete(this.counterOfferForm,"forceStatus"),"settled"===t&&(this.ticketResumeDialogVisible=!1),["disfavor","favorite"].includes(t)&&this.isJusttoAdmin&&this.$refs.notifyOnCompanyAnalysis.open(t.toUpperCase(),this.dispute)})).catch((t=>{a(t),this.$jusNotification({error:t})})).finally((()=>{this.modalLoading=!1}))}))}))},checkIsntManualStrategy(t){return new Promise(((e,s)=>{["restart-engagement","resend-messages","cancel-messages"].includes(t)&&[25,26].includes(this.dispute?.getDisputeStrategyId)?(this.$alert("Esta disputa está com uma estratégia de <b>engajamento manual</b>. Se deseja realizar engajamento automático, edite a disputa e escolha uma estratégia de engajamento adequada",{title:this.$options.filters.capitalize(this.$t("action."+t.toUpperCase())),dangerouslyUseHTMLString:!0,confirmButtonText:"OK",showClose:!1}),s(new Error("A estratégia dessa disputa é manual. Mude a estratégial para poder Reiniciar Dispute, Reiniciar Engajamento ou Cancelar Mensagens"))):e()}))},setAsUnread(){this.disputeSetVisualized({visualized:!1,disputeId:this.dispute?.getDisputeId,anonymous:!1}).then((()=>{"9"===this.$store.state.disputeModule.tab?this.$router.push("/management/all"):this.$router.push("/management")})).catch((t=>{this.$jusNotification({error:t})}))},validateForm(t){return new Promise(((e,s)=>{this.$refs[t].validate((t=>{t?e():s(new Error("Campos obrigatórios não preenchidos"))}))}))},handleDropLawsuit(){this.modalLoading=!0;const t=this.$route?.params?.id||this?.dispute?.getDisputeId,{reason:e,conclusionNote:s}=this.dropLawsuitForm;this.validateForm("dropLawsuitForm").then((()=>{this.cancelTicket({disputeId:t,reason:e,conclusionNote:s}).then((()=>{this.$jusNotification({message:"Disputa cancelada com sucesso.",title:"Yay!",type:"success"}),this.dropLawsuitDialogVisible=!1,this.$jusSegment("Cancelamento de disputa pelo /management",{disputeId:t})})).catch((t=>this.$jusNotification({error:t})))})).finally((()=>{this.modalLoading=!1}))},goToNegotiation(){this.startNegotiation(this.dispute?.getDisputeId),this.$jusSegment("Negociação iniciada na disputa",{disputeId:this.dispute?.getDisputeId})},openNewTab(){const t=this.showNegotiationTypeMenu?"ticket":"dispute",e=this.$router.resolve({name:t,params:{id:this.dispute?.getDisputeId}});window.open(e.href,"_blank"),this.$emit("open:newtab")},togleCollapsed(){this.collapsed=!this.collapsed},openSettledDialog(t){this.modalLoading=!1,this.counterOfferForm.lastCounterOfferValue=this.dispute?.getDisputeLastCounterOfferValue||this.dispute?.getDisputeLastOfferValue,1===this.disputeClaimants.length?this.counterOfferForm.selectedRoleId=this.disputeClaimants[0].id:this.dispute?.getDisputeLastCounterOfferName&&this.disputeClaimants.map((t=>t.name)).includes(this.dispute?.getDisputeLastCounterOfferName)?this.counterOfferForm.selectedRoleId=this.disputeClaimants.filter((t=>t.name===this.dispute?.getDisputeLastCounterOfferName))[0].id:this.counterOfferForm.selectedRoleId="","settled"===t?this.settledDialogVisible=!0:this.chooseUnsettledDialogVisible=!0,this.$refs.counterOfferForm&&this.$refs.counterOfferForm.clearValidate()},async openEditNegotiatorsDialog(){const t=this.workspaceNegotiators.map((({value:t})=>t))||[];this.modalLoading=!1,this.disputeNegotiators=this.dispute?.getDisputeRoles.filter((e=>e.roles.includes("NEGOTIATOR")&&!e.archived&&t.includes(e.personId))).map((t=>t.personId)),this.editNegotiatorDialogVisible=!0},openCounterproposalDialog(){this.modalLoading=!1,this.counterOfferForm.lastCounterOfferValue="",this.counterOfferForm.selectedRoleId=1===this.disputeClaimants.length?this.disputeClaimants[0].id:"",this.counterproposalDialogVisible=!0,this.$refs.counterOfferForm&&this.$refs.counterOfferForm.clearValidate()},handleAttachmentDialogVisable(){this.uploadAttacmentDialogVisable=!this.uploadAttacmentDialogVisable},checkCounterproposal(t){return new Promise(((e,s)=>{this.$refs.counterOfferForm.validate((i=>{if(i)if(this.checkUpperRangeCounterOffer){const i=`O valor inserido <b>irá ${this.isRecovery?"adequar":"majorar"}</b> ${this.$tc("UPPER_RANGE",this.isRecovery)}. Deseja continuar?`;if("WIN"===t)this.$confirm(i,"Atenção!",{confirmButtonText:"Continuar",cancelButtonText:"Cancelar",dangerouslyUseHTMLString:!0,showClose:!1}).then(e).catch((t=>{s(t)}));else{const t=this.$createElement;this.$confirm(t("div",null,[t("p",null,`Valor da contraproposta é ${this.isRecovery?"menor":"maior"} que o d${this.$tc("UPPER_RANGE_WITH_ARTICLE",this.isRecovery)}!`),t("br",null,""),t("p",null,[t("span",{style:{color:"#FF4B54"}},"*"),t("small",null,["Ao clicar em ",t("strong",null,this.isRecovery?"Adequar":"Majorar"),", será feita a ",t("strong",null,"contraproposta"),this.isRecovery?", o ":", a ",t("strong",null,this.$tc("UPPER_RANGE",this.isRecovery))," será "+(this.isRecovery?"adequado":"majorada")+" para o ",t("strong",null,"valor")," da contraproposta e a disputa será alterada para ",t("strong",null,"Proposta Aceita"),"."])]),t("br",null,""),t("p",null,[t("span",{style:{color:"#FF4B54"}},"*"),t("small",null,["Ao clicar em ",t("strong",null,"Não "+(this.isRecovery?"adequar":"majorar")),", somente será feita a contraproposta, sem alterações no status da disputa."])])]),`${this.isRecovery?"Adequar":"Majorar"} ${this.$tc("UPPER_RANGE_WITH_ARTICLE",this.isRecovery)}?`,{distinguishCancelAndClose:!0,dangerouslyUseHTMLString:!0,closeOnClickModal:!1,closeOnPressEscape:!1,showClose:!1,confirmButtonText:"Não "+(this.isRecovery?"Adequar":"Majorar"),cancelButtonText:this.isRecovery?"Adequar":"Majorar"}).then((()=>{e(!1)})).catch((()=>{e(!0)}))}}else e();else s(new Error("Invalid Fields"))}))}))},sendCounterproposal(t){return new Promise(((e,s)=>{this.$refs.counterOfferForm.validate((i=>{i?(this.modalLoading=!0,this.$store.dispatch("getDisputeDTO",this.dispute?.getDisputeId).then((i=>{this.$store.dispatch("sendDisputeCounterProposal",{disputeId:this.dispute?.getDisputeId,objectId:i.objects[0].id,value:this.counterOfferForm.lastCounterOfferValue.toString(),roleId:this.counterOfferForm.selectedRoleId,note:this.scapeHtml(this.counterOfferForm.note),updateUpperRange:t||!1,action:this.offerFormType,forceStatus:this.forcedStatusValue}).then((()=>{e(),this.counterproposalDialogVisible=!1,this.settledDialogVisible=!1,this.$jusNotification({title:"Yay!",message:t?"Proposta aceita com sucesso.":"Contraproposta enviada com sucesso.",type:"success"})})).catch((t=>{s(t),this.$jusNotification({error:t})})).finally((()=>{this.modalLoading=!1}))}))):s(new Error("Invalid Fields"))}))}))}}},c=l,u=(s(78598),s(1001)),d=(0,u.Z)(c,i,a,!1,null,null,null),p=d.exports},45318:function(t,e,s){"use strict";s.d(e,{U:function(){return i["default"]}});var i=s(34226)},83630:function(t,e,s){"use strict";s.r(e);var i=s(87537),a=s.n(i),o=s(23645),n=s.n(o),r=n()(a());r.push([t.id,".jus-drag-area[data-v-23cc1084]{position:relative;height:100%}.jus-drag-area .jus-drag-area__mask[data-v-23cc1084]{display:none;cursor:pointer}.jus-drag-area .jus-drag-area__input-file[data-v-23cc1084]{display:none}.jus-drag-area.jus-drag-area--dragging .jus-drag-area__mask[data-v-23cc1084]{align-items:center;display:flex;height:100%;justify-content:center;left:0;position:absolute;top:0;z-index:2;width:100%}.jus-drag-area.jus-drag-area--dragging .jus-drag-area__mask .jus-drag-area__mask-action[data-v-23cc1084]{height:100%;left:0;position:absolute;top:0;width:100%}.attachment-dialog .el-dialog__body .attachment-dialog__container[data-v-23cc1084]{display:flex;flex-direction:column;gap:24px}.attachment-dialog .el-dialog__body .attachment-dialog__container .attachment-dialog__container-check[data-v-23cc1084]{display:flex;gap:16px}","",{version:3,sources:["webpack://./src/components/JusDragArea/JusDragArea.vue"],names:[],mappings:"AAGA,gCACE,iBAAA,CACA,WAAA,CAEA,qDACE,YAAA,CACA,cAAA,CAGF,2DACE,YAAA,CAKA,6EACE,kBAAA,CACA,YAAA,CACA,WAAA,CACA,sBAAA,CACA,MAAA,CACA,iBAAA,CACA,KAAA,CACA,SAAA,CACA,UAAA,CAEA,yGACE,WAAA,CACA,MAAA,CACA,iBAAA,CACA,KAAA,CACA,UAAA,CAQJ,mFACE,YAAA,CACA,qBAAA,CACA,QAAA,CAEA,uHACE,YAAA,CACA,QAAA",sourcesContent:["\n@import '~projuris-acordos-theme/src/common/colors.scss';\n\n.jus-drag-area {\n  position: relative;\n  height: 100%;\n\n  .jus-drag-area__mask {\n    display: none;\n    cursor: pointer;\n  }\n\n  .jus-drag-area__input-file {\n    display: none;\n  }\n\n  &.jus-drag-area--dragging {\n\n    .jus-drag-area__mask {\n      align-items: center;\n      display: flex;\n      height: 100%;\n      justify-content: center;\n      left: 0;\n      position: absolute;\n      top: 0;\n      z-index: 2;\n      width: 100%;\n\n      .jus-drag-area__mask-action {\n        height: 100%;\n        left: 0;\n        position: absolute;\n        top: 0;\n        width: 100%;\n      }\n    }\n  }\n}\n\n.attachment-dialog {\n  .el-dialog__body {\n    .attachment-dialog__container {\n      display: flex;\n      flex-direction: column;\n      gap: 24px;\n\n      .attachment-dialog__container-check {\n        display: flex;\n        gap: 16px;\n      }\n    }\n  }\n}\n"],sourceRoot:""}]),e["default"]=r},64126:function(t,e,s){"use strict";s.r(e);var i=s(87537),a=s.n(i),o=s(23645),n=s.n(o),r=n()(a());r.push([t.id,".attachment-dialog__container-check .el-switch.inactive .el-switch__core:after{margin:0;left:1px}.attachment-dialog__container-check .el-switch.active .el-switch__core:after{left:20px}","",{version:3,sources:["webpack://./src/components/JusDragArea/JusDragArea.vue"],names:[],mappings:"AAIM,+EACE,QAAA,CACA,QAAA,CAKF,6EACE,SAAA",sourcesContent:["\n.attachment-dialog__container-check {\n  .el-switch {\n    &.inactive {\n      .el-switch__core::after {\n        margin: 0;\n        left: 1px;\n      }\n    }\n\n    &.active {\n      .el-switch__core::after {\n        left: 20px;\n      }\n    }\n  }\n}\n"],sourceRoot:""}]),e["default"]=r},44701:function(t,e,s){"use strict";s.r(e);var i=s(87537),a=s.n(i),o=s(23645),n=s.n(o),r=n()(a());r.push([t.id,".el-dialog__wrapper div .el-dialog__body .dialog__textarea-note{margin:8px 0}.el-dialog__wrapper div .el-dialog__footer{margin-top:8px}.jus-dispute-actions__choose-unsettled-dialog .el-message-box__content{padding:10px 0}.jus-dispute-actions__choose-unsettled-dialog .el-select{width:100%}.jus-dispute-actions__upload-dialog .el-dialog__body{height:300px}.jus-dispute-actions .jus-dispute-actions__actions-buttons .jus-dispute-actions__actions-icons{width:16px;height:16px}.jus-dispute-actions .jus-dispute-actions__actions-buttons .jus-dispute-actions__actions-icons.el-icon{font-size:19px;width:19px;height:19px}.jus-dispute-actions.jus-dispute-actions--dispute{padding:12px 0 12px 20px;box-shadow:0 4px 24px 0 rgba(37,38,94,.06);z-index:1}.jus-dispute-actions.jus-dispute-actions--dispute .jus-dispute-actions__actions-buttons{border-radius:6px;padding:12px;margin-right:8px}.jus-dispute-actions.jus-dispute-actions--dispute .jus-dispute-actions__collapse-button{color:#424242;padding:8px 10px 0;float:right;border-color:transparent!important}.jus-dispute-actions.jus-dispute-actions--dispute .jus-dispute-actions__collapse-button i{font-size:26px}.jus-dispute-actions.jus-dispute-actions--dispute .jus-dispute-actions__back-button{margin-right:20px;vertical-align:text-top}.jus-dispute-actions.jus-dispute-actions--table{background:linear-gradient(90deg,hsla(0,0%,96%,0) 0,#f6f6f6 10%);padding:0 20px 0 28px;position:absolute;display:flex;align-items:center;height:100%;right:0;top:0}.jus-dispute-actions.jus-dispute-actions--table .jus-dispute-actions__actions-buttons{margin-left:6px}.is-disabled-input{background-color:#f6f6f6;cursor:not-allowed}.is-disabled-input:hover{border-color:#dcdfe6!important}","",{version:3,sources:["webpack://./src/components/buttons/JusDisputeActions.vue"],names:[],mappings:"AAIM,gEACE,YAAA,CAGJ,2CACE,cAAA,CAOF,uEACE,cAAA,CAEF,yDACE,UAAA,CAIF,qDACE,YAAA,CAKF,+FACE,UAAA,CACA,WAAA,CAEA,uGACE,cAAA,CACA,UAAA,CACA,WAAA,CAKN,kDACE,wBAAA,CACA,0CAAA,CACA,SAAA,CAEA,wFACE,iBAAA,CACA,YAAA,CACA,gBAAA,CAGF,wFACE,aAAA,CACA,kBAAA,CACA,WAAA,CACA,kCAAA,CACA,0FAAA,cAAA,CAGF,oFACE,iBAAA,CACA,uBAAA,CAGJ,gDACE,gEAAA,CACA,qBAAA,CACA,iBAAA,CACA,YAAA,CACA,kBAAA,CACA,WAAA,CACA,OAAA,CACA,KAAA,CAEA,sFACE,eAAA,CAIN,mBACE,wBAAA,CACA,kBAAA,CACA,yBACE,8BAAA",sourcesContent:["\n.el-dialog__wrapper {\n  div {\n    .el-dialog__body {\n      .dialog__textarea-note {\n        margin: 8px 0px;\n      }\n    }\n    .el-dialog__footer {\n      margin-top: 8px;\n    }\n  }\n}\n\n.jus-dispute-actions {\n  &__choose-unsettled-dialog {\n    .el-message-box__content {\n      padding: 10px 0;\n    }\n    .el-select {\n      width: 100%;\n    }\n  }\n  &__upload-dialog {\n    .el-dialog__body {\n      height: 300px;\n    }\n  }\n\n  .jus-dispute-actions__actions-buttons {\n    .jus-dispute-actions__actions-icons {\n      width: 16px;\n      height: 16px;\n\n      &.el-icon {\n        font-size: 19px;\n        width: 19px;\n        height: 19px;\n      }\n    }\n  }\n\n  &.jus-dispute-actions--dispute {\n    padding: 12px 0px 12px 20px;\n    box-shadow: 0 4px 24px 0 rgba(37, 38, 94, 0.06);\n    z-index: 1;\n\n    .jus-dispute-actions__actions-buttons {\n      border-radius: 6px;\n      padding: 12px;\n      margin-right: 8px;\n    }\n\n    .jus-dispute-actions__collapse-button {\n      color: #424242;\n      padding: 8px 10px 0;\n      float: right;\n      border-color: transparent !important;\n      i { font-size: 26px; }\n    }\n\n    .jus-dispute-actions__back-button {\n      margin-right: 20px;\n      vertical-align: text-top;\n    }\n  }\n  &.jus-dispute-actions--table {\n    background: linear-gradient(to right, rgba(246,246,246,0) 0%, rgba(246,246,246,1) 10%);\n    padding: 0 20px 0 28px;\n    position: absolute;\n    display: flex;\n    align-items: center;\n    height: 100%;\n    right: 0;\n    top: 0;\n\n    .jus-dispute-actions__actions-buttons {\n      margin-left: 6px;\n    }\n  }\n}\n.is-disabled-input {\n  background-color: #f6f6f6;\n  cursor: not-allowed;\n  &:hover {\n    border-color: #dcdfe6 !important;\n  }\n}\n"],sourceRoot:""}]),e["default"]=r},8652:function(t,e,s){var i=s(83630);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var a=s(39185).Z;a("193bc929",i,!0,{sourceMap:!0,shadowMode:!1})},46041:function(t,e,s){var i=s(64126);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var a=s(39185).Z;a("570f49b3",i,!0,{sourceMap:!0,shadowMode:!1})},78598:function(t,e,s){var i=s(44701);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var a=s(39185).Z;a("4973f9fd",i,!0,{sourceMap:!0,shadowMode:!1})}}]);
//# sourceMappingURL=8533.js.map