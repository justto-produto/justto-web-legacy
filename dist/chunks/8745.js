(self["webpackChunk_projuris_justto_web"]=self["webpackChunk_projuris_justto_web"]||[]).push([[8745],{58745:function(o,e,t){"use strict";t.r(e),t.d(e,{default:function(){return d}});var r=function(){var o=this,e=o._self._c;return e("el-dialog",{attrs:{visible:o.visible,title:"Exportar disputa","custom-class":"export-ticket-modal","append-to-body":"",fullscreen:""},on:{"update:visible":o.toggleExportTicketModalVisible}},[o.progress<100?e("el-progress",{attrs:{percentage:o.progress,color:"#9461f7",type:"dashboard"}}):o._e(),e("vue-html2pdf",{ref:"html2Pdf",attrs:{"show-layout":"","paginate-elements-by-height":1400,filename:o.filename,"pdf-quality":2,"html-to-pdf-options":o.htmlOptions,margin:0,"manual-pagination":"","pdf-content-width":"100%","pdf-format":"a4","pdf-orientation":"portrait"},on:{progress:o.setProgress,hasDownloaded:o.handleClose}},[o.visible?e("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[e("div",{staticStyle:{display:"flex","flex-direction":"column",padding:"0px 16px"}},[e("OverviewResume"),e("OmnichannelResume")],1)]):o._e()])],1)},l=[],i=t(90408),n={components:{OmnichannelResume:()=>t.e(8049).then(t.bind(t,8049)),OverviewResume:()=>t.e(8606).then(t.bind(t,68606))},data:()=>({progress:0}),computed:{...(0,i.Se)({visible:"getExportTicketModalVisible",activeTab:"getActiveTab",width:"getWindowWidth"}),tabHaveMessages(){return["MESSAGES","OCCURRENCES"].includes(this.activeTab)},tab(){switch(this.activeTab){case"MESSAGES":return this.$tc("negotiation.ticket.omnichannel.editor.tab.message",1);case"NOTES":return this.$tc("negotiation.ticket.omnichannel.editor.tab.note",1);case"OCCURRENCES":return this.$tc("negotiation.ticket.omnichannel.editor.tab.occurrence",1)}return""},filename(){return`JUSTTO - Negociação - #${this.$route.params.id} - ${this.tab}`},htmlOptions(){return{filename:this.filename,jsPDF:{format:"a4",orientation:"portrait"}}}},watch:{visible(o){o&&(this.progress=0,this.tabHaveMessages?Promise.all([this.resetOccurrences()]).then((()=>{this.setProgress(10),this.getAllOccurrences(this.$route.params.id).then((({content:o})=>{Promise.all(o.filter((({id:o,interaction:e})=>o&&e?.message?.messageId)).map((({interaction:o})=>this.getFullMessage(o?.message?.messageId))))})).then((()=>this.setProgress(50))).finally((()=>this.startPrint()))})):this.startPrint())}},methods:{...(0,i.nv)(["toggleExportTicketModalVisible","getAllOccurrences","resetOccurrences","getFullMessage","getOccurrences"]),startPrint(){this.$nextTick().then((()=>{setTimeout(this.print,2500)}))},print(){this.visible&&this.$refs.html2Pdf.generatePdf()},handleClose(){this.tabHaveMessages?(this.resetOccurrences(),this.getOccurrences(this.$route.params.id).finally((()=>this.toggleExportTicketModalVisible(!1)))):this.toggleExportTicketModalVisible(!1)},setProgress(o){this.progress=o}}},a=n,c=(t(20535),t(1001)),s=(0,c.Z)(a,r,l,!1,null,null,null),d=s.exports},232:function(o,e,t){"use strict";t.r(e);var r=t(87537),l=t.n(r),i=t(23645),n=t.n(i),a=n()(l());a.push([o.id,".export-ticket-modal{position:relative}.export-ticket-modal .el-dialog__body .el-progress{position:absolute;z-index:99999;bottom:0;right:0}.export-ticket-modal .el-dialog__body .vue-html2pdf .layout-container{background-color:#fff}.export-ticket-modal .el-dialog__body .vue-html2pdf .layout-container .content-wrapper{width:100%!important}.export-ticket-modal .el-dialog__body .vue-html2pdf .layout-container .content-wrapper section{max-width:80vw;margin:0 auto}","",{version:3,sources:["webpack://./src/views/main/negotiation/partials/ticket/TicketResumeDialog.vue","webpack://./node_modules/projuris-acordos-theme/src/common/colors.scss"],names:[],mappings:"AAGA,qBACE,iBAAA,CAGE,mDACE,iBAAA,CACA,aAAA,CACA,QAAA,CACA,OAAA,CAIA,sEACE,qBCbQ,CDeR,uFACE,oBAAA,CAEA,+FACE,cAAA,CACA,aAAA",sourcesContent:["\n@import '~projuris-acordos-theme/src/common/colors';\n\n.export-ticket-modal {\n  position: relative;\n\n  .el-dialog__body {\n    .el-progress {\n      position: absolute;\n      z-index: 99999;\n      bottom: 0;\n      right: 0;\n    }\n\n    .vue-html2pdf {\n      .layout-container {\n        background-color: $--color-white;\n\n        .content-wrapper {\n          width: 100% !important;\n\n          section {\n            max-width: 80vw;\n            margin: 0px auto;\n          }\n        }\n      }\n    }\n  }\n}\n","/* Colors\n-------------------------- */\n\n$--color-white: #fff !default;\n$--color-black: #424242 !default;\n$--color-gray: #979797 !default;\n$--color-gray-light-1: mix($--color-white, $--color-gray, 10%) !default;\n$--color-light-gray: #f3f4f5 !default;\n$--color-whatsapp: #075E54 !default;\n\n$--pj-color-darker-blue: #0A0022 !default;\n$--pj-color-dark-blue: #280BA0 !default;\n$--pj-color-blue: #0756e4 !default;\n$--pj-color-light-blue: #018EF0 !default;\n$--pj-color-lighter-blue: #30A9FB !default;\n$--pj-color-white-blue: #F0F9FE !default;\n$--pj-color-disabled-blue: #9ad2f9 !default;\n\n$-pg-color-overlay: #19415F !default;\n\n$--pj-color-red: #CC4148 !default;\n$--pj-color-light-red: #EC767C !default;\n$--pj-color-disable-red: #FFF2F3 !default;\n\n$--color-primary: $--pj-color-blue !default;\n$--color-primary-light-1: mix($--color-white, $--color-primary, 10%) !default;\n$--color-primary-light-2: mix($--color-white, $--color-primary, 20%) !default;\n$--color-primary-light-3: mix($--color-white, $--color-primary, 30%) !default;\n$--color-primary-light-4: mix($--color-white, $--color-primary, 40%) !default;\n$--color-primary-light-5: mix($--color-white, $--color-primary, 50%) !default;\n$--color-primary-light-6: mix($--color-white, $--color-primary, 60%) !default;\n$--color-primary-light-7: mix($--color-white, $--color-primary, 70%) !default;\n$--color-primary-light-8: mix($--color-white, $--color-primary, 80%) !default;\n$--color-primary-light-9: mix($--color-white, $--color-primary, 90%) !default;\n\n$--color-secondary: $--pj-color-light-blue !default;\n$--color-secondary-light-1: mix($--color-white, $--color-secondary, 10%) !default;\n$--color-secondary-light-2: mix($--color-white, $--color-secondary, 20%) !default;\n$--color-secondary-light-3: mix($--color-white, $--color-secondary, 30%) !default;\n$--color-secondary-light-4: mix($--color-white, $--color-secondary, 40%) !default;\n$--color-secondary-light-5: mix($--color-white, $--color-secondary, 50%) !default;\n$--color-secondary-light-6: mix($--color-white, $--color-secondary, 60%) !default;\n$--color-secondary-light-7: mix($--color-white, $--color-secondary, 70%) !default;\n$--color-secondary-light-8: mix($--color-white, $--color-secondary, 80%) !default;\n$--color-secondary-light-9: mix($--color-white, $--color-secondary, 90%) !default;\n\n$--color-primary-dark: $--pj-color-dark-blue !default;\n$--color-success: #14CC30 !default;\n$--color-warning: #FFC900 !default;\n$--color-danger: #FF4B54 !default;\n$--color-info: #2FBBEC !default;\n\n$--color-success-light-1: mix($--color-white, $--color-success, 10%) !default;\n$--color-success-light-5: mix($--color-white, $--color-success, 50%) !default;\n$--color-warning-light-5: mix($--color-white, $--color-warning, 50%) !default;\n$--color-danger-light-5: mix($--color-white, $--color-danger, 50%) !default;\n$--color-danger-light-3: mix($--color-white, $--color-danger, 30%) !default;\n$--color-info-light-5: mix($--color-white, $--color-info, 50%) !default;\n\n$--color-success-light: mix($--color-white, $--color-success, 80%) !default;\n$--color-warning-light: mix($--color-white, $--color-warning, 80%) !default;\n$--color-danger-light: mix($--color-white, $--color-danger, 80%) !default;\n$--color-info-light: mix($--color-white, $--color-info, 80%) !default;\n\n$--color-success-lighter: mix($--color-white, $--color-success, 90%) !default;\n$--color-warning-lighter: mix($--color-white, $--color-warning, 90%) !default;\n$--color-danger-lighter: mix($--color-white, $--color-danger, 90%) !default;\n$--color-info-lighter: mix($--color-white, $--color-info, 90%) !default;\n\n$--color-text-primary: $--color-black !default;\n$--color-text-secondary: $--color-gray !default;\n\n$--color-nps-promoter: #14CC30 !default;\n$--color-nps-neutral: #979797 !default;\n$--color-nps-detractor: #FF4B54 !default;\n\n$--color-negotiator-bg: #9461f74f !default;\n$--color-email-bg: $--color-info-light !default;\n$--color-whatsapp-bg: $--color-success-light-5 !default;"],sourceRoot:""}]),e["default"]=a},20535:function(o,e,t){var r=t(232);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[o.id,r,""]]),r.locals&&(o.exports=r.locals);var l=t(39185).Z;l("0a2386ac",r,!0,{sourceMap:!0,shadowMode:!1})}}]);
//# sourceMappingURL=8745.js.map