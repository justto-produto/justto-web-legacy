(self["webpackChunk_projuris_justto_web"]=self["webpackChunk_projuris_justto_web"]||[]).push([[8973],{88973:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return n}});var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"configuration-blackList-view"},[e("el-table",{attrs:{data:t.filteredBlackList,width:"100%"}},[e("el-table-column",{attrs:{label:"Termo bloqueado"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row)+" ")]}}])}),e("el-table-column",{attrs:{align:"right",width:"400px"},scopedSlots:t._u([{key:"default",fn:function(i){return e("div",{},[e("el-tooltip",{attrs:{content:"Excluir"}},[e("el-button",{attrs:{size:"mini",type:"danger",plain:"",icon:"el-icon-delete"},on:{click:function(e){return t.deleteBlackList(i.row)}}})],1)],1)}}])},[e("div",{staticClass:"configuration-blackList-view__column-header",attrs:{slot:"header"},slot:"header"},[e("div",{staticClass:"el-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"el-input__inner",attrs:{placeholder:"Buscar"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),e("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(e){t.blackListDialogVisible=!0}}},[t._v(" Adicionar ")])],1)])],1),e("el-dialog",{attrs:{"close-on-click-modal":!1,"show-close":!1,"close-on-press-escape":!1,visible:t.blackListDialogVisible,"append-to-body":"",title:"Adicionar à blackList","label-position":"top",width:"40%"},on:{"update:visible":function(e){t.blackListDialogVisible=e}}},[e("el-alert",{attrs:{type:"info"}},[t._v(" Exemplos: "),e("br"),e("br"),e("b",[t._v("contato@empresa.com.br")]),t._v(" bloqueará o envio automático de e-mails somente para o endereço específico. "),e("br"),e("br"),e("b",[t._v("@empresa.com.br")]),t._v(" bloqueará todos os e-mails de mesmo domínio. "),e("br"),e("br"),e("b",[t._v("jose.silva")]),t._v(" bloqueará todos os e-mails contendo "),e("i",[t._v("jose.silva")]),t._v(", como "),e("i",[t._v("jose.silva@gmail.com")]),t._v(" e "),e("i",[t._v("jose.silva@outlook.com")]),t._v(". "),e("br"),e("br"),e("b",[t._v("11999990000")]),t._v(" bloqueará Whatsapp para o número específico, no caso "),e("i",[t._v("(11) 99999 0000")]),t._v(". "),e("br"),e("br"),e("b",[t._v("1199020")]),t._v(" bloqueará Whatsapp para todos os números iniciados com "),e("i",[t._v("1199020")]),t._v(", como "),e("i",[t._v("(11) 99020 9246")]),t._v(". "),e("br")]),e("el-form",{ref:"blackListForm",attrs:{model:t.blackListForm,rules:t.blackListRules,"label-position":"top"},nativeOn:{submit:function(e){return e.preventDefault(),t.addBlackList.apply(null,arguments)}}},[e("el-form-item",{attrs:{label:"Termo a ser bloqueado",prop:"contact"}},[e("el-input",{model:{value:t.blackListForm.contact,callback:function(e){t.$set(t.blackListForm,"contact",e)},expression:"blackListForm.contact"}})],1)],1),e("span",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.blackListDialogVisible=!1}}},[t._v(" Cancelar ")]),e("el-button",{attrs:{type:"primary"},on:{click:t.addBlackList}},[t._v(" Adicionar ")])],1)],1)],1)},s=[],a=(i(57658),{name:"ConfigurationBlackList",data(){return{blackListDialogVisible:!1,search:"",blackListForm:{contact:""},blackListRules:{contact:[{required:!0,message:"Campo obrigatório",trigger:"submit"}]}}},computed:{filteredBlackList(){return this.$store.getters.workspaceBlackList.filter((t=>!!t&&(!this.search||t.toLowerCase().includes(this.search.toLowerCase()))))}},mounted(){this.search=""},methods:{addBlackList(){this.$refs.blackListForm.validate((t=>{if(t){const t=[...this.$store.getters.workspaceBlackList];t.push(this.blackListForm.contact),this.$store.dispatch("patchBlackList",t).then((e=>{this.$store.commit("setBlackList",t),this.blackListDialogVisible=!1,this.blackListForm.contact="",this.$jusNotification({title:"Yay!",message:"Termo adicionado na blackList com sucesso",type:"success"})})).catch((t=>{this.$jusNotification({error:t})}))}}))},deleteBlackList(t){this.$confirm("Tem certeza que deseja excluir?","Atenção!",{confirmButtonText:"Excluir",cancelButtonText:"Cancelar",confirmButtonClass:"el-button--danger",beforeClose:(e,i,o)=>{if("confirm"===e){i.confirmButtonLoading=!0;let e=[...this.$store.getters.workspaceBlackList];e=e.filter((e=>e!==t)),this.$store.dispatch("patchBlackList",e).then((t=>{o(),this.$store.commit("setBlackList",e)})).catch((t=>{console.error(t)})).finally((()=>{i.confirmButtonLoading=!1}))}else o()}}).then((()=>{this.$jusNotification({title:"Yay!",message:"Minuta excluída com sucesso",type:"success"})}))}}}),l=a,c=(i(54630),i(1001)),r=(0,c.Z)(l,o,s,!1,null,null,null),n=r.exports},96404:function(t,e,i){"use strict";i.r(e);var o=i(87537),s=i.n(o),a=i(23645),l=i.n(a),c=l()(s());c.push([t.id,".configuration-blackList-view .configuration-blackList-view__column-header,.configuration-blackList-view th.is-right .cell{display:flex}.configuration-blackList-view .el-alert{margin-bottom:20px}","",{version:3,sources:["webpack://./src/views/main/configurations/partials/Blacklist.vue"],names:[],mappings:"AAKE,2HACE,YAAA,CAEF,wCACE,kBAAA",sourcesContent:["\n.configuration-blackList-view {\n  th.is-right .cell {\n    display: flex;\n  }\n  .configuration-blackList-view__column-header {\n    display: flex;\n  }\n  .el-alert {\n    margin-bottom: 20px;\n  }\n}\n"],sourceRoot:""}]),e["default"]=c},54630:function(t,e,i){var o=i(96404);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals);var s=i(39185).Z;s("28e4218a",o,!0,{sourceMap:!0,shadowMode:!1})}}]);
//# sourceMappingURL=8973.js.map