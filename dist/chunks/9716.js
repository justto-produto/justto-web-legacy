(self["webpackChunk_projuris_justto_web"]=self["webpackChunk_projuris_justto_web"]||[]).push([[9716],{49716:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var i=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{"close-on-click-modal":!1,visible:e.visibleFilters,width:"650px"},on:{"update:visible":function(t){e.visibleFilters=t},open:function(t){return e.restoreFilters()}}},[t("template",{slot:"title"},[t("h2",[e._v("Filtrar "+e._s(e.activeTabLabel))])]),t("div",{staticClass:"management-filters"},[t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"margin-bottom":"-22px"},attrs:{model:e.filters,"label-position":"top"}},[t("el-row",{attrs:{gutter:20}},[e.loading?e._e():t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"Campanha"}},[t("el-select",{attrs:{multiple:"",filterable:"","data-testid":"filter-campaign",placeholder:"Selecione uma opção"},on:{clear:e.clearCampaign},model:{value:e.filters.campaigns,callback:function(t){e.$set(e.filters,"campaigns",t)},expression:"filters.campaigns"}},e._l(e.campaigns,(function(e){return t("el-option",{key:e,attrs:{value:e,label:e}})})),1)],1)],1),e.loading||!e.isPreNegotiation&&!e.isAll?e._e():t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"Palavras de pré-negociação"}},[t("el-select",{attrs:{multiple:"",filterable:"",placeholder:"Selecione uma opção"},on:{clear:e.clearPreNegotitationKeyWorks},model:{value:e.filters.preNegotiationKeywords,callback:function(t){e.$set(e.filters,"preNegotiationKeywords",t)},expression:"filters.preNegotiationKeywords"}},e._l(e.preNegotiationKeywords.keyWords,(function(e){return t("el-option",{key:e,attrs:{value:e,label:e}})})),1)],1)],1),e.loading?e._e():t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"Estratégia"}},[t("el-select",{attrs:{multiple:"",filterable:"","data-testid":"filter-strategy",placeholder:"Selecione uma opção"},on:{clear:e.clearStrategy},model:{value:e.filters.strategy,callback:function(t){e.$set(e.filters,"strategy",t)},expression:"filters.strategy"}},e._l(e.strategies,(function(e){return t("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1)],1),e.isNewAgreements?t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:e.isNewAgreementsLabel}},[t("el-date-picker",{attrs:{"data-testid":"filters-disputeexpirationdate",type:"daterange",align:"right",format:"dd/MM/yyyy","unlink-panels":"","range-separator":"-","start-placeholder":"Data inicial","end-placeholder":"Data final","value-format":"yyyy-MM-dd"},on:{change:e.changeDealDate},model:{value:e.filters.dealDate,callback:function(t){e.$set(e.filters,"dealDate",t)},expression:"filters.dealDate"}})],1)],1):e._e(),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"Data limite para negociar"}},[t("el-date-picker",{attrs:{"data-testid":"filters-disputeexpirationdate",type:"daterange",align:"right",format:"dd/MM/yyyy","unlink-panels":"","range-separator":"-","start-placeholder":"Data inicial","end-placeholder":"Data final","value-format":"yyyy-MM-dd"},on:{change:e.changeExpirationDate},model:{value:e.filters.expirationDate,callback:function(t){e.$set(e.filters,"expirationDate",t)},expression:"filters.expirationDate"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"Data da Importação"}},[t("el-date-picker",{attrs:{"data-testid":"filters-disputeimportingDate",type:"daterange",align:"right",format:"dd/MM/yyyy","unlink-panels":"","range-separator":"-","start-placeholder":"Data inicial","end-placeholder":"Data final","value-format":"yyyy-MM-dd"},on:{change:e.changeimportingDate},model:{value:e.filters.importingDate,callback:function(t){e.$set(e.filters,"importingDate",t)},expression:"filters.importingDate"}})],1)],1),!e.loading&&e.isFinished||e.isPreNegotiation?t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:e.$tc("PARTY_RESPONDENT",e.isRecovery),prop:"respondentNames"}},[t("el-select",{attrs:{multiple:"",filterable:"",clearable:"",remote:"","reserve-keyword":"","remote-method":e.getRespondentNames,loading:e.loadingRespondentNames,"popper-class":"filter__respondent-options",placeholder:"Selecione uma opção"},on:{clear:e.clearRespondent,blur:function(t){return e.getRespondents("")}},model:{value:e.filters.respondentNames,callback:function(t){e.$set(e.filters,"respondentNames",t)},expression:"filters.respondentNames"}},e._l(e.respondents,(function(e,s){return t("el-option",{key:`${s}#${e}`,attrs:{value:e,label:e}})})),1)],1)],1):e._e(),[2,3,4,9].includes(Number(e.tabIndex))?t("el-col",{attrs:{span:[2,4].includes(Number(e.tabIndex))?24:12}},[t("el-form-item",{attrs:{label:"Data da última interação"}},[t("el-date-picker",{attrs:{type:"daterange",align:"right",format:"dd/MM/yyyy","unlink-panels":"","range-separator":"-","start-placeholder":"Data inicial","end-placeholder":"Data final","value-format":"yyyy-MM-dd"},on:{change:e.changeLastInteractionDate},model:{value:e.filters.lastInteractionDate,callback:function(t){e.$set(e.filters,"lastInteractionDate",t)},expression:"filters.lastInteractionDate"}})],1)],1):e._e(),t("el-col",{attrs:{span:12}},[t("el-form-item",{staticClass:"management-filters__switch",attrs:{label:"Exibir ocorrências:"}},[t("div",[t("div",[t("jus-icon",{attrs:{icon:"offices-tower"}}),e._v(" Aguardando análise da empresa ")],1),t("el-switch",{attrs:{"data-testid":"filters-favorite"},model:{value:e.filters.onlyFavorite,callback:function(t){e.$set(e.filters,"onlyFavorite",t)},expression:"filters.onlyFavorite"}})],1),e.isPreNegotiation?e._e():t("div",[t("div",[t("jus-icon",{attrs:{icon:"pause"}}),e._v(" Somente pausadas ")],1),t("el-switch",{attrs:{"data-testid":"filters-only-paused"},on:{change:e.toggleOnlyPaused},model:{value:e.filters.onlyPaused,callback:function(t){e.$set(e.filters,"onlyPaused",t)},expression:"filters.onlyPaused"}})],1),e.isPreNegotiation?e._e():t("div",[t("div",[t("jus-icon",{attrs:{icon:"pause"}}),e._v(" Somente não pausadas ")],1),t("el-switch",{attrs:{"data-testid":"filters-only-not-paused"},on:{change:e.toggleOnlyNotPaused},model:{value:e.filters.onlyNotPaused,callback:function(t){e.$set(e.filters,"onlyNotPaused",t)},expression:"filters.onlyNotPaused"}})],1),e.isEngagement||e.isInteration||e.isAll?t("div",[t("div",[t("i",{staticClass:"el-icon-warning-outline"}),e._v(" Advogados ofensores ")]),t("el-switch",{attrs:{"data-testid":"filters-advogados-ofensores"},model:{value:e.filters.vexatiousLawyer,callback:function(t){e.$set(e.filters,"vexatiousLawyer",t)},expression:"filters.vexatiousLawyer"}})],1):e._e()])],1),e.isInteration?t("el-col",{attrs:{span:12}},[t("el-form-item",{staticClass:"management-filters__switch management-filters__switch--invisible",attrs:{label:"Exibir ocorrências:"}},[t("div",[t("div",[t("jus-icon",{attrs:{icon:"eye"}}),e._v(" Somente não visualizadas ")],1),t("el-switch",{attrs:{"data-testid":"filters-only-not-visualized"},model:{value:e.filters.onlyNotVisualized,callback:function(t){e.$set(e.filters,"onlyNotVisualized",t)},expression:"filters.onlyNotVisualized"}})],1),t("div",[t("div",[t("jus-icon",{attrs:{icon:"proposal"}}),e._v(" Tem contraproposta ")],1),t("el-switch",{attrs:{"data-testid":"filters-has-counterproposal"},model:{value:e.filters.hasCounterproposal,callback:function(t){e.$set(e.filters,"hasCounterproposal",t)},expression:"filters.hasCounterproposal"}})],1)])],1):e._e(),e.isInteration||e.isAll?t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"Meio de interação"}},[t("el-select",{attrs:{"data-testid":"filter-setinteraction",placeholder:"Selecione uma opção",multiple:""},on:{clear:e.clearInteraction},model:{value:e.filters.lastInteractionType,callback:function(t){e.$set(e.filters,"lastInteractionType",t)},expression:"filters.lastInteractionType"}},e._l(e.interactions,(function(e){return t("el-option",{key:e.key,attrs:{value:e.key,label:e.value}})})),1)],1)],1):e._e(),e.isFinished||e.isEngagement||e.isAll?t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"Status"}},[t("el-checkbox-group",{model:{value:e.filters.status,callback:function(t){e.$set(e.filters,"status",t)},expression:"filters.status"}},e._l(e.statuses,(function(s){return t("el-checkbox",{key:s,attrs:{label:s}},[e._v(" "+e._s(e._f("capitalize")(e.$t("occurrence.type."+s)))+" ")])})),1)],1)],1):e._e(),t("el-col",{attrs:{span:24}},[t("el-form-item",[t("MultipleFields",{ref:"MultipleFields",model:{value:e.filters,callback:function(t){e.filters=t},expression:"filters"}})],1)],1)],1)],1)],1),t("span",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{plain:""},on:{click:function(t){return e.clearFilters()}}},[e._v("Limpar filtros")]),t("el-button",{attrs:{"data-testid":"filter-applyfilter",type:"primary"},on:{click:function(t){return e.applyFilters()}}},[e._v(" Aplicar filtros ")])],1)],2)},a=[],l=s(90408),r={name:"ManagementFilters",components:{MultipleFields:()=>s.e(4285).then(s.bind(s,84285))},props:{tabIndex:{type:String,required:!0}},data(){return{visibleFilters:!1,loading:!1,filters:{},loadingRespondentNames:!1,awaitGetRespondents:null}},computed:{...(0,l.Se)({strategies:"getMyStrategiesLite",campaigns:"campaignList",respondents:"respondents",workspaceTags:"workspaceTags",negotiatorsList:"workspaceMembers",preNegotiationKeywords:"getPreNegotiation",isRecovery:"isWorkspaceRecovery"}),isPreNegotiation(){return"0"===this.tabIndex},isEngagement(){return"1"===this.tabIndex},isInteration(){return"2"===this.tabIndex},isNewAgreements(){return["3","4","9"].includes(this.tabIndex)},isNewAgreementsLabel(){switch(this.tabIndex){case"3":return"Data do acordo";case"4":case"9":return"Data de Finalização (ganho/perdido)";default:return""}},isFinished(){return"4"===this.tabIndex},isAll(){return"9"===this.tabIndex},interactions(){return[{key:"WHATSAPP",value:"Whatsapp"},{key:"EMAIL",value:"Email"},{key:"NEGOTIATOR_ACCESS",value:"Sistema ProJuris"}]},activeTabLabel(){switch(this.tabIndex){case"0":return"pré-Negociação";case"1":return"sem resposta";case"2":return"em negociação";case"3":return"proposta aceita";case"4":return"finalizados";default:return"todos"}},statuses(){switch(this.tabIndex){case"4":return["EXPIRED","SETTLED","UNSETTLED","CANCELED"];case"1":return["IMPORTED","PENDING","ENRICHED","ENGAGEMENT"];default:return["IMPORTED","ENRICHED","ENGAGEMENT","RUNNING","PENDING","ACCEPTED","CHECKOUT","EXPIRED","SETTLED","UNSETTLED","CANCELED"]}}},watch:{visibleFilters(e){e&&this.fetchData()}},methods:{...(0,l.nv)(["setTicketsFilters","getCampaigns","getMyStrategiesLite","getRespondents","getWorkspaceTags","getWorkspacePreNegotiationKeywords"]),fetchData(){this.loading=!0,Promise.all([this.getCampaigns(),this.getMyStrategiesLite(),this.getRespondents(),this.getWorkspaceTags(),this.getWorkspacePreNegotiationKeywords()]).finally((e=>{this.loading=!1}))},openDialog(){this.visibleFilters=!0},toggleOnlyPaused(e){this.filters.onlyPaused=e,e?this.filters.onlyNotPaused=!e:delete this.filters.onlyPaused,this.$forceUpdate()},toggleOnlyNotPaused(e){this.filters.onlyNotPaused=e,e?this.filters.onlyPaused=!e:(delete this.filters.onlyNotPaused,!1===this.filters.onlyPaused&&delete this.filters.onlyPaused),this.$forceUpdate()},applyFilters(){this.filters.onlyNotVisualized||delete this.filters.onlyNotVisualized,this.$store.commit("setDisputeHasFilters",!0),this.$store.commit("setDisputeQuery",this.filters),this.setTicketsFilters({filters:this.filters,hasFilters:!0}),this.visibleFilters=!1,this.filters.status&&(this.filters.status.includes("EXPIRED")&&this.$jusSegment("Filtro por status expirado"),this.filters.status.includes("PENDING")&&this.$jusSegment("Filtro por status pendente"),this.filters.status.includes("CHECKOUT")&&this.$jusSegment("Filtro por status acordo")),this.filters.hasCounterproposal&&this.$jusSegment("Filtro por status com contraproposta"),this.filters.hasCounterproposal&&this.$jusSegment("Filtro por status com contraproposta"),this.filters?.importingDate?.length&&this.$jusSegment("Filtro por data importação"),this.filters?.expirationDate?.length&&this.$jusSegment("Filtro por data fim negociação")},clearFilters(){this.$refs.MultipleFields&&this.$refs.MultipleFields.clear(),this.clearCampaign(),this.clearStrategy(),this.clearTags(),this.clearRespondent(),this.changeDealDate(),this.changeExpirationDate(),this.changeimportingDate(),this.changeLastInteractionDate(),this.clearInteraction(),this.clearStatuses(),this.clearPreNegotitationKeyWorks(),this.filters.onlyFavorite=!1,this.filters.onlyPaused=!1,this.filters.onlyNotPaused=!1,this.filters.hasCounterproposal=!1,this.filters.vexatiousLawyer=!1,this.$store.commit("setDisputeHasFilters",!1),this.$store.commit("setDisputeQuery",this.filters),this.setTicketsFilters({filters:this.filters,hasFilters:!1}),this.visibleFilters=!1,delete this.filters.onlyNotVisualized,delete this.filters.onlyPaused},restoreFilters(){this.filters=JSON.parse(JSON.stringify(this.$store.getters.disputeQuery))},clearInteraction(e){delete this.filters.lastInteractionType},clearStrategy(){this.filters.strategy=[]},clearTags(){this.filters.tags=[]},clearRespondent(){this.getRespondents(""),this.filters.respondentNames=[]},clearCampaign(){this.filters.campaigns=[]},changeDealDate(e){this.filters.dealDate=e||[]},clearStatuses(){if(this.isFinished||this.isEngagement||this.isAll)switch(this.tabIndex){case"1":this.filters.status=["IMPORTED","ENRICHED","ENGAGEMENT","PENDING"];break;case"4":case"9":default:this.filters.status=[];break}},clearPreNegotitationKeyWorks(){this.filters.preNegotiationKeywords=[]},changeExpirationDate(e){this.filters.expirationDate=e||[]},changeLastInteractionDate(e){this.filters.lastInteractionDate=e||[]},changeimportingDate(e){this.filters.importingDate=e||[]},getRespondentNames(e){clearTimeout(this.awaitGetRespondents);const t=1e3;this.loadingRespondentNames=!0,this.awaitGetRespondents=setTimeout((()=>{this.getRespondents(e).finally((()=>{this.loadingRespondentNames=!1}))}),t)}}},n=r,o=(s(414),s(1001)),c=(0,o.Z)(n,i,a,!1,null,null,null),d=c.exports},18313:function(e,t,s){"use strict";s.r(t);var i=s(87537),a=s.n(i),l=s(23645),r=s.n(l),n=r()(a());n.push([e.id,".management-filters{overflow-x:hidden}.management-filters .el-date-editor,.management-filters .el-radio-group,.management-filters .el-select{width:100%}.management-filters .el-form-item__content{line-height:36px;width:100%}.management-filters__switch{margin-bottom:18px}.management-filters__switch .el-form-item__content{line-height:24px}.management-filters__switch .el-form-item__content>div{display:flex;justify-content:space-between;align-items:center}.management-filters__switch .el-form-item__content>div img{width:14px}.management-filters__switch.management-filters__switch--invisible .el-form-item__label{opacity:0}.management-filters__member{display:inline-block;margin:10px 10px 0 0}.management-filters .el-radio-button__inner{margin:0 10px 10px 0;border:1px solid #dcdfe6;border-radius:2px}.management-filters .el-tag{overflow:hidden}.management-filters .el-form .el-row .el-col .el-form-item{max-width:100%}.filter__respondent-options{width:300px}","",{version:3,sources:["webpack://./src/views/main/management/partials/ManagementFilters.vue"],names:[],mappings:"AACA,oBACE,iBAAA,CAEA,uGACE,UAAA,CAEF,2CACE,gBAAA,CACA,UAAA,CAEF,4BACE,kBAAA,CACA,mDACE,gBAAA,CACA,uDACE,YAAA,CACA,6BAAA,CACA,kBAAA,CACA,2DACE,UAAA,CAKJ,uFACE,SAAA,CAIN,4BACE,oBAAA,CACA,oBAAA,CAEF,4CACE,oBAAA,CACA,wBAAA,CACA,iBAAA,CAEF,4BACE,eAAA,CAMI,2DACE,cAAA,CAOV,4BACE,WAAA",sourcesContent:["\n.management-filters {\n  overflow-x: hidden;\n\n  .el-select, .el-date-editor, .el-radio-group {\n    width: 100%;\n  }\n  .el-form-item__content {\n    line-height: 36px;\n    width: 100%;\n  }\n  &__switch {\n    margin-bottom: 18px;\n    .el-form-item__content {\n      line-height: 24px;\n      > div {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        img {\n          width: 14px;\n        }\n      }\n    }\n    &.management-filters__switch--invisible {\n      .el-form-item__label {\n        opacity: 0;\n      }\n    }\n  }\n  &__member {\n    display: inline-block;\n    margin: 10px 10px 0 0;\n  }\n  .el-radio-button__inner {\n    margin: 0 10px 10px 0;\n    border: 1px solid #dcdfe6;\n    border-radius: 2px;\n  }\n  .el-tag {\n    overflow: hidden;\n  }\n\n  .el-form {\n    .el-row {\n      .el-col {\n        .el-form-item {\n          max-width: 100%;\n        }\n      }\n    }\n  }\n}\n\n.filter__respondent-options {\n  width: 300px;\n}\n"],sourceRoot:""}]),t["default"]=n},414:function(e,t,s){var i=s(18313);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);var a=s(39185).Z;a("10befda8",i,!0,{sourceMap:!0,shadowMode:!1})}}]);
//# sourceMappingURL=9716.js.map