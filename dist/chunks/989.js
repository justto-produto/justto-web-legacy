(self["webpackChunk_projuris_justto_web"]=self["webpackChunk_projuris_justto_web"]||[]).push([[989],{20989:function(e,o,r){"use strict";r.r(o),r.d(o,{default:function(){return p}});var l=function(){var e=this,o=e._self._c;return e.canAccessDialer?o("article",{staticClass:"dialer"},[o("el-popover",{attrs:{trigger:"manual",placement:"left","popper-class":"dialer-popover"},model:{value:e.showPopover,callback:function(o){e.showPopover=o},expression:"showPopover"}},[o("CallQueue",{ref:"callsQueue",attrs:{loading:e.loading},on:{hide:function(o){return e.toggleShowPopover(!1)}}}),o("div",{staticClass:"reference dialer__button-call",attrs:{slot:"reference"},slot:"reference"},[e.isInCall?o("InCall",{attrs:{"infos-is-visible":e.showPopover},on:{toggle:function(o){return e.toggleShowPopover(!e.showPopover)}}}):o("JusIcon",{attrs:{icon:e.dialerIcon},on:{click:function(o){return e.toggleShowPopover(!e.showPopover)}}})],1)],1),e.isActiveToCall?o("div",{staticClass:"dialer__container"},[o("audio",{staticClass:"dialer__container-audio",attrs:{id:"remoteAudio",controls:"",autoplay:"autoplay"}}),e.isActiveToCall?o("audio",{staticClass:"dialer__container-audio",attrs:{id:"speakerAudio",src:e.activeRingtone,controls:"",loop:"",autoplay:"autoplay"}}):e._e()]):e._e()],1):e._e()},n=[],i=r(90408),t=r(62383),a=r(40917),c=r(52491),s={components:{CallQueue:()=>r.e(4007).then(r.bind(r,54007)),InCall:()=>r.e(8367).then(r.bind(r,68367))},data(){const e=new c.Z;return{loading:!1,visible:!1,showPopover:!1,bodyVisible:!0,top:100,left:450,number:"",configs:null,session:null,ua:null,sipStack:null,registerSession:null,user:e}},computed:{...(0,i.Se)({isInCall:"isInCall",listCallQueue:"getCallQueue",workspaceId:"workspaceId",preferences:"userPreferences",isActiveToCall:"isActiveToCall",canAccessDialer:"canAccessDialer",isAutoCall:"canMakeScheduledCalls",currentActiveCall:"getCurrentCall",workspaceTeamName:"workspaceTeamName",scheduledCallsQueue:"getScheduledCallsQueue",isPendingToAnswerCurrentCall:"isPendingToAnswerCurrentCall"}),activeRingtone(){return[t.CALL_STATUS.RECEIVING_CALL].includes(this.currentActiveCall)?"https://storage.googleapis.com/justto_app/audio/justto_auto_answer_ring.wav":""},dialerIcon(){const e=this.isAutoCall&&!this.listCallQueue.length;return e?"phone-auto":this.listCallQueue.length?"phone-active":"phone-off"},hasAcceptTerms(){return!!this.preferences.properties.ACCEPT_DIALER_TERMS},hasNotAcceptTerms(){return!!this.preferences.properties.REJECT_DIALER_TERMS}},watch:{visible(e){e?this.init():this.activeAppToCall(!0)},isActiveToCall(e){e&&(this.showPopover=!0)},listCallQueue:{deep:!0,handler:"handleQueueChange"}},created(){this.setAppInstance((0,a.k$)()),window.removeEventListener("click",this.clickTracker,!1),window.addEventListener("click",this.clickTracker,!1)},methods:{...(0,i.nv)(["addCall","dialerLogin","createNewCall","activeAppToCall","setAppInstance","loadVoiceServer","loadVoiceServer","clearCurrentCall","deleteCurrentCall","startServerStatus","startServerStatus","changeServerStatus","setAccountProperty","refreshServiceStatus","startDialerRequester","availableServerStatus","availableServerStatus"]),clickTracker(e){const o=document.querySelector(".dialer__button-call");if(!1===Boolean(e?.path))return;const r=e.path.includes(o)||e.path.filter((e=>Array(...e?.classList||[]).includes("dialer__button"))).length>0;!r&&this.showPopover&&this.toggleShowPopover(!1)},open(e){this.number=e,this.visible=!0,this.showPopover=!0},handleQueueChange(e,o){const r=e.length>o.length,l=e.length>0&&![t.CALL_STATUS.COMPLETED_CALL].includes(e[0]?.status);(r||l)&&this.open(e[0]?.number)},init(){this.activeAppToCall(!0)},toggleShowPopover(e){this.showPopover!==e&&(this.showPopover=e),this.$emit("toggle",this.showPopover)}}},d=s,u=(r(53157),r(1001)),A=(0,u.Z)(d,l,n,!1,null,null,null),p=A.exports},5965:function(e,o,r){"use strict";r.r(o);var l=r(87537),n=r.n(l),i=r(23645),t=r.n(i),a=t()(n());a.push([e.id,".dialer,.dialer .dialer__button-call{display:flex;align-items:center}.dialer .dialer__button-call{cursor:pointer}.dialer .dialer__button-call img{height:20px;width:20px}.dialer .dialer__container{background-color:#fff;border-radius:10px;display:flex;flex-direction:column}.dialer .dialer__container .dialer__container-title{width:100%;padding:8px;display:flex;justify-content:space-between;align-items:center}.dialer .dialer__container .dialer__container-title .dialer__container-title-actions{display:flex;align-items:center;gap:8px}.dialer .dialer__container .dialer__container-title .dialer__container-title-actions i{cursor:pointer}.dialer .dialer__container .dialer__container-title .dialer__container-title-actions i.el-icon-rank{cursor:move}.dialer .dialer__container .dialer__container-title.without-border{border:none}.dialer .dialer__container .dialer__container-audio{display:none}.dialer .dialer__container .dialer__container-body{margin:8px;display:flex;flex-direction:column;gap:8px}.dialer .dialer__container .dialer__container-body .el-input .el-input-group__prepend{padding:0 8px}.dialer .dialer__container .dialer__container-body .el-input .el-input__inner{text-align:right}.dialer .dialer__container .dialer__container-body .dialer__container-body-buttons{display:flex;flex-direction:column;gap:8px}.dialer .dialer__container .dialer__container-body .dialer__container-body-buttons .dialer__container-body-buttons-line{display:flex;justify-content:space-around}.dialer .dialer__container .dialer__container-body .dialer__container-body-buttons .dialer__container-body-buttons-line .el-button{min-width:48px}.dialer .dialer__container .dialer__container-footer .dialer__container-footer-alert{font-size:12px;text-align:center}.dialer .dialer__container .dialer__container-footer .dialer__container-footer-alert sup{color:#ff4b54}","",{version:3,sources:["webpack://./src/views/main/dialer/Dialer.vue","webpack://./node_modules/projuris-acordos-theme/src/common/colors.scss"],names:[],mappings:"AAOE,qCAHA,YAAA,CACA,kBAKE,CAHF,6BACE,cAEA,CAEA,iCACE,WAAA,CACA,UAAA,CAIJ,2BAEE,qBAAA,CAEA,kBAAA,CAEA,YAAA,CACA,qBAAA,CAEA,oDACE,UAAA,CACA,WAAA,CAIA,YAAA,CACA,6BAAA,CACA,kBAAA,CAEA,qFACE,YAAA,CACA,kBAAA,CAEA,OAAA,CAEA,uFACE,cAAA,CAEA,oGACE,WAAA,CAMN,mEACE,WAAA,CAIJ,oDACE,YAAA,CAGF,mDACE,UAAA,CACA,YAAA,CACA,qBAAA,CACA,OAAA,CAGE,sFACE,aAAA,CAGF,8EACE,gBAAA,CAIJ,mFACE,YAAA,CACA,qBAAA,CACA,OAAA,CAEA,wHACE,YAAA,CACA,4BAAA,CAEA,mIACE,cAAA,CAON,qFACE,cAAA,CACA,iBAAA,CAEA,yFACE,aCnDO",sourcesContent:["\n@import '~projuris-acordos-theme/src/common/colors.scss';\n\n.dialer {\n  display: flex;\n  align-items: center;\n\n  .dialer__button-call {\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n\n    img {\n      height: 20px;\n      width: 20px;\n    }\n  }\n\n  .dialer__container {\n\n    background-color: white;\n    // border: solid $--color-primary 1px;\n    border-radius: 10px;\n\n    display: flex;\n    flex-direction: column;\n\n    .dialer__container-title {\n      width: 100%;\n      padding: 8px;\n\n      // border-bottom: solid $--color-primary 2px;\n\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n\n      .dialer__container-title-actions {\n        display: flex;\n        align-items: center;\n\n        gap: 8px;\n\n        i {\n          cursor: pointer;\n\n          &.el-icon-rank {\n            cursor: move;\n          }\n        }\n\n      }\n\n      &.without-border {\n        border: none;\n      }\n    }\n\n    .dialer__container-audio {\n      display: none;\n    }\n\n    .dialer__container-body {\n      margin: 8px;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n\n      .el-input {\n        .el-input-group__prepend {\n          padding: 0 8px;\n        }\n\n        .el-input__inner {\n          text-align: right;\n        }\n      }\n\n      .dialer__container-body-buttons {\n        display: flex;\n        flex-direction: column;\n        gap: 8px;\n\n        .dialer__container-body-buttons-line {\n          display: flex;\n          justify-content: space-around;\n\n          .el-button {\n            min-width: 48px;\n          }\n        }\n      }\n    }\n\n    .dialer__container-footer {\n      .dialer__container-footer-alert {\n        font-size: 12px;\n        text-align: center;\n\n        sup {\n          color: $--color-danger;\n        }\n      }\n    }\n  }\n}\n","/* Colors\n-------------------------- */\n\n$--color-white: #fff !default;\n$--color-black: #424242 !default;\n$--color-gray: #979797 !default;\n$--color-gray-light-1: mix($--color-white, $--color-gray, 10%) !default;\n$--color-light-gray: #f3f4f5 !default;\n$--color-whatsapp: #075E54 !default;\n\n$--pj-color-darker-blue: #0A0022 !default;\n$--pj-color-dark-blue: #280BA0 !default;\n$--pj-color-blue: #0756e4 !default;\n$--pj-color-light-blue: #018EF0 !default;\n$--pj-color-lighter-blue: #30A9FB !default;\n$--pj-color-white-blue: #F0F9FE !default;\n$--pj-color-disabled-blue: #9ad2f9 !default;\n\n$-pg-color-overlay: #19415F !default;\n\n$--pj-color-red: #CC4148 !default;\n$--pj-color-light-red: #EC767C !default;\n$--pj-color-disable-red: #FFF2F3 !default;\n\n$--color-primary: $--pj-color-blue !default;\n$--color-primary-light-1: mix($--color-white, $--color-primary, 10%) !default;\n$--color-primary-light-2: mix($--color-white, $--color-primary, 20%) !default;\n$--color-primary-light-3: mix($--color-white, $--color-primary, 30%) !default;\n$--color-primary-light-4: mix($--color-white, $--color-primary, 40%) !default;\n$--color-primary-light-5: mix($--color-white, $--color-primary, 50%) !default;\n$--color-primary-light-6: mix($--color-white, $--color-primary, 60%) !default;\n$--color-primary-light-7: mix($--color-white, $--color-primary, 70%) !default;\n$--color-primary-light-8: mix($--color-white, $--color-primary, 80%) !default;\n$--color-primary-light-9: mix($--color-white, $--color-primary, 90%) !default;\n\n$--color-secondary: $--pj-color-light-blue !default;\n$--color-secondary-light-1: mix($--color-white, $--color-secondary, 10%) !default;\n$--color-secondary-light-2: mix($--color-white, $--color-secondary, 20%) !default;\n$--color-secondary-light-3: mix($--color-white, $--color-secondary, 30%) !default;\n$--color-secondary-light-4: mix($--color-white, $--color-secondary, 40%) !default;\n$--color-secondary-light-5: mix($--color-white, $--color-secondary, 50%) !default;\n$--color-secondary-light-6: mix($--color-white, $--color-secondary, 60%) !default;\n$--color-secondary-light-7: mix($--color-white, $--color-secondary, 70%) !default;\n$--color-secondary-light-8: mix($--color-white, $--color-secondary, 80%) !default;\n$--color-secondary-light-9: mix($--color-white, $--color-secondary, 90%) !default;\n\n$--color-primary-dark: $--pj-color-dark-blue !default;\n$--color-success: #14CC30 !default;\n$--color-warning: #FFC900 !default;\n$--color-danger: #FF4B54 !default;\n$--color-info: #2FBBEC !default;\n\n$--color-success-light-1: mix($--color-white, $--color-success, 10%) !default;\n$--color-success-light-5: mix($--color-white, $--color-success, 50%) !default;\n$--color-warning-light-5: mix($--color-white, $--color-warning, 50%) !default;\n$--color-danger-light-5: mix($--color-white, $--color-danger, 50%) !default;\n$--color-danger-light-3: mix($--color-white, $--color-danger, 30%) !default;\n$--color-info-light-5: mix($--color-white, $--color-info, 50%) !default;\n\n$--color-success-light: mix($--color-white, $--color-success, 80%) !default;\n$--color-warning-light: mix($--color-white, $--color-warning, 80%) !default;\n$--color-danger-light: mix($--color-white, $--color-danger, 80%) !default;\n$--color-info-light: mix($--color-white, $--color-info, 80%) !default;\n\n$--color-success-lighter: mix($--color-white, $--color-success, 90%) !default;\n$--color-warning-lighter: mix($--color-white, $--color-warning, 90%) !default;\n$--color-danger-lighter: mix($--color-white, $--color-danger, 90%) !default;\n$--color-info-lighter: mix($--color-white, $--color-info, 90%) !default;\n\n$--color-text-primary: $--color-black !default;\n$--color-text-secondary: $--color-gray !default;\n\n$--color-nps-promoter: #14CC30 !default;\n$--color-nps-neutral: #979797 !default;\n$--color-nps-detractor: #FF4B54 !default;\n\n$--color-negotiator-bg: #9461f74f !default;\n$--color-email-bg: $--color-info-light !default;\n$--color-whatsapp-bg: $--color-success-light-5 !default;"],sourceRoot:""}]),o["default"]=a},53157:function(e,o,r){var l=r(5965);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var n=r(39185).Z;n("dee7ae80",l,!0,{sourceMap:!0,shadowMode:!1})}}]);
//# sourceMappingURL=989.js.map