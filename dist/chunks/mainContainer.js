(self["webpackChunk_projuris_justto_web"]=self["webpackChunk_projuris_justto_web"]||[]).push([[555],{50882:function(e,i,o){"use strict";o.r(i),o.d(i,{default:function(){return h}});var t=function(){var e=this,i=e._self._c;return i("el-container",[i("el-aside",{staticClass:"container-aside",attrs:{width:"auto"}},[i("div",{staticClass:"container-aside__logo",class:{"has-ghost-mode":e.isJusttoAdmin}},[e.isJusttoAdmin?i("el-tooltip",{attrs:{"open-delay":500,content:"Modo anônimo",placement:"right"}},[i("JusIcon",{staticClass:"ghost-mode",attrs:{icon:"ghost-mode","is-active":e.ghostMode},on:{click:function(i){return e.setGhostMode(!e.ghostMode)}}})],1):e._e()],1),e.isJusttoAdmin?i("el-tooltip",{attrs:{content:e.isRecovery?"Cobrança":"Indenizatório",placement:"right"}},[i("JusIcon",{staticClass:"container-aside__workspace-type-icon",attrs:{icon:e.isRecovery?"exchange":"coins",size:"24px"}})],1):e._e(),i("el-menu",{ref:"sideMenu",staticClass:"container-aside__menu el-menu--main-menu",class:{"container-aside__menu--collapsed":e.isTeamSectionExpanded},attrs:{"default-active":e.activeRoute,collapse:"",router:""}},e._l(e.menuItems.filter((({isVisible:e})=>e)),(function(o,t){return i("div",{key:`${o.index}-${t}`,staticClass:"container-aside__menu-item",on:{click:o.action}},[i("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:o.isVisible,expression:"menuItem.isVisible"}],attrs:{index:o.refIndex||o.index}},[i("JusIcon",{staticClass:"menu-item__icon",attrs:{icon:o.icon,type:o.iconType||"ic",size:"1.75rem","svg-family":"light"}}),i("span",{attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(o.title)+" ")])],1),i("CustomHome",{directives:[{name:"show",rawName:"v-show",value:!e.isTeamSectionExpanded,expression:"!isTeamSectionExpanded"}],attrs:{value:o}})],1)})),0),e.isAdminProfile?i("JusTeamMenu",{staticClass:"container-aside__team",attrs:{"is-team-section-expanded":e.isTeamSectionExpanded},on:{"toggle-expand-team-section":e.toggleExpandTeamSection}}):e._e()],1),i("el-container",{attrs:{direction:"vertical"}},[i("JusHeaderMain"),i("el-main",[i("transition",{attrs:{name:"fade"}},[i("router-view")],1)],1)],1),i("JusShortchts"),i("jusMessagePreview"),i("ThamirisAlerts",{on:{close:e.hideThamirisAlerts},model:{value:e.areThamirisAlertsVisible,callback:function(i){e.areThamirisAlertsVisible=i},expression:"areThamirisAlertsVisible"}}),i("BuyDialerDialog"),e.showHelpIndicator?i("HelpIndicator"):e._e()],1)},n=[],r=(o(57658),o(90408)),s=o(40917),a=o(66213);class c{constructor({index:e,refIndex:i,title:o,icon:t,family:n,iconType:r,customHome:s,isVisible:a=!0,action:c=(()=>{})}){this.index=e,this.refIndex=i||e,this.title=o,this.icon=t,this.family=n||"",this.iconType=r,this.customHome=s||e,this.isVisible=a,this.action=c}}var l={name:"MainContainer",components:{jusMessagePreview:()=>o.e(1787).then(o.bind(o,1787)),JusHeaderMain:()=>o.e(241).then(o.bind(o,40241)),JusTeamMenu:()=>o.e(2693).then(o.bind(o,52693)),JusShortchts:()=>o.e(2175).then(o.bind(o,52175)),ThamirisAlerts:()=>o.e(6696).then(o.bind(o,86696)),BuyDialerDialog:()=>o.e(3127).then(o.bind(o,53127)),CustomHome:()=>o.e(8266).then(o.bind(o,78266)),HelpIndicator:()=>o.e(8696).then(o.bind(o,88696))},data(){return{timer:null,subscriptions:[],drawer:!0,isTeamSectionExpanded:!1}},computed:{...(0,r.Se)({accountId:"accountId",ghostMode:"ghostMode",personId:"loggedPersonId",workspaceId:"workspaceId",authorization:"accountToken",isJusttoAdmin:"isJusttoAdmin",notifications:"notifications",workspace:"workspaceSubdomain",isAdminProfile:"isAdminProfile",isRecovery:"isWorkspaceRecovery",userPreferences:"userPreferences",ticketListMode:"getTicketListMode",workspaceMembersSorted:"workspaceMembersSorted",areNotificationsVisible:"areNotificationsVisible",showNegotiationTypeMenu:"showNegotiationTypeMenu",areThamirisAlertsVisible:"areThamirisAlertsVisible"}),isInNegotiation(){return["negotiation","ticket"].includes(this.$route.name)},activeRoute(){return this.showNegotiationTypeMenu&&this.isInNegotiation?"MANAGEMENT"===this.ticketListMode?"/management":"/negotiation":this.$route.path},menuItems(){const e=new c({index:"/",title:"Dashboard",icon:"logo-menu-dark"}),i=new c({index:"/negotiation",title:"Negociação",icon:"negotiation-window",isVisible:!this.showNegotiationTypeMenu}),o=new c({index:"/negotiation",title:"Negociação",icon:"negotiation-window",isVisible:this.showNegotiationTypeMenu,action:()=>{this.setAccountProperty({TICKET_LIST_MODE:a.TICKET}),this.setHideTicket(!1)}}),t=new c({index:"/management",title:"Gerenciamento",icon:"list-app",isVisible:!this.showNegotiationTypeMenu,action:()=>this.setTabQuery("management")}),n=new c({index:"/negotiation",refIndex:"/management",title:"Gerenciamento",icon:"list-app",customHome:"/management",isVisible:this.showNegotiationTypeMenu,action:()=>{this.setAccountProperty({TICKET_LIST_MODE:a.MANAGEMENT}),this.setHideTicket(!0)}}),r=new c({index:"/management/all",title:"Todas as disputas",icon:"full-folder",action:()=>this.setTabQuery("allDisputes")}),s=new c({index:"/import",title:"Importação",icon:"import",isVisible:!0,action:()=>{}});return[e,i,o,t,n,r,s]},showHelpIndicator(){return Boolean(this.$route?.meta?.requiresAuth)}},watch:{workspace(){this.subscribe()}},beforeCreate(){this.$store.commit("clearDisputeQuery")},created(){this.pollData()},beforeMount(){this.subscribe(),window.addEventListener("resize",this.handleResize),s.YB.$on("SEE-PREVIEW",this.getPreview)},beforeDestroy(){s.YB.$off("SEE-PREVIEW",this.getPreview),window.removeEventListener("resize",this.handleResize),this.subscriptions.forEach((e=>this.$socket.emit("unsubscribe",e))),this.subscriptions.length=0},mounted(){this.getAccountProperty("TOUR_STEPS_COMPLETED").then((({TOUR_STEPS_COMPLETED:e=""})=>{e.includes("JUSTTO_DASHBOARD_ICON")||setTimeout(this.setTour,1e3)}))},sockets:{reconnect(){console.log("LOOP ROOT"),this.subscribe()}},methods:{...(0,r.nv)({loadAccountProperty:"loadAccountProperty",getAccountProperty:"getAccountProperty",setAccountProperty:"setAccountProperty",setWindowGeometry:"setWindowGeometry",getPreview:"getMessageToPreview",getThamirisAlerts:"getThamirisAlerts",setGhostMode:"setGhostMode",setHideTicket:"setHideTicket",initTicketListModeProperty:"initTicketListModeProperty"}),...(0,r.OI)({hideThamirisAlerts:"hideThamirisAlerts"}),pollData(){0===this.workspaceId?.length||["admin-panel"].includes(this.$route.name)||this.getThamirisAlerts(),this.timer=setInterval((()=>{0===this.workspaceId.length||["admin-panel"].includes(this.$route.name)||this.getThamirisAlerts()}),12e4)},handleResize({target:e}){this.setWindowGeometry(e)},subscribe(){if(this.workspace){const e={Authorization:this.authorization,Workspace:this.workspace},i=`/topic/${this.workspace}`;this.subscriptions.forEach((e=>this.$socket.emit("unsubscribe",e))),this.subscriptions.length=0,this.subscriptions.push({headers:e,channel:`${i}/person-status`}),this.subscriptions.push({headers:e,channel:`${i}/${this.personId}/dispute`}),this.subscriptions.push({headers:e,channel:`${i}/${this.personId}/dispute/summary`}),this.subscriptions.push({headers:e,channel:`/topic/account/${this.accountId}`}),this.subscriptions.forEach((e=>this.$socket.emit("subscribe",e))),this.loadAccountProperty().then(this.checkAcceptterms).finally(this.initTicketListModeProperty)}},checkAcceptterms(e){const i="LAST_ACCEPTED_DATE",o=this.$moment("13/10/2022","DD/MM/YYYY");let t=e[i]?this.$moment(e[i],"DD/MM/YYYY"):Boolean(e[i]);if(!t||o.isAfter(t,"day")){const e=[{label:"Termos Gerais e Condições de Uso",href:"https://justto.com.br/termos-de-uso",isVisible:!0},{label:"Termos Gerais de Contratação de Licenciamento de Uso de Tecnologia",href:"https://justto.com.br/termos-de-contratacao/",isVisible:this.isAdminProfile},{label:"Política de privacidade",href:"https://justto.com.br/politica-privacidade",isVisible:!0}],i=`\n        <p>Olá, tudo bem?</p><br>\n        <p>Atualizamos nossos documentos de uso da plataforma. Os documentos alterados são:</p>\n        <ul>${e.filter((({isVisible:e})=>e)).map((e=>`<li><a href="${e.href}" target="_blank">${e.label}</a></li>`)).join("")}</ul>\n        <p>Por favor, leia os documentos nos links acima e clique em <b>Ciente</b> para prosseguir com o uso dos serviços!</p>`;this.$confirm(i,"Atualização nos documentos de uso da plataforma",{dangerouslyUseHTMLString:!0,closeOnPressEscape:!1,closeOnClickModal:!1,showCancelButton:!1,showClose:!1,customClass:"terms-confirm",confirmButtonText:"Ciente"}).then((()=>{t||(t=this.$moment().format("DD/MM/YYYY")),this.setAccountProperty({LAST_ACCEPTED_DATE:t})}))}},setTabQuery(e){this.$store.commit("clearDisputeQuery"),this.$store.commit("clearDisputeTab"),"allDisputes"===e&&(this.$store.commit("setDisputesTab","9"),this.$store.commit("updateDisputeQuery",{key:"status",value:[]}),this.$store.commit("updateDisputeQuery",{key:"sort",value:["id,desc"]}))},toggleExpandTeamSection(){this.isTeamSectionExpanded=!this.isTeamSectionExpanded}}},d=l,u=(o(9159),o(1001)),m=(0,u.Z)(d,t,n,!1,null,null,null),h=m.exports},88017:function(e,i,o){"use strict";o.r(i);var t=o(87537),n=o.n(t),r=o(23645),s=o.n(r),a=s()(n());a.push([e.id,".terms-confirm{width:50vw}.el-container.is-vertical .el-main{display:flex}.el-submenu__icon-arrow.el-icon-arrow-right{display:none}.container-aside{background-color:#0756e4;box-shadow:0 4px 24px 0 rgba(37,38,94,.1);z-index:2;overflow:hidden;display:flex;flex-direction:column}.container-aside .container-aside__logo{width:58px;height:auto;padding:9px 18px;text-align:center}.container-aside .container-aside__logo.has-ghost-mode{padding-top:8px}.container-aside .container-aside__logo .ghost-mode{height:16px;margin-left:-4px;cursor:pointer}.container-aside .container-aside__workspace-type-icon{filter:invert(1);margin:0 auto 8px;cursor:help}.container-aside .container-aside__team{flex:1;overflow:hidden}.container-aside .container-aside__menu .container-aside__menu-item{background-color:#0756e4;position:relative}.container-aside .container-aside__menu .container-aside__menu-item li.el-menu-item{background-color:#0756e4}.container-aside .container-aside__menu .container-aside__menu-item li.el-menu-item .menu-item__icon{width:1.75rem;filter:invert(1)}.container-aside .container-aside__menu .container-aside__menu-item li.el-menu-item .el-tooltip{background-color:transparent}.container-aside .container-aside__menu .container-aside__menu-item li.el-menu-item.is-active{background-color:hsla(0,0%,100%,.2)!important;border-left-color:#fff!important}.container-aside .container-aside__menu .container-aside__menu-item li.el-menu-item:hover{background-color:hsla(0,0%,100%,.2)!important}.container-aside .container-aside__menu .container-aside__menu-item .menu-item-pin{display:flex;position:absolute;top:2px;right:2px;height:12px;width:12px;box-sizing:content-box}.container-aside .container-aside__menu .container-aside__menu-item .menu-item-pin .menu-item-pin__button{padding:0;cursor:pointer;height:12px;width:12px;border:none;background-color:#ff9300;background-color:transparent}.container-aside .container-aside__menu .container-aside__menu-item .menu-item-pin .menu-item-pin__button img{height:12px;width:12px;filter:invert(1)}.container-aside .container-aside__menu .container-aside__menu-item:hover{background-color:#0756e4}.container-aside .container-aside__menu .container-aside__menu-item:hover .menu-item-pin .menu-item-pin__button{display:block}.container-aside .container-aside__menu .el-menu-item{transition:all .3s}.container-aside .container-aside__menu.container-aside__menu--collapsed .el-menu-item{overflow:hidden;height:0}.container-aside .container-aside__menu:not(.el-menu--collapse){width:200px;min-height:400px}@media(max-width:900px){.container-aside{display:none}}","",{version:3,sources:["webpack://./src/views/main/MainContainer.vue","webpack://./node_modules/projuris-acordos-theme/src/common/colors.scss"],names:[],mappings:"AAGA,eACE,UAAA,CAIA,mCACE,YAAA,CAIJ,4CACE,YAAA,CAGF,iBACE,wBCNgB,CDOhB,yCAAA,CACA,SAAA,CACA,eAAA,CACA,YAAA,CACA,qBAAA,CAEA,wCACE,UAAA,CACA,WAAA,CACA,gBAAA,CACA,iBAAA,CAEA,uDACE,eAAA,CAGF,oDACE,WAAA,CACA,gBAAA,CACA,cAAA,CAIJ,uDACE,gBAAA,CACA,iBAAA,CACA,WAAA,CAGF,wCACE,MAAA,CACA,eAAA,CAIA,oEACE,wBC3CY,CD4CZ,iBAAA,CAEA,oFACE,wBC/CU,CDiDV,qGACE,aAAA,CACA,gBAAA,CAGF,gGACE,4BAAA,CAGF,8FACE,6CAAA,CACA,gCAAA,CAGF,0FACE,6CAAA,CAIJ,mFACE,YAAA,CACA,iBAAA,CACA,OAAA,CACA,SAAA,CACA,WAAA,CACA,UAAA,CACA,sBAAA,CAEA,0GACE,SAAA,CACA,cAAA,CACA,WAAA,CACA,UAAA,CACA,WAAA,CACA,wBAAA,CACA,4BAAA,CAEA,8GACE,WAAA,CACA,UAAA,CACA,gBAAA,CAKN,0EACE,wBC/FU,CDkGR,gHACE,aAAA,CAMR,sDACE,kBAAA,CAIA,uFACE,eAAA,CACA,QAAA,CAKN,gEACE,WAAA,CACA,gBAAA,CAIJ,wBACE,iBACE,YAAA,CAAA",sourcesContent:["\n@import '~projuris-acordos-theme/src/common/colors.scss';\n\n.terms-confirm {\n  width: 50vw;\n}\n\n.el-container.is-vertical {\n  .el-main {\n    display: flex;\n  }\n}\n\n.el-submenu__icon-arrow.el-icon-arrow-right {\n  display: none;\n}\n\n.container-aside {\n  background-color: $--pj-color-blue;\n  box-shadow: 0 4px 24px 0 rgba(37, 38, 94, 0.1);\n  z-index: 2;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n\n  .container-aside__logo {\n    width: 58px;\n    height: auto;\n    padding: 9px 18px;\n    text-align: center;\n\n    &.has-ghost-mode {\n      padding-top: 8px;\n    }\n\n    .ghost-mode {\n      height: 16px;\n      margin-left: -4px;\n      cursor: pointer;\n    }\n  }\n\n  .container-aside__workspace-type-icon {\n    filter: invert(1);\n    margin: 0 auto 8px;\n    cursor: help;\n  }\n\n  .container-aside__team {\n    flex: 1;\n    overflow: hidden;\n  }\n\n  .container-aside__menu {\n    .container-aside__menu-item {\n      background-color: $--pj-color-blue;\n      position: relative;\n\n      li.el-menu-item {\n        background-color: $--pj-color-blue;\n\n        .menu-item__icon {\n          width: 1.75rem;\n          filter: invert(1);\n        }\n\n        .el-tooltip {\n          background-color: transparent;\n        }\n\n        &.is-active {\n          background-color: rgba(255,255,255,.2) !important;\n          border-left-color: $--color-white !important;\n        }\n\n        &:hover {\n          background-color: rgba(255,255,255,.2) !important;\n        }\n      }\n\n      .menu-item-pin {\n        display: flex;\n        position: absolute;\n        top: 2px;\n        right: 2px;\n        height: 12px;\n        width: 12px;\n        box-sizing: content-box;\n\n        .menu-item-pin__button {\n          padding: 0;\n          cursor: pointer;\n          height: 12px;\n          width: 12px;\n          border: none;\n          background-color: #ff9300;\n          background-color: transparent;\n\n          img {\n            height: 12px;\n            width: 12px;\n            filter: invert(1);\n          }\n        }\n      }\n\n      &:hover {\n        background-color: $--pj-color-blue;\n\n        .menu-item-pin {\n          .menu-item-pin__button {\n            display: block;\n          }\n        }\n      }\n    }\n\n    .el-menu-item {\n      transition: all 0.3s;\n    }\n\n    &.container-aside__menu--collapsed {\n      .el-menu-item {\n        overflow: hidden;\n        height: 0;\n      }\n    }\n  }\n\n  .container-aside__menu:not(.el-menu--collapse) {\n    width: 200px;\n    min-height: 400px;\n  }\n}\n\n@media (max-width: 900px) {\n  .container-aside {\n    display: none;\n  }\n}\n","/* Colors\n-------------------------- */\n\n$--color-white: #fff !default;\n$--color-black: #424242 !default;\n$--color-gray: #979797 !default;\n$--color-gray-light-1: mix($--color-white, $--color-gray, 10%) !default;\n$--color-light-gray: #f3f4f5 !default;\n$--color-whatsapp: #075E54 !default;\n\n$--pj-color-darker-blue: #0A0022 !default;\n$--pj-color-dark-blue: #280BA0 !default;\n$--pj-color-blue: #0756e4 !default;\n$--pj-color-light-blue: #018EF0 !default;\n$--pj-color-lighter-blue: #30A9FB !default;\n$--pj-color-white-blue: #F0F9FE !default;\n$--pj-color-disabled-blue: #9ad2f9 !default;\n\n$-pg-color-overlay: #19415F !default;\n\n$--pj-color-red: #CC4148 !default;\n$--pj-color-light-red: #EC767C !default;\n$--pj-color-disable-red: #FFF2F3 !default;\n\n$--color-primary: $--pj-color-blue !default;\n$--color-primary-light-1: mix($--color-white, $--color-primary, 10%) !default;\n$--color-primary-light-2: mix($--color-white, $--color-primary, 20%) !default;\n$--color-primary-light-3: mix($--color-white, $--color-primary, 30%) !default;\n$--color-primary-light-4: mix($--color-white, $--color-primary, 40%) !default;\n$--color-primary-light-5: mix($--color-white, $--color-primary, 50%) !default;\n$--color-primary-light-6: mix($--color-white, $--color-primary, 60%) !default;\n$--color-primary-light-7: mix($--color-white, $--color-primary, 70%) !default;\n$--color-primary-light-8: mix($--color-white, $--color-primary, 80%) !default;\n$--color-primary-light-9: mix($--color-white, $--color-primary, 90%) !default;\n\n$--color-secondary: $--pj-color-light-blue !default;\n$--color-secondary-light-1: mix($--color-white, $--color-secondary, 10%) !default;\n$--color-secondary-light-2: mix($--color-white, $--color-secondary, 20%) !default;\n$--color-secondary-light-3: mix($--color-white, $--color-secondary, 30%) !default;\n$--color-secondary-light-4: mix($--color-white, $--color-secondary, 40%) !default;\n$--color-secondary-light-5: mix($--color-white, $--color-secondary, 50%) !default;\n$--color-secondary-light-6: mix($--color-white, $--color-secondary, 60%) !default;\n$--color-secondary-light-7: mix($--color-white, $--color-secondary, 70%) !default;\n$--color-secondary-light-8: mix($--color-white, $--color-secondary, 80%) !default;\n$--color-secondary-light-9: mix($--color-white, $--color-secondary, 90%) !default;\n\n$--color-primary-dark: $--pj-color-dark-blue !default;\n$--color-success: #14CC30 !default;\n$--color-warning: #FFC900 !default;\n$--color-danger: #FF4B54 !default;\n$--color-info: #2FBBEC !default;\n\n$--color-success-light-1: mix($--color-white, $--color-success, 10%) !default;\n$--color-success-light-5: mix($--color-white, $--color-success, 50%) !default;\n$--color-warning-light-5: mix($--color-white, $--color-warning, 50%) !default;\n$--color-danger-light-5: mix($--color-white, $--color-danger, 50%) !default;\n$--color-danger-light-3: mix($--color-white, $--color-danger, 30%) !default;\n$--color-info-light-5: mix($--color-white, $--color-info, 50%) !default;\n\n$--color-success-light: mix($--color-white, $--color-success, 80%) !default;\n$--color-warning-light: mix($--color-white, $--color-warning, 80%) !default;\n$--color-danger-light: mix($--color-white, $--color-danger, 80%) !default;\n$--color-info-light: mix($--color-white, $--color-info, 80%) !default;\n\n$--color-success-lighter: mix($--color-white, $--color-success, 90%) !default;\n$--color-warning-lighter: mix($--color-white, $--color-warning, 90%) !default;\n$--color-danger-lighter: mix($--color-white, $--color-danger, 90%) !default;\n$--color-info-lighter: mix($--color-white, $--color-info, 90%) !default;\n\n$--color-text-primary: $--color-black !default;\n$--color-text-secondary: $--color-gray !default;\n\n$--color-nps-promoter: #14CC30 !default;\n$--color-nps-neutral: #979797 !default;\n$--color-nps-detractor: #FF4B54 !default;\n\n$--color-negotiator-bg: #9461f74f !default;\n$--color-email-bg: $--color-info-light !default;\n$--color-whatsapp-bg: $--color-success-light-5 !default;"],sourceRoot:""}]),i["default"]=a},9159:function(e,i,o){var t=o(88017);t.__esModule&&(t=t.default),"string"===typeof t&&(t=[[e.id,t,""]]),t.locals&&(e.exports=t.locals);var n=o(39185).Z;n("a9ddd064",t,!0,{sourceMap:!0,shadowMode:!1})}}]);
//# sourceMappingURL=mainContainer.js.map