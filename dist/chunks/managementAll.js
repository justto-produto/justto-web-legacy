(self["webpackChunk_projuris_justto_web"]=self["webpackChunk_projuris_justto_web"]||[]).push([[2251],{3434:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return h}});var a=function(){var e=this,t=e._self._c;return t("jus-view-main",{staticClass:"view-management",attrs:{"loading-main":e.loadingDisputes}},[t("template",{slot:"main"},[t("management-actions",{attrs:{"active-tab":e.activeTab,"selected-ids":e.selectedIds},on:{"update:selectedIds":function(t){e.selectedIds=t},"update:selected-ids":function(t){e.selectedIds=t},"disputes:clear":e.clearSelection}}),t("div",{staticClass:"view-management__filters"},[e.isManagementAll?t("span",{staticClass:"view-management__title"},[e._v(" Todas as disputas ")]):t("el-tabs",{ref:"disputeTabs",staticClass:"view-management__tabs",attrs:{"before-leave":e.handleChangeTab},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[e.isJusttoAdmin||e.workspaceProperties.PRE_NEGOTIATION?t("el-tab-pane",{attrs:{name:"0"}},[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" Pré-Negociação "),t("el-badge",{staticClass:"el-badge--absolute",attrs:{hidden:!e.preNegotiationLenght,value:e.preNegotiationLenght,max:99,"data-testid":"badge-tab-1",type:"primary"}})],1)]):e._e(),t("el-tab-pane",{attrs:{name:"1"}},[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" Sem resposta "),t("el-badge",{staticClass:"el-badge--absolute",attrs:{hidden:!e.engagementLength,value:e.engagementLength,max:99,"data-testid":"badge-tab0",type:"primary"}})],1)]),t("el-tab-pane",{attrs:{name:"2"}},[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" Em negociação "),t("el-badge",{staticClass:"el-badge--absolute",attrs:{hidden:!e.interactionLength,value:e.interactionLength,max:99,"data-testid":"badge-tab1",type:"primary"}})],1)]),t("el-tab-pane",{attrs:{name:"3"}},[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" Proposta aceita "),t("el-badge",{staticClass:"el-badge--absolute",attrs:{hidden:!e.newDealsLength,value:e.newDealsLength,max:99,"data-testid":"badge-tab2",type:"primary"}})],1)]),t("el-tab-pane",{attrs:{name:"4"}},[t("span",{style:e.finishedLenght?e.finishedLenght>99?"padding-right: 38px;":e.finishedLenght>9?"padding-right: 30px;":"padding-right: 22px;":"",attrs:{slot:"label"},slot:"label"},[e._v(" Finalizados "),t("el-badge",{staticClass:"el-badge--absolute",attrs:{hidden:!e.finishedLenght,value:e.finishedLenght,max:99,"data-testid":"badge-tab3",type:"primary"}})],1)])],1),t("div",{staticClass:"view-management__buttons"},[t("JusFilterButton",{ref:"JusFilterButton",on:{getDisputes:e.getDisputes}}),t("el-select",{staticClass:"view-management__buttons-select",attrs:{"filter-method":e.ufSearch,multiple:"",filterable:"","collapse-tags":"",placeholder:"UF"},on:{change:e.setUfFilter},model:{value:e.ufFilterValue,callback:function(t){e.ufFilterValue=t},expression:"ufFilterValue"}},e._l(e.filteredBrazilianStates,(function(i){return t("el-option",{key:i.value,attrs:{label:i.value,value:i.value}},[t("span",[e._v(e._s(i.name))]),t("span",{staticClass:"view-management__select-options"},[e._v(e._s(i.value))])])})),1),t("el-tooltip",{attrs:{content:"Filtrar disputas"}},[t("el-button",{staticClass:"view-management__buttons-button",attrs:{type:e.hasFilters?"primary":"secondary"},on:{click:e.showManagementFilters}},[t("jus-icon",{attrs:{"is-white":e.hasFilters,"is-active":!e.hasFilters,icon:"filter","data-testid":"management-filterbtn"}})],1)],1),t("el-tooltip",{attrs:{content:"Importar disputas"}},[t("el-button",{staticClass:"view-management__buttons-button",attrs:{type:"secondary"},on:{click:e.showImportDialog}},[t("jus-icon",{attrs:{icon:"upload-file",size:"16px","is-active":""}})],1)],1),t("el-tooltip",{attrs:{content:"Exportar"}},[t("el-button",{staticClass:"view-management__buttons-button",attrs:{disabled:0===e.disputes.length,type:"secondary",icon:"el-icon-download","data-testid":"export-disputes"},on:{click:e.showExportDisputesDialog}})],1),t("jus-import-dialog",{attrs:{"dialog-visible":e.importDialogVisible},on:{"update:dialogVisible":function(t){e.importDialogVisible=t},"update:dialog-visible":function(t){e.importDialogVisible=t}}})],1)],1),t("ManagementFilters",{ref:"managementFilters",attrs:{"tab-index":e.activeTab}}),t("div",{staticStyle:{"min-height":"44px",position:"relative"}},[t("management-prescriptions",{attrs:{"active-tab":e.activeTab},on:{"management:getDisputes":e.getDisputes}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.disputesTotalLength,expression:"disputesTotalLength"}],staticStyle:{right:"0px",position:"absolute",top:"13px"}},[e._v(" Exibindo "+e._s(e.disputes.length)+" de "+e._s(e.disputesTotalLength)+" disputa"),t("span",{directives:[{name:"show",rawName:"v-show",value:e.disputesTotalLength>1,expression:"disputesTotalLength > 1"}]},[e._v("s")])])],1),t("management-table",{ref:"managementTable",attrs:{"active-tab":e.activeTab,"selected-ids":e.selectedIds,"loading-disputes":e.loadingDisputes},on:{"update:activeTab":function(t){e.activeTab=t},"update:active-tab":function(t){e.activeTab=t},"update:selectedIds":function(t){e.selectedIds=t},"update:selected-ids":function(t){e.selectedIds=t},"update:loadingDisputes":function(t){e.loadingDisputes=t},"update:loading-disputes":function(t){e.loadingDisputes=t},getDisputes:e.getDisputes,"search:lawyer":e.filterLawyer}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.hasNew,expression:"hasNew"}],staticClass:"el-notification info right",staticStyle:{bottom:"100px","z-index":"1980"}},[t("i",{staticClass:"el-notification__icon el-icon-info"}),t("div",{staticClass:"el-notification__group is-with-icon"},[t("h2",{staticClass:"el-notification__title"},[e._v(" Há atualizações nas"),t("br"),e._v("disputas ")]),t("div",{staticClass:"el-notification__content"},[t("a",{on:{click:function(t){return t.preventDefault(),e.getDisputes.apply(null,arguments)}}},[e._v("Clique aqui para recarregar")])]),t("div",{staticClass:"el-notification__closeBtn el-icon-close",on:{click:function(t){return e.$store.commit("disputeSetHasNew",!1)}}})])]),t("el-dialog",{staticClass:"view-management__export-dialog",attrs:{"close-on-click-modal":!1,visible:e.exportDisputesDialog,"show-close":!1,"append-to-body":"",title:"Exportação",width:"50%"},on:{"update:visible":function(t){e.exportDisputesDialog=t}}},[t("div",{staticClass:"view-management__export-dialog-titles"},[t("span",{staticClass:"view-management__export-dialog-title"},[e._v("Historico de exportações")]),t("p",{staticClass:"view-management__export-dialog-subtitle"},[e._v(" Acompanhe o andamento de suas solicitações: ")])]),t("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.scrollLoading,expression:"scrollLoading"}],staticClass:"view-management__export-dialog-card",attrs:{shadow:"never"}},[t("el-table",{staticClass:"view-management__export-dialog-table",attrs:{data:e.exportHistory.content,"row-class-name":e.exportHistoryRowClass,height:"150","empty-text":"Você ainda não realizou exportações..."}},[t("el-table-column",{attrs:{label:"Situação",align:"center","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-tooltip",{attrs:{disabled:"QUEUE"===!e.exportSituation(i.row),content:e.buildSituationTooltip(i.row)}},[t("span",[i.row.error?t("i",{staticClass:"el-icon-warning"}):e._e(),e._v(" "+e._s(e.$t(`dispute.export.${e.exportSituation(i.row)}`).toUpperCase())+" ")])])]}}])}),t("el-table-column",{attrs:{label:"Requisição",align:"center","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",[e._v(e._s(e.exportDateTime(i.row.requestedAt)))])]}}])}),t("el-table-column",{attrs:{label:"Conclusão",align:"center","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(i){return["QUEUE"===e.exportSituation(i.row)?t("jus-icon",{attrs:{icon:"clock"}}):e._e(),"PROCESSING"===e.exportSituation(i.row)?t("JusLoader",{attrs:{color:"warning"}}):e._e(),["FINISHED","FAILED"].includes(e.exportSituation(i.row))?t("span",[e._v(" "+e._s(e.exportDateTime(i.row.exportFinishedAt))+" ")]):e._e()]}}])}),t("el-table-column",{attrs:{width:"40",align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){return["FINISHED"===e.exportSituation(i.row)?t("el-tooltip",{attrs:{content:"Baixar relatório"}},[t("a",{attrs:{href:i.row.httpUrl,target:"_blank"}},[t("jus-icon",{staticClass:"view-management__export-dialog-table-icon",attrs:{icon:"download-sheet"}})],1)]):e._e()]}}])}),t("JusScrollLoading",{attrs:{slot:"append",loading:e.scrollLoading,target:".view-management__export-dialog-table>.el-table__body-wrapper",ended:e.exportHistory.last,empty:!(e.exportHistory.content&&e.exportHistory.content.length>0),"empty-text":"Fim do historico","end-text":"Fim do historico"},on:{"update:loading":function(t){e.scrollLoading=t},load:e.infiniteHandler},slot:"append"})],1)],1),t("div",{staticClass:"view-management__export-dialog-titles"},[t("span",{staticClass:"view-management__export-dialog-title"},[e._v(" Nova exportação "),t("el-button",{attrs:{plain:"",size:"mini"},on:{click:e.changeExportType}},[e._v(" "+e._s(e.isExportingProtocol?"Exportar disputas":"Exportar minutas")+" ")])],1),t("p",{staticClass:"view-management__export-dialog-subtitle"},[e._v(" "+e._s(e.isExportingProtocol?"Exporte as minutas para o seu email":"Selecione e ordene as colunas desejadas para exportação:")+" ")])]),t("el-card",{directives:[{name:"show",rawName:"v-show",value:e.isExportingProtocol,expression:"isExportingProtocol"}],staticClass:"view-management__export-dialog-card",attrs:{shadow:"never"}},[t("div",{staticClass:"view-management__dialog-card-container"},[t("span",{staticClass:"view-management__export-dialog-title"},[e._v("Exportar minuta")]),t("p",[e._v("Os documentos serão enviadas para seu email assim que estiverem prontos")])])]),t("el-card",{directives:[{name:"show",rawName:"v-show",value:!e.isExportingProtocol,expression:"!isExportingProtocol"}],staticClass:"view-management__export-dialog-card",attrs:{shadow:"never"}},[t("div",{staticClass:"view-management__export-dialog-options"},[t("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.invertSelectionColumns},model:{value:e.isSelectedAllColumns,callback:function(t){e.isSelectedAllColumns=t},expression:"isSelectedAllColumns"}},[e._v(" Nome do campo ("+e._s(e.filteredCountCheckeds)+" de "+e._s(e.countTreeItems)+") ")]),t("el-input",{attrs:{size:"small",placeholder:"Buscar","prefix-icon":"el-icon-search",clearable:""},model:{value:e.filterQuery,callback:function(t){e.filterQuery=t},expression:"filterQuery"}})],1),t("el-tree",{ref:"tree",attrs:{data:e.columns,"allow-drop":e.allowDrop,"filter-node-method":e.filterColumns,"node-key":"key",draggable:"","show-checkbox":""},on:{check:e.handlerChangeTree,"node-drag-end":e.nodeDragEnd},scopedSlots:e._u([{key:"default",fn:function({node:i}){return t("span",{staticClass:"custom-tree-node"},[t("span",[e._v(e._s(e._f("capitalize")(i.label)))]),t("jus-icon",{staticClass:"drag-icon",attrs:{icon:"menu-hamburger"}})],1)}}])}),t("a",{staticClass:"view-management__export-dialog-link",on:{click:e.showAllNodesHandler}},[e._v(" "+e._s(e.showAllNodesButton)+" ")])],1),t("span",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{disabled:e.loadingExport,plain:""},on:{click:function(t){e.exportDisputesDialog=!1}}},[e._v(" Cancelar ")]),t("el-button",{attrs:{loading:e.loadingExport,type:"primary"},on:{click:function(t){return t.preventDefault(),e.handleExportReports.apply(null,arguments)}}},[e._v(" Exportar e enviar para email ")])],1)],1)],1)],2)},o=[],n=(i(57658),i(40917)),s=i(90408),r=i(51579),l=i.n(r),c=i(32715);const d=["DISPUTE_CODE","EXTERNAL_ID","FIRST_CLAIMANT","LAWYER_PARTY_NAMES","RESPONDENT_NAMES","UPPER_RANGE","UPPER_RANGE_SAVING_VALUE","STATUS","CLASSIFICATION","DESCRIPTION"];var p={name:"Management",components:{JusScrollLoading:()=>i.e(4289).then(i.bind(i,24289)),ManagementFilters:()=>i.e(9716).then(i.bind(i,49716)),ManagementTable:()=>i.e(8802).then(i.bind(i,78802)),ManagementActions:()=>Promise.all([i.e(5873),i.e(4382)]).then(i.bind(i,54382)),ManagementPrescriptions:()=>i.e(836).then(i.bind(i,60836)),JusImportDialog:()=>i.e(3781).then(i.bind(i,53781)),JusFilterButton:()=>i.e(5210).then(i.bind(i,35210)),JusLoader:()=>i.e(2514).then(i.bind(i,22514))},inject:{isTicket:{default:!1}},data(){return{loadingExport:!1,termDebounce:()=>{},ufDebounce:()=>{},disputeDebounce:"",importDialogVisible:!1,exportDisputesDialog:!1,checkedNodes:0,filterQuery:"",filteredNodes:{},columnsList:[],showAllNodes:!1,isExportingProtocol:!1,filteredBrazilianStates:[],ufFilterValue:[],exportedColumns:[],scrollLoading:!1}},computed:{...(0,s.Se)({brazilianStates:"brazilianStates",disputes:"disputes",engagementLength:"disputeNearExpirationsEngajement",interactionLength:"disputeNotVisualizedInteration",preNegotiationLenght:"disputeNotVisualizedPreNegotiation",isJusttoAdmin:"isJusttoAdmin",newDealsLength:"disputeNotVisualizedNewDeal",finishedLenght:"disputeNotVisualizedFinished",hasFilters:"disputeHasFilters",hasNew:"disputeHasNew",exportHistory:"exportHistory",loadingDisputes:"loadingDisputes",workspaceProperties:"workspaceProperties",getSelectedIds:"getSelectedIds",userProperties:"userProperties",hasPreventFiltres:"getDisputeHasPreventFiltres",workspaceId:"workspaceId"}),selectedIds:{get(){return this.getSelectedIds},set(e){this.setSelectedIds(e)}},columns(){let e=[];return e=this.exportedColumns.length&&!this.showAllNodes?this.exportedColumns:this.filterQuery?.length||this.showAllNodes?this.columnsList:this.columnsList.filter((e=>d.includes(e.key))),e},countTreeItems(){return(this.filterQuery?.length?this.filteredNodes:this.columns).length},filteredCountCheckeds(){return this.checkedNodes<=this.countTreeItems?this.checkedNodes:this.countTreeItems},showAllNodesButton(){return this.showAllNodes?"Exibir apenas apenas campos sugeridos":"Exibir mais opções de campos"},activeTab:{get(){return this.$store.getters.disputeTab},set(e){this.$store.commit("setDisputesTab",e),this.$emit("change:tab",e)}},disputesTotalLength(){return this.$store.getters.disputeQuery.total},persons(){return this.$store.state.disputeModule.query.persons},isManagementAll(){return"allDisputes"===this.$route.name},isIndeterminate(){return this.filteredCountCheckeds>0&&this.filteredCountCheckeds<this.countTreeItems},isSelectedAllColumns:{get(){return this.filteredCountCheckeds===this.countTreeItems},set(e){}}},watch:{persons(){this.getDisputes()},filterQuery(e,t){this.$refs.tree.filter(e),this.handlerChangeTree("",{checkedKeys:this.$refs.tree.getCheckedKeys()})}},beforeCreate(){this.$store.dispatch("resetRecipients"),this.$store.dispatch("getNotVisualizeds"),this.$store.dispatch("getNearExpirations")},mounted(){this.init(),this.$jusSegment("Acesso tela Gerenciamento",{}),n.YB.$on(c["default"].TICKET_NEXT_TAB.callback,this.handleNextTab),n.YB.$on(c["default"].TICKET_PREVIOUS_TAB.callback,this.handlePreviousTab),"DISPUTE"!==this.userProperties?.PREFERRED_INTERFACE&&this.setAccountProperty({PREFERRED_INTERFACE:"DISPUTE"})},beforeDestroy(){n.YB.$off(c["default"].TICKET_NEXT_TAB.callback,this.handleNextTab),n.YB.$off(c["default"].TICKET_PREVIOUS_TAB.callback,this.handlePreviousTab)},methods:{...(0,s.nv)(["setSelectedIds","exportDisputes","exportProtocols","getExportColumns","getExportHistory","getPrescriptions","getAccountProperty","setAccountProperty","getAllAccountProperties"]),...(0,s.OI)(["setDisputePreventFilters"]),handleNextTab(){const e=Number(this.activeTab);e<4&&(this.activeTab=String(e+1),this.handleChangeTab(this.activeTab))},handlePreviousTab(){const e=Number(this.activeTab);e>0&&(this.activeTab=String(e-1),this.handleChangeTab(this.activeTab))},init(){const e=this.$route.query;"allDisputes"===this.$route.name&&"9"!==this.$store.state.disputeModule.tab&&(this.$store.commit("setDisputesTab","9"),this.$store.commit("updateDisputeQuery",{key:"status",value:[]}),this.$store.commit("updateDisputeQuery",{key:"sort",value:["id,desc"]})),Object.keys(e).length&&(this.$store.commit("clearDisputeQuery"),this.$store.commit("addPrescription",e.prescription),this.$store.commit("updateDisputeQuery",{key:"status",value:e.status||[]}),this.$store.commit("updateDisputeQuery",{key:"startDate",value:e.startDate}),this.$store.commit("updateDisputeQuery",{key:"finishDate",value:e.finishDate}),this.$store.commit("updateDisputeQuery",{key:"transactionType",value:e.transactionType}),this.$store.commit("setDisputeHasFilters",e.disputeHasFilters),this.$store.commit("setDisputesTab",e.disputeTab)),this.getDisputes(),this.getPrescriptions(),this.getExportColumns().then((e=>{Object.keys(e).forEach((t=>{this.columnsList.push({key:t,label:e[t]})}))})).finally((()=>{this.filteredNodes=this.columns,this.checkedNodes=this.columns.length})),this.filteredBrazilianStates=this.brazilianStates},showManagementFilters(){this.$refs.managementFilters.openDialog()},ufSearch(e){this.filteredBrazilianStates=(0,n.FO)(e,this.brazilianStates,"name","value")},setUfFilter(e){clearTimeout(this.ufDebounce),this.ufDebounce=setTimeout((()=>{this.$jusSegment("Filtro por estado aplicado",{description:`Estados selecionados: ${e}`}),this.$store.commit("updateDisputeQuery",{key:"uf",value:e}),this.getDisputes()}),800)},changeExportType(){this.isExportingProtocol=!this.isExportingProtocol},showAllNodesHandler(){this.showAllNodes=!this.showAllNodes},filterColumns(e,t){this.filteredNodes=(0,n.FO)(e,this.columns,"label");const i=this.filteredNodes.map((({key:e})=>e)),a=this.$refs.tree.getCheckedKeys().filter((e=>i.includes(e)));return this.handlerChangeTree("",{checkedKeys:a}),!(e||!this.showAllNodes)||-1!==t.label.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").indexOf(e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))},handlerChangeTree(e,{checkedKeys:t}){setTimeout(function(){this.filterQuery?.length?this.checkedNodes=this.filteredNodes.filter((({key:e})=>t.includes(e))).length:this.checkedNodes=t.length}.bind(this),200)},invertSelectionColumns(e){setTimeout((()=>{const{tree:t}=this.$refs,i=t.data.map((({key:e})=>e)),a=this.filteredNodes.map((({key:e})=>e)),o=t.getCheckedKeys();let n=[];n=e?this.filterQuery?.length?l().uniq([...a,...o]):i:this.filterQuery?.length?o.filter((e=>!a.includes(e))):[],t.setCheckedKeys(n),this.handlerChangeTree("",{checkedKeys:n})}),250)},nodeDragEnd(e,t,i,a){setTimeout((()=>{this.$refs.tree.setChecked(e.data.key,e.checked)}),100)},allowDrop(e,t,i){return"prev"===i},getDisputes(){clearTimeout(this.disputeDebounce),this.disputeDebounce=setTimeout((()=>(this.$store.dispatch("getFilteredTags"),this.$store.dispatch("getDisputes","resetPages").catch((e=>{this.$store.getters.isLoggedIn&&this.$jusNotification({error:e})})).finally((()=>{this.$nextTick((()=>{const e=this.$el.querySelector(".el-table__body-wrapper");e&&(e.scrollTop=0)})),this.$refs.managementTable&&(this.$refs.managementTable.disputeKey+=1)})))),300)},clearSelection(){this.$refs.managementTable.clearSelection()},handleChangeTab(e){if(this.$refs.managementTable&&(this.$refs.managementTable.clearHighlight(),this.$refs.managementTable.showEmpty=!1),this.hasPreventFiltres)this.setDisputePreventFilters(!1);else switch(this.setDisputePreventFilters(!1),this.ufFilterValue=[],this.$store.commit("clearDisputes"),this.$store.commit("clearDisputeQueryByTab"),this.$store.commit("setDisputeHasFilters",!1),this.$jusSegment(`Navegação na aba ${this.$t("tab."+e).toUpperCase()} do Gerenciamento`),e){case"0":this.$store.commit("updateDisputeQuery",{key:"status",value:["PRE_NEGOTIATION"]}),this.$store.commit("updateDisputeQuery",{key:"sort",value:["expirationDate,asc"]});break;case"1":this.$store.commit("updateDisputeQuery",{key:"status",value:["IMPORTED","ENRICHED","ENGAGEMENT","PENDING"]}),this.$store.commit("updateDisputeQuery",{key:"sort",value:["expirationDate,asc"]});break;case"2":this.$store.commit("updateDisputeQuery",{key:"status",value:["RUNNING"]}),this.$store.commit("updateDisputeQuery",{key:"sort",value:["visualized,asc","lastInboundInteraction.createdAt,desc","expirationDate,asc"]});break;case"3":this.$store.commit("updateDisputeQuery",{key:"status",value:["ACCEPTED","CHECKOUT"]}),this.$store.commit("updateDisputeQuery",{key:"sort",value:["visualized,asc","conclusionDate,asc"]});break;case"4":this.$store.commit("addPrescription","NEWLY_FINISHED"),this.$store.commit("updateDisputeQuery",{key:"status",value:[]}),this.$store.commit("updateDisputeQuery",{key:"sort",value:["visualized,asc","conclusionDate,asc","lastReceivedMessage,asc"]});break;default:this.$store.commit("updateDisputeQuery",{key:"status",value:[]}),this.$store.commit("updateDisputeQuery",{key:"sort",value:["id,desc"]})}this.getDisputes()},showExportDisputesDialog(){this.exportDisputesDialog=!0,this.getAllAccountProperties().then((e=>{const t=Object.keys(e).includes(`JUS_EXPORT_COLUMNS_${this.workspaceId}`)?`JUS_EXPORT_COLUMNS_${this.workspaceId}`:"JUS_EXPORT_COLUMNS";if(Object.keys(e).includes(t)){const i=e[t].split(",");this.exportedColumns=this.columnsList.filter((e=>i.includes(e.key))),this.$nextTick((()=>{this.$refs.tree.setCheckedKeys(i),this.checkedNodes=i.length}))}else this.$refs.tree.setCheckedKeys(this.columns.map((e=>e.key)))})),this.getExportHistory(),this.$nextTick((()=>{this.handlerChangeTree("",{checkedKeys:this.$refs.tree.getCheckedKeys()})}))},handleExportReports(){const e=this.isExportingProtocol?this.exportProtocols():this.exportDisputes(this.$refs.tree.getCheckedKeys());this.loadingExport=!0,e.then((()=>{this.$jusSegment(this.isExportingProtocol?"Exportar minutas":"Exportar disputas"),this.$alert("Solicitação realizada com sucesso, por favor aguarde nosso email com seu relatório","Exportação de relatórios",{confirmButtonText:"Ok"})})).catch((e=>{this.$jusNotification({error:e})})).finally((()=>{this.loadingExport=!1,this.exportDisputesDialog=!1}))},exportSituation(e){return e.error?"FAILED":e.exportFinishedAt?"FINISHED":e.exportStartedAt?"PROCESSING":"QUEUE"},exportDateTime(e){return this.$moment(1e3*e).format("DD/MM/YYYY | HH:mm")},buildSituationTooltip(e){return"FAILED"===this.exportSituation(e)?`Exportação iniciada em: ${this.exportDateTime(e.exportStartedAt)} <br> Falha na exportação: ${e.error} <br> `:"QUEUE"===this.exportSituation(e)?"A exportação está na fila e será iniciada em breve":`Exportação iniciada em: ${this.exportDateTime(e.exportStartedAt)}`},exportHistoryRowClass({row:e}){switch(this.exportSituation(e)){case"FAILED":return"failed-row";case"FINISHED":return"finished-row";case"PROCESSING":return"processing-row";case"QUEUE":return"queue-row"}},infiniteHandler(e){this.getExportHistory("isInfinit").then(e)},showImportDialog(){this.$jusSegment("Botão importação rápida"),this.importDialogVisible=!0},filterLawyer({lawyer:e}){this.$refs.JusFilterButton.toggle(),this.$store.commit("updateDisputeQuery",{key:"term",value:e})}}},u=p,m=(i(54788),i(1001)),g=(0,m.Z)(u,a,o,!1,null,null,null),h=g.exports},77041:function(e,t,i){"use strict";i.r(t);var a=i(87537),o=i.n(a),n=i(23645),s=i.n(n),r=s()(o());r.push([e.id,".view-management .view-management__title{height:40px;margin-bottom:15px;line-height:40px;font-size:20px;font-weight:500;color:#424242}.view-management__filters{display:flex;justify-content:space-between}.view-management__buttons{display:flex}.view-management__buttons.show-menu-space{margin-right:40px}.view-management__buttons .view-management__buttons-button{height:40px}.view-management__buttons .view-management__buttons-select{margin:0 8px;width:108px}.view-management__buttons .view-management__buttons-select .el-input{width:108px}.view-management__buttons .view-management__buttons-select .el-select__tags{max-width:88px!important}.view-management__buttons .view-management__buttons-select .el-select__tags .el-tag:first-child{padding:0 0 0 4px}.view-management__buttons .view-management__buttons-select .el-select__tags .el-tag:first-child .el-tag__close{right:0}.view-management__buttons .view-management__buttons-select .el-select__tags .el-tag:last-child{padding:0 4px;margin-left:4px}.view-management__buttons .view-management__buttons-select .el-select__tags .el-select__input{max-width:20px!important;margin-left:8px!important}.view-management__buttons img{margin:-3px 0;width:14px}.view-management .jus-main-view__main-card .el-card__body{display:flex;flex-direction:column;height:100%;position:relative}.view-management .el-pagination{text-align:center;margin-top:10px}.view-management__export-dialog .custom-tree-node{width:100%}.view-management__export-dialog .custom-tree-node .drag-icon{z-index:-99;width:18px;float:right;margin-right:20px;cursor:grab}.view-management__export-dialog .view-management__export-dialog-table-icon{width:14px}.view-management__export-dialog .view-management__export-dialog-titles{color:#979797;margin-top:24px}.view-management__export-dialog .view-management__export-dialog-titles .view-management__export-dialog-title{font-size:20px;font-weight:700;display:flex;align-items:center;justify-content:space-between}.view-management__export-dialog .view-management__export-dialog-titles .view-management__export-dialog-subtitle{margin:8px 16px}.view-management__export-dialog .view-management__export-dialog-titles:last-child{margin-top:0}.view-management__export-dialog .view-management__export-dialog-options{background-color:#fff;margin-bottom:4px;position:sticky;height:42px;top:0;padding-top:12px;z-index:99;display:flex;align-items:center;justify-content:space-between}.view-management__export-dialog .view-management__export-dialog-options .el-input{width:200px;margin-right:10px}.view-management__export-dialog .view-management__export-dialog-options .el-checkbox{font-weight:500}.view-management__export-dialog .view-management__export-dialog-options .el-checkbox__label{color:#424242!important}.view-management__export-dialog .view-management__export-dialog-link{display:block;margin-top:8px}.view-management__export-dialog .view-management__export-dialog-card{overflow:auto}.view-management__export-dialog .view-management__export-dialog-card .view-management__dialog-card-container{height:332px;display:flex;align-items:center;justify-content:center;flex-direction:column;color:#979797;text-align:center}.view-management__export-dialog .view-management__export-dialog-card .view-management__dialog-card-container .view-management__export-dialog-title{font-size:20px;font-weight:700;margin-top:16px}.view-management__export-dialog .view-management__export-dialog-card .el-card__body{padding:0 16px 16px 16px;max-height:348px;overflow:auto}.view-management__export-dialog .view-management__export-dialog-card .el-tree-node__expand-icon.is-leaf{display:none}@media(max-height:780px){.view-management .view-management__tabs .el-tabs__header{margin:0 0 8px}}.view-management__select-options{float:right;color:#8492a6;margin:0 16px 0 8px}.el-table .finished-row{color:#14cc30;color:#28ac5c}.el-table .failed-row{color:#ff4b54}.el-table .processing-row{color:#ffc900}.el-table .queue-row{color:#424242}","",{version:3,sources:["webpack://./src/views/main/management/Management.vue","webpack://./node_modules/projuris-acordos-theme/src/common/colors.scss"],names:[],mappings:"AAIE,yCACE,WAAA,CACA,kBAAA,CACA,gBAAA,CACA,cAAA,CACA,eAAA,CACA,aCNY,CDQd,0BACE,YAAA,CACA,6BAAA,CAEF,0BACE,YAAA,CAEA,0CACE,iBAAA,CAGF,2DACE,WAAA,CAGF,2DACE,YAAA,CACA,WAAA,CAEA,qEACE,WAAA,CAGF,4EACE,wBAAA,CAEA,gGACE,iBAAA,CACA,+GAAA,OAAA,CAGF,+FACE,aAAA,CACA,eAAA,CAGF,8FACE,wBAAA,CACA,yBAAA,CAKN,8BACE,aAAA,CACA,UAAA,CAGJ,0DACE,YAAA,CACA,qBAAA,CACA,WAAA,CACA,iBAAA,CAEF,gCACE,iBAAA,CACA,eAAA,CAGA,kDACE,UAAA,CACA,6DACE,WAAA,CACA,UAAA,CACA,WAAA,CACA,iBAAA,CACA,WAAA,CAIJ,2EACE,UAAA,CAGF,uEACE,aClFS,CDmFT,eAAA,CAEA,6GACE,cAAA,CACA,eAAA,CACA,YAAA,CACA,kBAAA,CACA,6BAAA,CAGF,gHACE,eAAA,CAGF,kFACE,YAAA,CAIJ,wEACE,qBCzGU,CD0GV,iBAAA,CACA,eAAA,CACA,WAAA,CACA,KAAA,CACA,gBAAA,CACA,UAAA,CACA,YAAA,CACA,kBAAA,CACA,6BAAA,CAEA,kFACE,WAAA,CACA,iBAAA,CAGF,qFACE,eAAA,CACA,4FACE,uBAAA,CAKN,qEACE,aAAA,CACA,cAAA,CAGF,qEACE,aAAA,CAEA,6GACE,YAAA,CACA,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,qBAAA,CACA,aC7IO,CD8IP,iBAAA,CAEA,mJACE,cAAA,CACA,eAAA,CACA,eAAA,CAIJ,oFACE,wBAAA,CACA,gBAAA,CACA,aAAA,CAGF,wGACE,YAAA,CAOF,yBADF,yDAEI,cAAA,CAAA,CAOR,iCACE,WAAA,CACA,aAAA,CACA,mBAAA,CAIA,wBACE,aC3Ic,CD4Id,aAAA,CAEF,sBACE,aC7Ia,CD+If,0BACE,aCjJc,CDmJhB,qBACE,aChMY",sourcesContent:["\n@import '~projuris-acordos-theme/src/common/colors.scss';\n\n.view-management {\n  .view-management__title {\n    height: 40px;\n    margin-bottom: 15px;\n    line-height: 40px;\n    font-size: 20px;\n    font-weight: 500;\n    color: $--color-text-primary;\n  }\n  &__filters {\n    display: flex;\n    justify-content: space-between;\n  }\n  &__buttons {\n    display: flex;\n\n    &.show-menu-space {\n      margin-right: 40px;\n    }\n\n    .view-management__buttons-button {\n      height: 40px;\n    }\n\n    .view-management__buttons-select {\n      margin: 0 8px;\n      width: 108px;\n\n      .el-input {\n        width: 108px;\n      }\n\n      .el-select__tags {\n        max-width: 88px !important;\n\n        .el-tag:first-child {\n          padding: 0 0 0 4px;\n          .el-tag__close { right: 0; }\n        }\n\n        .el-tag:last-child {\n          padding: 0 4px;\n          margin-left: 4px;\n        }\n\n        .el-select__input {\n          max-width: 20px !important;\n          margin-left: 8px !important;\n        }\n      }\n    }\n\n    img {\n      margin: -3px 0px;\n      width: 14px;\n    }\n  }\n  .jus-main-view__main-card .el-card__body {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    position: relative;\n  }\n  .el-pagination {\n    text-align: center;\n    margin-top: 10px;\n  }\n  &__export-dialog {\n    .custom-tree-node {\n      width: 100%;\n      .drag-icon {\n        z-index: -99;\n        width: 18px;\n        float: right;\n        margin-right: 20px;\n        cursor: grab;\n      }\n    }\n\n    .view-management__export-dialog-table-icon {\n      width: 14px;\n    }\n\n    .view-management__export-dialog-titles {\n      color: $--color-text-secondary;\n      margin-top: 24px;\n\n      .view-management__export-dialog-title {\n        font-size: 20px;\n        font-weight: bold;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n      }\n\n      .view-management__export-dialog-subtitle {\n        margin: 8px 16px;\n      }\n\n      &:last-child {\n        margin-top: 0px;\n      }\n    }\n\n    .view-management__export-dialog-options {\n      background-color: $--color-white;\n      margin-bottom: 4px;\n      position: sticky;\n      height: 42px;\n      top: 0;\n      padding-top: 12px;\n      z-index: 99;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n\n      .el-input {\n        width: 200px;\n        margin-right: 10px;\n      }\n\n      .el-checkbox {\n        font-weight: 500;\n        &__label {\n          color: $--color-text-primary !important;\n        }\n      }\n    }\n\n    .view-management__export-dialog-link {\n      display: block;\n      margin-top: 8px;\n    }\n\n    .view-management__export-dialog-card {\n      overflow: auto;\n\n      .view-management__dialog-card-container {\n        height: 332px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex-direction: column;\n        color: $--color-text-secondary;\n        text-align: center;\n\n        .view-management__export-dialog-title {\n          font-size: 20px;\n          font-weight: bold;\n          margin-top: 16px;\n        }\n      }\n\n      .el-card__body {\n        padding: 0 16px 16px 16px;\n        max-height: 348px;\n        overflow: auto;\n      }\n\n      .el-tree-node__expand-icon.is-leaf {\n        display: none;\n      }\n    }\n  }\n\n  .view-management__tabs {\n    .el-tabs__header  {\n      @media (max-height: 780px) {\n        margin: 0 0 8px;\n      }\n    }\n  }\n\n}\n\n.view-management__select-options {\n  float: right;\n  color: #8492a6;\n  margin: 0 16px 0 8px\n}\n\n.el-table {\n  .finished-row {\n    color: $--color-success;\n    color: #28ac5c;\n  }\n  .failed-row {\n    color: $--color-danger;\n  }\n  .processing-row {\n    color: $--color-warning;\n  }\n  .queue-row {\n    color: $--color-text-primary;\n  }\n}\n","/* Colors\n-------------------------- */\n\n$--color-white: #fff !default;\n$--color-black: #424242 !default;\n$--color-gray: #979797 !default;\n$--color-gray-light-1: mix($--color-white, $--color-gray, 10%) !default;\n$--color-light-gray: #f3f4f5 !default;\n$--color-whatsapp: #075E54 !default;\n\n$--pj-color-darker-blue: #0A0022 !default;\n$--pj-color-dark-blue: #280BA0 !default;\n$--pj-color-blue: #0756e4 !default;\n$--pj-color-light-blue: #018EF0 !default;\n$--pj-color-lighter-blue: #30A9FB !default;\n$--pj-color-white-blue: #F0F9FE !default;\n$--pj-color-disabled-blue: #9ad2f9 !default;\n\n$-pg-color-overlay: #19415F !default;\n\n$--pj-color-red: #CC4148 !default;\n$--pj-color-light-red: #EC767C !default;\n$--pj-color-disable-red: #FFF2F3 !default;\n\n$--color-primary: $--pj-color-blue !default;\n$--color-primary-light-1: mix($--color-white, $--color-primary, 10%) !default;\n$--color-primary-light-2: mix($--color-white, $--color-primary, 20%) !default;\n$--color-primary-light-3: mix($--color-white, $--color-primary, 30%) !default;\n$--color-primary-light-4: mix($--color-white, $--color-primary, 40%) !default;\n$--color-primary-light-5: mix($--color-white, $--color-primary, 50%) !default;\n$--color-primary-light-6: mix($--color-white, $--color-primary, 60%) !default;\n$--color-primary-light-7: mix($--color-white, $--color-primary, 70%) !default;\n$--color-primary-light-8: mix($--color-white, $--color-primary, 80%) !default;\n$--color-primary-light-9: mix($--color-white, $--color-primary, 90%) !default;\n\n$--color-secondary: $--pj-color-light-blue !default;\n$--color-secondary-light-1: mix($--color-white, $--color-secondary, 10%) !default;\n$--color-secondary-light-2: mix($--color-white, $--color-secondary, 20%) !default;\n$--color-secondary-light-3: mix($--color-white, $--color-secondary, 30%) !default;\n$--color-secondary-light-4: mix($--color-white, $--color-secondary, 40%) !default;\n$--color-secondary-light-5: mix($--color-white, $--color-secondary, 50%) !default;\n$--color-secondary-light-6: mix($--color-white, $--color-secondary, 60%) !default;\n$--color-secondary-light-7: mix($--color-white, $--color-secondary, 70%) !default;\n$--color-secondary-light-8: mix($--color-white, $--color-secondary, 80%) !default;\n$--color-secondary-light-9: mix($--color-white, $--color-secondary, 90%) !default;\n\n$--color-primary-dark: $--pj-color-dark-blue !default;\n$--color-success: #14CC30 !default;\n$--color-warning: #FFC900 !default;\n$--color-danger: #FF4B54 !default;\n$--color-info: #2FBBEC !default;\n\n$--color-success-light-1: mix($--color-white, $--color-success, 10%) !default;\n$--color-success-light-5: mix($--color-white, $--color-success, 50%) !default;\n$--color-warning-light-5: mix($--color-white, $--color-warning, 50%) !default;\n$--color-danger-light-5: mix($--color-white, $--color-danger, 50%) !default;\n$--color-danger-light-3: mix($--color-white, $--color-danger, 30%) !default;\n$--color-info-light-5: mix($--color-white, $--color-info, 50%) !default;\n\n$--color-success-light: mix($--color-white, $--color-success, 80%) !default;\n$--color-warning-light: mix($--color-white, $--color-warning, 80%) !default;\n$--color-danger-light: mix($--color-white, $--color-danger, 80%) !default;\n$--color-info-light: mix($--color-white, $--color-info, 80%) !default;\n\n$--color-success-lighter: mix($--color-white, $--color-success, 90%) !default;\n$--color-warning-lighter: mix($--color-white, $--color-warning, 90%) !default;\n$--color-danger-lighter: mix($--color-white, $--color-danger, 90%) !default;\n$--color-info-lighter: mix($--color-white, $--color-info, 90%) !default;\n\n$--color-text-primary: $--color-black !default;\n$--color-text-secondary: $--color-gray !default;\n\n$--color-nps-promoter: #14CC30 !default;\n$--color-nps-neutral: #979797 !default;\n$--color-nps-detractor: #FF4B54 !default;\n\n$--color-negotiator-bg: #9461f74f !default;\n$--color-email-bg: $--color-info-light !default;\n$--color-whatsapp-bg: $--color-success-light-5 !default;"],sourceRoot:""}]),t["default"]=r},54788:function(e,t,i){var a=i(77041);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var o=i(39185).Z;o("a19df190",a,!0,{sourceMap:!0,shadowMode:!1})}}]);
//# sourceMappingURL=managementAll.js.map