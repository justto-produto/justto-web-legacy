{"version":3,"file":"chunks/newPassword.js","mappings":"sLAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,eAAe,CAACA,EAAG,WAAW,CAACE,YAAY,qBAAqBC,MAAM,CAAC,MAAQ,QAAQ,CAACH,EAAG,yBAAyB,GAAGA,EAAG,UAAU,CAACE,YAAY,kCAAkC,CAACF,EAAG,kBAAkB,CAACG,MAAM,CAAC,GAAK,YAAYH,EAAG,UAAU,CAACI,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOT,EAAIU,YAAaC,WAAW,gBAAgBC,IAAI,kBAAkBR,YAAY,sBAAsBC,MAAM,CAAC,MAAQL,EAAIa,gBAAgB,MAAQb,EAAIc,MAAM,iBAAiB,OAAOC,SAAS,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBjB,EAAIkB,WAAWC,MAAM,KAAMC,UAAU,IAAI,CAAClB,EAAG,KAAK,CAACE,YAAY,wBAAwB,CAACJ,EAAIqB,GAAG,kBAAkBnB,EAAG,WAAW,CAACI,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOT,EAAIsB,YAAaX,WAAW,gBAAgBN,MAAM,CAAC,KAAO,UAAU,YAAY,GAAG,MAAQ,GAAG,cAAc,wBAAwBkB,GAAG,CAAC,MAAQ,SAASP,GAAQhB,EAAIsB,aAAc,CAAK,IAAI,CAACpB,EAAG,WAAW,CAACsB,KAAK,UAAUxB,EAAIqB,GAAG,iCAAiCnB,EAAG,MAAMA,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,SAAS,cAAc,aAAa,CAACL,EAAIqB,GAAG,kCAAkC,GAAGnB,EAAG,WAAW,CAACI,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOT,EAAIyB,UAAWd,WAAW,cAAcN,MAAM,CAAC,KAAO,QAAQ,YAAY,GAAG,MAAQ,GAAG,cAAc,wBAAwBkB,GAAG,CAAC,MAAQ,SAASP,GAAQhB,EAAIyB,WAAY,CAAK,IAAI,CAACvB,EAAG,WAAW,CAACsB,KAAK,UAAUxB,EAAIqB,GAAG,wEAAwEnB,EAAG,MAAMA,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,mBAAmB,cAAc,cAAc,CAACL,EAAIqB,GAAG,2CAA2C,GAAGnB,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,QAAQ,KAAO,aAAa,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,WAAW,cAAc,gBAAgBqB,MAAM,CAACjB,MAAOT,EAAIa,gBAAgBc,SAAUC,SAAS,SAAUC,GAAM7B,EAAI8B,KAAK9B,EAAIa,gBAAiB,WAAYgB,EAAI,EAAElB,WAAW,+BAA+B,GAAGT,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,kBAAkB,KAAO,oBAAoB,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,WAAW,cAAc,oBAAoBqB,MAAM,CAACjB,MAAOT,EAAIa,gBAAgBkB,gBAAiBH,SAAS,SAAUC,GAAM7B,EAAI8B,KAAK9B,EAAIa,gBAAiB,kBAAmBgB,EAAI,EAAElB,WAAW,sCAAsC,GAAGT,EAAG,YAAY,CAACE,YAAY,wBAAwBC,MAAM,CAAC,cAAc,SAAS,KAAO,UAAU,cAAc,WAAW,CAACL,EAAIqB,GAAG,gBAAgB,IAAI,IAAI,IAAI,EAC37E,EACIW,EAAkB,GC4FtB,G,SAAA,CACAzB,KAAA,cACA0B,WAAA,CACAC,mBAAAA,IAAA,iCAEAC,IAAAA,GACA,MAAAC,EAAAA,CAAAC,EAAA5B,EAAAmB,KACAnB,IAAA,KAAAI,gBAAAc,SACAC,EAAA,IAAAU,MAAA,4BAEAV,GACA,EAEA,OACAN,aAAA,EACAG,WAAA,EACAf,aAAA,EACA6B,MAAA,GACA1B,gBAAA,CACAc,SAAA,GACAI,gBAAA,IAEAjB,MAAA,CACAa,SAAA,CACA,CAAAa,UAAA,EAAAC,QAAA,oBAAAC,QAAA,WAEAX,gBAAA,CACA,CAAAS,UAAA,EAAAC,QAAA,oBAAAC,QAAA,UACA,CAAAC,UAAAP,EAAAM,QAAA,YAIA,EACAE,YAAAA,GAGA,EAEAC,OAAAA,GACA,KAAAN,MAAA,KAAAO,OAAAC,OAAAR,KACA,EACAS,QAAA,CACA9B,UAAAA,GACA,KAAA+B,MAAApC,gBAAAqC,UAAAC,IACA,IAAAA,EAiBA,SAhBA,KAAAzC,aAAA,EACA,KAAAY,aAAA,EACA,KAAAG,WAAA,EACA,KAAA2B,OAAAC,SAAA,iBAAAd,MAAA,KAAAA,MAAAZ,SAAA,KAAAd,gBAAAc,WACA2B,MAAA,KACA,KAAAhC,aAAA,EACA,KAAAZ,aAAA,EACA,KAAAG,gBAAAc,SAAA,GACA,KAAAd,gBAAAkB,gBAAA,GACA,KAAAwB,QAAAC,KAAA,aAEAC,OAAA,KACA,KAAAhC,WAAA,EACA,KAAAf,aAAA,IAIA,GAEA,EACAgD,kBAAAA,GACA,KAAAC,cAAA,KAAAA,YACA,KCjKoQ,I,qBCQhQC,GAAY,OACd,EACA7D,EACAiC,GACA,EACA,KACA,KACA,MAIF,EAAe4B,EAAiB,O,wFChB5BC,EAA0B,IAA4B,KAE1DA,EAAwBL,KAAK,CAACM,EAAOC,GAAI,ovBAAqvB,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,gDAAgD,MAAQ,GAAG,SAAW,+RAA+R,eAAiB,CAAC,43BAA43B,WAAa,MAEzjE,c,wBCJA,IAAIC,EAAU,EAAQ,OACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,kBAAZF,IAAsBA,EAAU,CAAC,CAACF,EAAOC,GAAIC,EAAS,MAC7DA,EAAQG,SAAQL,EAAOM,QAAUJ,EAAQG,QAE5C,IAAIE,EAAM,WACGA,EAAI,WAAYL,GAAS,EAAM,CAAC,WAAY,EAAK,YAAa,G","sources":["webpack://@projuris/justto-web/./src/views/external/NewPassword.vue","webpack://@projuris/justto-web/src/views/external/NewPassword.vue","webpack://@projuris/justto-web/./src/views/external/NewPassword.vue?8f1e","webpack://@projuris/justto-web/./src/views/external/NewPassword.vue?a95e","webpack://@projuris/justto-web/./src/views/external/NewPassword.vue?4908","webpack://@projuris/justto-web/./src/views/external/NewPassword.vue?9837"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"external-view\"},[_c('el-container',[_c('el-aside',{staticClass:\"hidden-sm-and-down\",attrs:{\"width\":\"50%\"}},[_c('jus-sidenav-external')],1),_c('el-main',{staticClass:\"display-flex position-relative\"},[_c('jus-button-back',{attrs:{\"to\":\"/login\"}}),_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.showLoading),expression:\"showLoading\"}],ref:\"newPasswordForm\",staticClass:\"external-view__form\",attrs:{\"model\":_vm.newPasswordForm,\"rules\":_vm.rules,\"label-position\":\"top\"},nativeOn:{\"submit\":function($event){$event.preventDefault();return _vm.submitForm.apply(null, arguments)}}},[_c('h1',{staticClass:\"external-view__title\"},[_vm._v(\" Nova senha \")]),_c('el-alert',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSuccess),expression:\"showSuccess\"}],attrs:{\"type\":\"success\",\"show-icon\":\"\",\"title\":\"\",\"data-testid\":\"new-password-success\"},on:{\"close\":function($event){_vm.showSuccess = false}}},[_c('template',{slot:\"title\"}),_vm._v(\" Senha alterada com sucesso! \"),_c('br'),_c('router-link',{attrs:{\"to\":\"/login\",\"data-testid\":\"go-login\"}},[_vm._v(\" Clique aqui para acessar. \")])],2),_c('el-alert',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showError),expression:\"showError\"}],attrs:{\"type\":\"error\",\"show-icon\":\"\",\"title\":\"\",\"data-testid\":\"new-password-failure\"},on:{\"close\":function($event){_vm.showError = false}}},[_c('template',{slot:\"title\"}),_vm._v(\" Não foi possível identificar sua requisição de alteração de senha. \"),_c('br'),_c('router-link',{attrs:{\"to\":\"/forgot-password\",\"data-testid\":\"try-again\"}},[_vm._v(\" Clique aqui para tentar novamente. \")])],2),_c('el-form-item',{attrs:{\"label\":\"Senha\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"data-testid\":\"new-password\"},model:{value:(_vm.newPasswordForm.password),callback:function ($$v) {_vm.$set(_vm.newPasswordForm, \"password\", $$v)},expression:\"newPasswordForm.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Confirmar senha\",\"prop\":\"confirmPassword\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"data-testid\":\"confirm-password\"},model:{value:(_vm.newPasswordForm.confirmPassword),callback:function ($$v) {_vm.$set(_vm.newPasswordForm, \"confirmPassword\", $$v)},expression:\"newPasswordForm.confirmPassword\"}})],1),_c('el-button',{staticClass:\"external-view__submit\",attrs:{\"native-type\":\"submit\",\"type\":\"primary\",\"data-testid\":\"submit\"}},[_vm._v(\" Alterar \")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"external-view\">\n    <el-container>\n      <el-aside\n        width=\"50%\"\n        class=\"hidden-sm-and-down\"\n      >\n        <jus-sidenav-external />\n      </el-aside>\n      <el-main class=\"display-flex position-relative\">\n        <jus-button-back to=\"/login\" />\n        <el-form\n          ref=\"newPasswordForm\"\n          v-loading=\"showLoading\"\n          :model=\"newPasswordForm\"\n          :rules=\"rules\"\n          label-position=\"top\"\n          class=\"external-view__form\"\n          @submit.native.prevent=\"submitForm\"\n        >\n          <h1 class=\"external-view__title\">\n            Nova senha\n          </h1>\n          <el-alert\n            v-show=\"showSuccess\"\n            type=\"success\"\n            show-icon\n            title=\"\"\n            data-testid=\"new-password-success\"\n            @close=\"showSuccess = false\"\n          >\n            <template slot=\"title\" />\n            Senha alterada com sucesso!\n            <br>\n            <router-link\n              to=\"/login\"\n              data-testid=\"go-login\"\n            >\n              Clique aqui para acessar.\n            </router-link>\n          </el-alert>\n          <el-alert\n            v-show=\"showError\"\n            type=\"error\"\n            show-icon\n            title=\"\"\n            data-testid=\"new-password-failure\"\n            @close=\"showError = false\"\n          >\n            <template slot=\"title\" />\n            Não foi possível identificar sua requisição de alteração de senha.\n            <br>\n            <router-link\n              to=\"/forgot-password\"\n              data-testid=\"try-again\"\n            >\n              Clique aqui para tentar novamente.\n            </router-link>\n          </el-alert>\n          <el-form-item\n            label=\"Senha\"\n            prop=\"password\"\n          >\n            <el-input\n              v-model=\"newPasswordForm.password\"\n              type=\"password\"\n              data-testid=\"new-password\"\n            />\n          </el-form-item>\n          <el-form-item\n            label=\"Confirmar senha\"\n            prop=\"confirmPassword\"\n          >\n            <el-input\n              v-model=\"newPasswordForm.confirmPassword\"\n              type=\"password\"\n              data-testid=\"confirm-password\"\n            />\n          </el-form-item>\n          <el-button\n            native-type=\"submit\"\n            class=\"external-view__submit\"\n            type=\"primary\"\n            data-testid=\"submit\"\n          >\n            Alterar\n          </el-button>\n        </el-form>\n      </el-main>\n    </el-container>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'NewPassword',\n  components: {\n    JusSidenavExternal: () => import('@/components/layouts/JusSidenavExternal')\n  },\n  data() {\n    const validatePassword = (rule, value, callback) => {\n      if (value !== this.newPasswordForm.password) {\n        callback(new Error('Campos não correspondem'))\n      } else {\n        callback()\n      }\n    }\n    return {\n      showSuccess: false,\n      showError: false,\n      showLoading: false,\n      token: '',\n      newPasswordForm: {\n        password: '',\n        confirmPassword: ''\n      },\n      rules: {\n        password: [\n          { required: true, message: 'Campo obrigatório', trigger: 'submit' }\n        ],\n        confirmPassword: [\n          { required: true, message: 'Campo obrigatório', trigger: 'submit' },\n          { validator: validatePassword, trigger: 'submit' }\n        ]\n      }\n    }\n  },\n  beforeCreate() {\n    // if (!this.$route.query.token) {\n    //   this.$router.push('/')\n    // }\n  },\n  created() {\n    this.token = this.$route.params.token\n  },\n  methods: {\n    submitForm() {\n      this.$refs.newPasswordForm.validate(valid => {\n        if (valid) {\n          this.showLoading = true\n          this.showSuccess = false\n          this.showError = false\n          this.$store.dispatch('resetPassword', { token: this.token, password: this.newPasswordForm.password })\n            .then(() => {\n              this.showSuccess = true\n              this.showLoading = false\n              this.newPasswordForm.password = ''\n              this.newPasswordForm.confirmPassword = ''\n              this.$router.push('/login')\n            })\n            .catch(() => {\n              this.showError = true\n              this.showLoading = false\n            })\n        } else {\n          return false\n        }\n      })\n    },\n    switchShowPassword() {\n      this.showPassword = !this.showPassword\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  @import 'external.scss';\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NewPassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NewPassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewPassword.vue?vue&type=template&id=5f89a5fc&\"\nimport script from \"./NewPassword.vue?vue&type=script&lang=js&\"\nexport * from \"./NewPassword.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NewPassword.vue?vue&type=style&index=0&id=5f89a5fc&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".external-view{height:100%}.external-view main{background-color:#fff!important}.external-view .external-view__title{margin-bottom:40px;font-weight:700}.external-view .external-view__form{margin:auto;width:440px;padding:20px}.external-view .external-view__submit{width:100%}.external-view .external-view__info{font-size:12px;text-align:center;margin-top:20px}.external-view .external-view__show-password{vertical-align:text-bottom;margin-right:6px;cursor:pointer}.external-view .external-view__show-password+button{border-left:1px solid #dcdfe6;padding:3px 0;padding-left:6px}.external-view .el-alert{margin-bottom:10px}.external-view .el-select{width:100%}@media screen and (max-width:991px){.external-view .el-container .el-aside{width:100%!important}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/views/external/external.scss\"],\"names\":[],\"mappings\":\"AAAA,eACE,WAAA,CAEA,oBACE,+BAAA,CAGF,qCACE,kBAAA,CACA,eAAA,CAGF,oCACE,WAAA,CACA,WAAA,CACA,YAAA,CAGF,sCACE,UAAA,CAGF,oCACE,cAAA,CACA,iBAAA,CACA,eAAA,CAGF,6CACE,0BAAA,CACA,gBAAA,CACA,cAAA,CAEA,oDACE,6BAAA,CACA,aAAA,CACA,gBAAA,CAIJ,yBACE,kBAAA,CAGF,0BACE,UAAA,CAGF,oCAEI,uCACE,oBAAA,CAAA\",\"sourcesContent\":[\".external-view {\\n  height: 100%;\\n\\n  main{\\n    background-color: #fff !important;\\n  }\\n\\n  .external-view__title {\\n    margin-bottom: 40px;\\n    font-weight: 700;\\n  }\\n\\n  .external-view__form {\\n    margin: auto;\\n    width: 440px;\\n    padding: 20px;\\n  }\\n\\n  .external-view__submit {\\n    width: 100%;\\n  }\\n\\n  .external-view__info {\\n    font-size: 12px;\\n    text-align: center;\\n    margin-top: 20px;\\n  }\\n\\n  .external-view__show-password {\\n    vertical-align: text-bottom;\\n    margin-right: 6px;\\n    cursor: pointer;\\n\\n    &+button {\\n      border-left: 1px solid #dcdfe6;\\n      padding: 3px 0px;\\n      padding-left: 6px;\\n    }\\n  }\\n\\n  .el-alert {\\n    margin-bottom: 10px;\\n  }\\n\\n  .el-select {\\n    width: 100%;\\n  }\\n\\n  @media screen and (max-width: 991px) {\\n    .el-container {\\n      .el-aside {\\n        width: 100% !important;\\n      }\\n    }\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[4]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NewPassword.vue?vue&type=style&index=0&id=5f89a5fc&prod&lang=scss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"9b081e26\", content, true, {\"sourceMap\":true,\"shadowMode\":false});"],"names":["render","_vm","this","_c","_self","staticClass","attrs","directives","name","rawName","value","showLoading","expression","ref","newPasswordForm","rules","nativeOn","$event","preventDefault","submitForm","apply","arguments","_v","showSuccess","on","slot","showError","model","password","callback","$$v","$set","confirmPassword","staticRenderFns","components","JusSidenavExternal","data","validatePassword","rule","Error","token","required","message","trigger","validator","beforeCreate","created","$route","params","methods","$refs","validate","valid","$store","dispatch","then","$router","push","catch","switchShowPassword","showPassword","component","___CSS_LOADER_EXPORT___","module","id","content","__esModule","default","locals","exports","add"],"sourceRoot":""}