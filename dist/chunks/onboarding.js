(self["webpackChunk_projuris_justto_web"]=self["webpackChunk_projuris_justto_web"]||[]).push([[2343],{42436:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return l}});var n=function(){var e=this,t=e._self._c;return t("el-row",{staticClass:"onboarding-view"},[e.hideLeftMenu?e._e():t("el-col",{staticClass:"hidden-sm-and-down",staticStyle:{transition:"width ease 1s"},attrs:{md:e.left}},[t("jus-sidenav-external")],1),t("transition",{attrs:{name:"swiper-fade"}},[e.right>0?t("el-col",{attrs:{md:e.right,span:e.hideLeftMenu?e.right:24}},[t("swiper",{directives:[{name:"loading",rawName:"v-loading",value:e.$store.state.loading,expression:"$store.state.loading"}],ref:"swiper",staticClass:"swiper-box",attrs:{options:e.swiperOption},on:{slideChange:e.slideChange,progress:e.updateProgress}},[t("swiper-slide",[t("transition",{attrs:{name:"el-fade-in-linear"}},["welcome"===e.currentVisible?t("welcome-step",{attrs:{"is-guest":e.isGuest,"company-name":e.$route.query.invitedBy},on:{"onboarding:step:next":e.nextStep}}):e._e()],1)],1),e.isGuest?e._e():t("swiper-slide",[t("transition",{attrs:{name:"el-fade-in-linear"}},["teamname"===e.currentVisible?t("team-name-step",{on:{"onboarding:createSubdomain":e.createSubdomain}}):e._e()],1)],1),t("swiper-slide",[t("transition",{attrs:{name:"el-fade-in-linear"}},[t("EnrichmentStep",{on:{"Enriquecimento:addressEnrichment":e.handleEnrichment}})],1)],1),e.isGuest?e._e():t("swiper-slide",[t("transition",{attrs:{name:"el-fade-in-linear"}},["invite"===e.currentVisible?t("invite-step",{on:{"onboarding:step:next":e.nextStep}}):e._e()],1)],1),t("swiper-slide",[t("transition",{attrs:{name:"el-fade-in-linear"}},["final"===e.currentVisible?t("final-step",{attrs:{"is-guest":e.isGuest}}):e._e()],1)],1)],1),t("div",{staticClass:"onboarding-progress"},[e._v(" "+e._s(e.progressPercentage)+"% completo "),t("el-progress",{attrs:{width:400,percentage:e.progressPercentage,"text-inside":""}})],1)],1):e._e()],1),t("el-tooltip",{attrs:{"open-delay":800,content:"Voltar"}},[t("el-button",{staticClass:"el-button--previous-step",attrs:{disabled:0===e.currentStep,type:"primary",icon:"el-icon-arrow-up"},on:{click:e.previousStep}})],1)],1)},r=[],s=i(40917),o=i(90408),a={name:"Onboarding",components:{JusSidenavExternal:()=>i.e(3207).then(i.bind(i,53207)),WelcomeStep:()=>i.e(79).then(i.bind(i,79)),TeamNameStep:()=>i.e(5890).then(i.bind(i,45890)),InviteStep:()=>i.e(3661).then(i.bind(i,23661)),FinalStep:()=>i.e(1424).then(i.bind(i,1424)),EnrichmentStep:()=>i.e(3222).then(i.bind(i,93222))},data(){return{responses:{},left:12,right:0,currentStep:0,progressPercentage:0,secondFase:!1,swiperOption:{direction:"vertical",slidesPerView:1,allowTouchMove:!1,initialSlide:0}}},computed:{...(0,o.Se)(["workspaceId"]),isGuest(){return!!this.$route.query.invitedBy},currentVisible(){if(this.isGuest)switch(this.currentStep){case 0:return"welcome";case 1:return"enrichment";case 2:return"final";case 3:return"final"}else switch(this.currentStep){case 0:return"welcome";case 1:return"teamname";case 2:return"enrichment";case 3:return"invite";case 4:return"final";case 5:return"final"}return""},hideLeftMenu(){return this.$route?.meta?.hideLeftMenu}},beforeCreate(){this.$store.commit("redirectNewWorkspaceFalse")},created(){setTimeout(function(){this.left=6}.bind(this),400),setTimeout(function(){this.right=18}.bind(this),1200)},methods:{...(0,o.nv)(["showLoading","hideLoading","editCustomWorkpaceProperties"]),updateProgress(e=0){this.progressPercentage=Math.round(100*e*.2)/.2},slideChange(){this.currentStep=this.$refs.swiper.swiper.activeIndex},nextStep(e){Object.assign(this.responses,e),this.$refs.swiper.swiper.slideNext(800)},previousStep(){this.$refs.swiper.swiper.slidePrev(800)},createSubdomain(e){this.$store.getters.creatingWorkspace?this.$refs.swiper.swiper.slideNext(800):(this.showLoading(),Object.assign(this.responses,e),this.$store.dispatch("createWorkpace",{name:this.responses.team,subDomain:(0,s.k$)()}).then((({id:t})=>{this.$store.dispatch("editCustomWorkpaceProperties",{workspaceId:t,properties:{NEGOTIATION_TYPE:e?.negotiationType}}).finally((()=>{this.$store.dispatch("refreshToken").then((()=>{this.$refs.swiper.swiper.slideNext(800),this.$socket.emit("subscribe",{headers:{Authorization:this.$store.getters.accountToken,Workspace:this.$store.getters.workspaceSubdomain},channel:"/topic/"+this.$store.getters.workspaceSubdomain+"/whatsapp"})})).catch((e=>{this.$jusNotification({error:e})})).finally(this.hideLoading)}))})).catch((e=>{this.$jusNotification({error:e})})).finally(this.hideLoading))},handleEnrichment(e){this.showLoading(),this.editCustomWorkpaceProperties({workspaceId:this.workspaceId,properties:{ENRICH_ADDRESS:e?"ENABLED":"DISABLED"}}).then((()=>{this.$refs.swiper.swiper.slideNext(800)})).catch((e=>{this.$jusNotification({error:e})})).finally(this.hideLoading)}}},p=a,A=(i(64015),i(1001)),d=(0,A.Z)(p,n,r,!1,null,null,null),l=d.exports},86015:function(e,t,i){"use strict";i.r(t);var n=i(87537),r=i.n(n),s=i(23645),o=i.n(s),a=o()(r());a.push([e.id,".onboarding-view{height:100%;background-color:#fff}.onboarding-view>.el-col{height:100%}.onboarding-view .swiper-box{width:100%;height:100%;margin:0 auto}.onboarding-view .swiper-slide{display:flex;align-items:center;padding:120px}.onboarding-view .swiper-slide>div{width:100%}.onboarding-view .swiper-slide .el-button--primary,.onboarding-view .swiper-slide .el-form,.onboarding-view .swiper-slide .el-select{width:100%;max-width:400px}.onboarding-view .swiper-slide .el-button--text{margin-left:40px}.onboarding-view h1{margin-bottom:10px;font-weight:700}.onboarding-view .el-button--primary:not(.el-button--previous-step){margin-top:20px}.onboarding-view .onboarding-step-content{width:100%;max-width:586px}.onboarding-view .onboarding-step-content .onboarding-step-content__title{margin-bottom:40px}.onboarding-view .el-alert{max-width:400px}@media(max-width:1080px){.onboarding-view .swiper-slide{padding:60px}}@media(max-width:991px){.onboarding-view .el-button--previous-step{z-index:9!important;border-radius:50%!important;padding:19px!important;position:absolute!important;bottom:100px!important;right:20px!important}.onboarding-view .swiper-slide{justify-content:center;padding:40px}.onboarding-view .swiper-slide .el-button--primary,.onboarding-view .swiper-slide .el-form{width:100%;max-width:100%}.onboarding-view .el-form-item{width:100%;margin-right:0}.onboarding-view .el-button--text{width:100%;margin:10px 0 0 0!important}}.onboarding-view .onboarding-progress{position:relative;bottom:64px;width:400px;margin-left:120px}.onboarding-view .onboarding-progress .el-progress-bar__innerText{display:none}@media(max-width:991px){body,html{font-size:13px!important}}@media(max-width:320px){body,html{font-size:12px!important}}","",{version:3,sources:["webpack://./src/views/onboarding/Onboarding.vue"],names:[],mappings:"AACA,iBACE,WAAA,CACA,qBAAA,CACA,yBACE,WAAA,CAEF,6BACE,UAAA,CACA,WAAA,CACA,aAAA,CAEF,+BACE,YAAA,CACA,kBAAA,CACA,aAAA,CACA,mCACE,UAAA,CAEF,qIACE,UAAA,CACA,eAAA,CAEF,gDACE,gBAAA,CAGJ,oBACE,kBAAA,CACA,eAAA,CAEF,oEACE,eAAA,CAEF,0CACE,UAAA,CACA,eAAA,CACA,0EACE,kBAAA,CAGJ,2BACE,eAAA,CAEF,yBACE,+BACE,YAAA,CAAA,CAGJ,wBACE,2CACE,mBAAA,CACA,2BAAA,CACA,sBAAA,CACA,2BAAA,CACA,sBAAA,CACA,oBAAA,CAEF,+BACE,sBAAA,CACA,YAAA,CACA,2FACE,UAAA,CACA,cAAA,CAGJ,+BACE,UAAA,CACA,cAAA,CAEF,kCACE,UAAA,CACA,2BAAA,CAAA,CAGJ,sCACE,iBAAA,CACA,WAAA,CACA,WAAA,CACA,iBAAA,CACA,kEACE,YAAA,CAKN,wBACE,UACE,wBAAA,CAAA,CAGJ,wBACE,UACE,wBAAA,CAAA",sourcesContent:["\n.onboarding-view {\n  height: 100%;\n  background-color: #fff;\n  >.el-col {\n    height: 100%\n  }\n  .swiper-box {\n    width: 100%;\n    height: 100%;\n    margin: 0 auto;\n  }\n  .swiper-slide {\n    display: flex;\n    align-items: center;\n    padding: 120px;\n    >div {\n      width: 100%;\n    }\n    .el-button--primary, .el-select, .el-form {\n      width: 100%;\n      max-width: 400px;\n    }\n    .el-button--text {\n      margin-left: 40px;\n    }\n  }\n  h1{\n    margin-bottom: 10px;\n    font-weight: bold;\n  }\n  .el-button--primary:not(.el-button--previous-step) {\n    margin-top: 20px;\n  }\n  .onboarding-step-content {\n    width: 100%;\n    max-width: 586px;\n    .onboarding-step-content__title {\n      margin-bottom: 40px;\n    }\n  }\n  .el-alert {\n    max-width: 400px;\n  }\n  @media (max-width: 1080px) {\n    .swiper-slide {\n      padding: 60px;\n    }\n  }\n  @media (max-width: 991px) {\n    .el-button--previous-step {\n      z-index: 9 !important;\n      border-radius: 50% !important;\n      padding: 19px !important;\n      position: absolute !important;\n      bottom: 100px !important;\n      right: 20px !important;\n    }\n    .swiper-slide {\n      justify-content: center;\n      padding: 40px;\n      .el-button--primary, .el-form {\n        width: 100%;\n        max-width: 100%;\n      }\n    }\n    .el-form-item {\n      width: 100%;\n      margin-right: 0;\n    }\n    .el-button--text {\n      width: 100%;\n      margin: 10px 0 0 0 !important;\n    }\n  }\n  .onboarding-progress{\n    position: relative;\n    bottom: 64px;\n    width: 400px;\n    margin-left: 120px;\n    .el-progress-bar__innerText {\n      display: none;\n    }\n  }\n}\n\n@media (max-width: 991px) {\n  html, body{\n    font-size: 13px !important;\n  }\n}\n@media (max-width: 320px) {\n  html, body{\n    font-size: 12px !important;\n  }\n}\n"],sourceRoot:""}]),t["default"]=a},64015:function(e,t,i){var n=i(86015);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var r=i(39185).Z;r("ee364c8a",n,!0,{sourceMap:!0,shadowMode:!1})}}]);
//# sourceMappingURL=onboarding.js.map