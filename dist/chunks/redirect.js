(self["webpackChunk_projuris_justto_web"]=self["webpackChunk_projuris_justto_web"]||[]).push([[5626],{26235:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return p}});var r=function(){var e=this,t=e._self._c;return t("section",{directives:[{name:"loading",rawName:"v-loading"}],staticClass:"redirect-container"},[t("jusChangeWorkspace",{ref:"workspaceSwitcher"})],1)},s=[],i=(o(57658),o(40917)),n=o(90408),c={methods:{goToWorkspace(e,t=null){const o=this.$loading({lock:!0,text:"Alterando Equipe..."}),r=this.$store.getters.workspaceTeamName;e.workspace&&this.$store.commit("setWorkspace",e.workspace),e.profile&&this.$store.commit("setProfile",e.profile),e.person&&this.$store.commit("setLoggedPerson",e.person),this.$store.dispatch("getWorkspaceMembers").then((()=>{this.$jusSegment("Troca de time/workspace",{description:`Alterado de ${e.workspace.name} para ${r}`})})).catch((e=>{this.$jusNotification({error:e})})).finally((()=>{const{href:e}=window.location;this.isVisible=!1,setTimeout((()=>{o.close()}),1e3),t?window.location.replace(e.split("#")[0]+`#/negotiation/${t}`):window.location.replace(e.split("#")[0]+`#${this.$store.getters.getCustomHome||"/negotiation"}`),window.location.reload()}))}}},a={components:{jusChangeWorkspace:()=>o.e(3138).then(o.bind(o,3138))},mixins:[c],beforeMount(){localStorage.removeItem("jusredirect"),this.resetOccurrences()},mounted(){const{wid:e,did:t}=this.$route.query;if(localStorage.getItem(`jusworkspace_${e}`)){const o=(0,i.D5)();Number(o.id)===Number(e)&&Number(t)?this.$router.push(`negotiation/${t}`):this.redirectToWorkspace(e,t)}else localStorage.setItem("jusredirect",JSON.stringify(this.$route.query)),this.redirectToWorkspace(e,t)},methods:{...(0,n.nv)(["myWorkspace","resetOccurrences"]),redirectToWorkspace(e,t){this.myWorkspace().then((o=>{const r=o.find((({workspace:{id:t}})=>Number(t)===Number(e)));r&&Number(t)?this.goToWorkspace(r,t):this.$confirm("Você não possui privilégios para visualizar esta página!","Warning",{closeOnPressEscape:!1,closeOnClickModal:!1,confirmButtonText:"OK",showCancelButton:!1,showClose:!1,type:"warning",center:!0}).then((()=>{this.$router.push({name:"dashboard"})}))}))}}},l=a,u=(o(2418),o(1001)),d=(0,u.Z)(l,r,s,!1,null,null,null),p=d.exports},25699:function(e,t,o){"use strict";o.r(t);var r=o(87537),s=o.n(r),i=o(23645),n=o.n(i),c=n()(s());c.push([e.id,".redirect-container{width:100%;height:100%;padding:16vh 8vw}.redirect-container .redirect-container__skeleton .el-skeleton{text-align:center}","",{version:3,sources:["webpack://./src/views/main/Redirect.vue"],names:[],mappings:"AACA,oBACE,UAAA,CACA,WAAA,CACA,gBAAA,CAGE,+DACE,iBAAA",sourcesContent:["\n.redirect-container {\n  width: 100%;\n  height: 100%;\n  padding: 16vh 8vw;\n\n  .redirect-container__skeleton {\n    .el-skeleton {\n      text-align: center;\n    }\n  }\n}\n"],sourceRoot:""}]),t["default"]=c},2418:function(e,t,o){var r=o(25699);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var s=o(39185).Z;s("0e484d02",r,!0,{sourceMap:!0,shadowMode:!1})}}]);
//# sourceMappingURL=redirect.js.map