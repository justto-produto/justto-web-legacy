(self["webpackChunk_projuris_justto_web"]=self["webpackChunk_projuris_justto_web"]||[]).push([[685],{95116:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});r(57658);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"external-view"},[t("el-container",[t("el-aside",{staticClass:"hidden-sm-and-down",attrs:{width:"50%"}},[t("jus-sidenav-external",{attrs:{"show-plans":""}})],1),t("el-main",{staticClass:"display-flex position-relative"},[t("jus-button-back",{attrs:{src:"http://justto.com.br",text:"Voltar"}}),t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.showLoading,expression:"showLoading"}],ref:"registerForm",staticClass:"external-view__form",attrs:{model:e.registerForm,rules:e.rules,"label-position":"top"},nativeOn:{submit:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[t("h1",{staticClass:"external-view__title"},[e._v(" Cadastre-se ")]),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.showError,expression:"showError"}],attrs:{title:e.errorMessage,type:"error","data-testid":"register-failure"},on:{close:function(t){e.showError=!1}}}),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.showSuccess,expression:"showSuccess"}],attrs:{title:"Cadastro realizado com sucesso! Acesse seu email para prosseguir.",type:"success","data-testid":"register-success"},on:{close:function(t){e.showSuccess=!1}}}),t("el-form-item",{attrs:{label:"Nome",prop:"name"}},[t("el-input",{attrs:{name:"register-name","data-testid":"register-name"},model:{value:e.registerForm.name,callback:function(t){e.$set(e.registerForm,"name",t)},expression:"registerForm.name"}})],1),t("el-form-item",{attrs:{label:"Email",prop:"email"}},[t("el-input",{attrs:{name:"register-email","data-testid":"register-email"},model:{value:e.registerForm.email,callback:function(t){e.$set(e.registerForm,"email",t)},expression:"registerForm.email"}})],1),t("el-form-item",{attrs:{label:"Senha",prop:"password"}},[t("el-input",{attrs:{type:e.passwordType,name:"register-password","data-testid":"register-password"},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}}),t("div",{staticClass:"el-button--input-float"},[t("jus-icon",{staticClass:"external-view__show-password",attrs:{icon:e.showPassword?"hide":"eye"},nativeOn:{click:function(t){return e.switchShowPassword.apply(null,arguments)}}})],1)],1),t("el-button",{staticClass:"external-view__submit",attrs:{"native-type":"submit",type:"primary","data-testid":"submit"}},[e._v(" Cadastrar ")]),t("el-row",{staticClass:"external-view__info"},[e._v(" Ao clicar no botão, eu concordo com os "),t("a",{attrs:{href:"https://justto.com.br/termos-de-uso/",target:"_blank"}},[e._v(" Termos de Uso")]),e._v(" e "),t("a",{attrs:{"data-testid":"contract-terms",href:"https://justto.com.br/termos-de-contratacao/",target:"_blank"}},[e._v("Termos Gerais de Contratação.")]),t("br"),t("br"),e._v(" Já possui conta? "),t("a",{attrs:{href:"login"},on:{click:function(t){return t.preventDefault(),e.$router.push("login")}}},[e._v(" Clique aqui para acessar.")])])],1)],1)],1)],1)},a=[],o={name:"Register",components:{JusSidenavExternal:()=>r.e(3207).then(r.bind(r,53207))},data(){return{showPassword:!1,showError:!1,showSuccess:!1,showLoading:!1,errorMessage:"",registerForm:{name:"",email:"",password:""},rules:{name:[{required:!0,message:"Campo obrigatório",trigger:"submit"}],email:[{required:!0,message:"Campo obrigatório",trigger:"submit"},{type:"email",required:!0,message:"Insira um e-mail válido",trigger:"submit"}],password:[{required:!0,message:"Campo obrigatório",trigger:"submit"}]}}},computed:{passwordType(){return this.showPassword?"text":"password"}},beforeCreate(){this.$store.dispatch("logout",{redirect:!1})},methods:{submitForm(){const e=this;this.$refs.registerForm.validate((t=>{if(e.showError=!1,e.showSuccess=!1,!t)return!1;e.showLoading=!0,this.$store.dispatch("register",this.registerForm).then((()=>{this.$jusSegment("Cadastro de novo usuário",{userId:this.registerForm.email,name:this.registerForm.name}),e.showSuccess=!0,e.registerForm.name="",e.registerForm.email="",e.registerForm.password="",e.showLoading=!1})).catch((e=>{e.response&&"ALREADY_EXISTS"===e.response.data.code?this.errorMessage="Já existe um usuário cadastrado com este e-mail.":this.errorMessage="Houve uma falha de conexão com o servidor.\n                Tente novamente ou entre em contato com o administrador do sistema.",this.showError=!0,this.showLoading=!1}))}))},switchShowPassword(){this.showPassword=!this.showPassword}}},i=o,n=(r(60782),r(1001)),l=(0,n.Z)(i,s,a,!1,null,null,null),d=l.exports},85840:function(e,t,r){"use strict";r.r(t);var s=r(87537),a=r.n(s),o=r(23645),i=r.n(o),n=i()(a());n.push([e.id,".external-view{height:100%}.external-view main{background-color:#fff!important}.external-view .external-view__title{margin-bottom:40px;font-weight:700}.external-view .external-view__form{margin:auto;width:440px;padding:20px}.external-view .external-view__submit{width:100%}.external-view .external-view__info{font-size:12px;text-align:center;margin-top:20px}.external-view .external-view__show-password{vertical-align:text-bottom;margin-right:6px;cursor:pointer}.external-view .external-view__show-password+button{border-left:1px solid #dcdfe6;padding:3px 0;padding-left:6px}.external-view .el-alert{margin-bottom:10px}.external-view .el-select{width:100%}@media screen and (max-width:991px){.external-view .el-container .el-aside{width:100%!important}}","",{version:3,sources:["webpack://./src/views/external/external.scss"],names:[],mappings:"AAAA,eACE,WAAA,CAEA,oBACE,+BAAA,CAGF,qCACE,kBAAA,CACA,eAAA,CAGF,oCACE,WAAA,CACA,WAAA,CACA,YAAA,CAGF,sCACE,UAAA,CAGF,oCACE,cAAA,CACA,iBAAA,CACA,eAAA,CAGF,6CACE,0BAAA,CACA,gBAAA,CACA,cAAA,CAEA,oDACE,6BAAA,CACA,aAAA,CACA,gBAAA,CAIJ,yBACE,kBAAA,CAGF,0BACE,UAAA,CAGF,oCAEI,uCACE,oBAAA,CAAA",sourcesContent:[".external-view {\n  height: 100%;\n\n  main{\n    background-color: #fff !important;\n  }\n\n  .external-view__title {\n    margin-bottom: 40px;\n    font-weight: 700;\n  }\n\n  .external-view__form {\n    margin: auto;\n    width: 440px;\n    padding: 20px;\n  }\n\n  .external-view__submit {\n    width: 100%;\n  }\n\n  .external-view__info {\n    font-size: 12px;\n    text-align: center;\n    margin-top: 20px;\n  }\n\n  .external-view__show-password {\n    vertical-align: text-bottom;\n    margin-right: 6px;\n    cursor: pointer;\n\n    &+button {\n      border-left: 1px solid #dcdfe6;\n      padding: 3px 0px;\n      padding-left: 6px;\n    }\n  }\n\n  .el-alert {\n    margin-bottom: 10px;\n  }\n\n  .el-select {\n    width: 100%;\n  }\n\n  @media screen and (max-width: 991px) {\n    .el-container {\n      .el-aside {\n        width: 100% !important;\n      }\n    }\n  }\n}\n"],sourceRoot:""}]),t["default"]=n},60782:function(e,t,r){var s=r(85840);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var a=r(39185).Z;a("45ad0968",s,!0,{sourceMap:!0,shadowMode:!1})}}]);
//# sourceMappingURL=register.js.map