{"version":3,"file":"chunks/workspaces.js","mappings":"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","sources":["webpack://@projuris/justto-web/./src/views/main/configurations/partials/WorkspaceList.vue","webpack://@projuris/justto-web/src/views/main/configurations/partials/WorkspaceList.vue","webpack://@projuris/justto-web/./src/views/main/configurations/partials/WorkspaceList.vue?47cd","webpack://@projuris/justto-web/./src/views/main/configurations/partials/WorkspaceList.vue?2119","webpack://@projuris/justto-web/./src/views/main/configurations/partials/WorkspaceList.vue?b04c","webpack://@projuris/justto-web/./src/views/main/configurations/partials/WorkspaceList.vue?9f11","webpack://@projuris/justto-web/./src/views/main/configurations/partials/WorkspaceList.vue?72e9","webpack://@projuris/justto-web/./src/views/main/configurations/partials/WorkspaceList.vue?cd2f"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],staticClass:\"workspace-container\"},[_c('el-table',{staticClass:\"workspace-container__table\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.filteredWorkspaces,\"height\":\"95vh\"},on:{\"row-click\":_vm.handleRowClick}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"Workspace\"}}),_c('el-table-column',{attrs:{\"prop\":\"teamName\",\"label\":\"Equipe\"}}),_c('el-table-column',{attrs:{\"prop\":\"keyAccountId\",\"label\":\"Key Account\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.id === _vm.activeRow)?_c('el-select',{attrs:{\"id\":`ka-select-${scope.row.id}`,\"value\":scope.row.keyAccountId,\"size\":\"small\",\"filterable\":\"\"},on:{\"change\":function($event){return _vm.saveKeyAccountInToWorkspace($event, scope.row)}}},_vm._l((_vm.keyAccounts),function(keyAccount){return _c('el-option',{key:`key-account-${keyAccount.id}`,attrs:{\"value\":keyAccount.id,\"label\":_vm.keyAccountTemplate(keyAccount)}})}),1):_c('span',{style:({cursor: 'pointer'})},[_vm._v(\" \"+_vm._s(_vm.keyAccountTemplate(_vm.findKeyAccount(scope.row.keyAccountId)))+\" \")])]}}])}),_c('el-table-column',{attrs:{\"align\":\"right\",\"prop\":\"portifolios\",\"class-name\":\"portifolios-column\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._l((scope.row.portifolios),function(tag){return _c('el-tag',{key:tag.id,attrs:{\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s(_vm.portifolioById(tag.id).name)+\" \")])}),(scope.row.portifolios.length === 0)?_c('a',[_vm._v(\"Ver tipos de carteira\")]):_vm._e()]}}])},[(!_vm.hideSearch)?_c('template',{slot:\"header\"},[_c('div',{staticClass:\"el-input el-input--mini\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],staticClass:\"el-input__inner\",attrs:{\"placeholder\":\"Pesquise aqui\"},domProps:{\"value\":(_vm.search)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.search=$event.target.value},function($event){return _vm.$forceUpdate()}]}})])]):_vm._e()],2)],1),_c('el-dialog',{attrs:{\"title\":\"Tipos de carteira\",\"visible\":_vm.dialog.visible,\"append-to-body\":\"\",\"custom-class\":\"portifolios-dialog\"},on:{\"update:visible\":function($event){return _vm.$set(_vm.dialog, \"visible\", $event)}}},[_c('el-select',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],attrs:{\"size\":\"small\",\"default-first-option\":\"\",\"allow-create\":\"\",\"filterable\":\"\",\"multiple\":\"\"},model:{value:(_vm.handledDialogPortifolios),callback:function ($$v) {_vm.handledDialogPortifolios=$$v},expression:\"handledDialogPortifolios\"}},_vm._l((_vm.portifolios),function(portifolio){return _c('el-option',{key:`portifolio-${portifolio.id}`,attrs:{\"value\":portifolio.id,\"label\":portifolio.name}})}),1),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.closeDialog()}}},[_vm._v(\"Cancelar\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.disableSavePortifolios},on:{\"click\":_vm.salvarPortifolios}},[_vm._v(\" Salvar \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section\n    v-loading=\"isLoading\"\n    class=\"workspace-container\"\n  >\n    <el-table\n      :data=\"filteredWorkspaces\"\n      style=\"width: 100%\"\n      height=\"95vh\"\n      class=\"workspace-container__table\"\n      @row-click=\"handleRowClick\"\n    >\n      <el-table-column\n        prop=\"name\"\n        label=\"Workspace\"\n      />\n      <el-table-column\n        prop=\"teamName\"\n        label=\"Equipe\"\n      />\n\n      <el-table-column\n        prop=\"keyAccountId\"\n        label=\"Key Account\"\n      >\n        <template #default=\"scope\">\n          <el-select\n            v-if=\"scope.row.id === activeRow\"\n            :id=\"`ka-select-${scope.row.id}`\"\n            :value=\"scope.row.keyAccountId\"\n            size=\"small\"\n            filterable\n            @change=\"saveKeyAccountInToWorkspace($event, scope.row)\"\n          >\n            <el-option\n              v-for=\"keyAccount in keyAccounts\"\n              :key=\"`key-account-${keyAccount.id}`\"\n              :value=\"keyAccount.id\"\n              :label=\"keyAccountTemplate(keyAccount)\"\n            />\n          </el-select>\n\n          <span\n            v-else\n            :style=\"{cursor: 'pointer'}\"\n          >\n            {{ keyAccountTemplate(findKeyAccount(scope.row.keyAccountId)) }}\n          </span>\n        </template>\n      </el-table-column>\n\n      <el-table-column\n        align=\"right\"\n        prop=\"portifolios\"\n        class-name=\"portifolios-column\"\n      >\n        <template\n          v-if=\"!hideSearch\"\n          slot=\"header\"\n        >\n          <div class=\"el-input el-input--mini\">\n            <input\n              v-model=\"search\"\n              placeholder=\"Pesquise aqui\"\n              class=\"el-input__inner\"\n              @input=\"$forceUpdate()\"\n            >\n          </div>\n        </template>\n\n        <template #default=\"scope\">\n          <el-tag\n            v-for=\"tag in scope.row.portifolios\"\n            :key=\"tag.id\"\n            size=\"mini\"\n          >\n            {{ portifolioById(tag.id).name }}\n          </el-tag>\n\n          <a v-if=\"scope.row.portifolios.length === 0\">Ver tipos de carteira</a>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <el-dialog\n      title=\"Tipos de carteira\"\n      :visible.sync=\"dialog.visible\"\n      append-to-body\n      custom-class=\"portifolios-dialog\"\n    >\n      <el-select\n        v-model=\"handledDialogPortifolios\"\n        v-loading=\"isLoading\"\n        size=\"small\"\n        default-first-option\n        allow-create\n        filterable\n        multiple\n      >\n        <el-option\n          v-for=\"portifolio in portifolios\"\n          :key=\"`portifolio-${portifolio.id}`\"\n          :value=\"portifolio.id\"\n          :label=\"portifolio.name\"\n        />\n      </el-select>\n\n      <span slot=\"footer\">\n        <el-button @click=\"closeDialog()\">Cancelar</el-button>\n        <el-button\n          type=\"primary\"\n          :disabled=\"disableSavePortifolios\"\n          @click=\"salvarPortifolios\"\n        >\n          Salvar\n        </el-button>\n      </span>\n    </el-dialog>\n  </section>\n</template>\n\n<script>\nimport { mapActions, mapGetters, mapMutations } from 'vuex'\nimport _ from 'lodash'\n\nexport default {\n  props: {\n    filterTerm: {\n      type: String,\n      default: () => ''\n    },\n\n    hideSearch: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data: () => ({\n    isLoading: false,\n    modelSearch: '',\n    dialog: {\n      visible: false,\n      workspace: null,\n      portifolios: []\n    },\n    activeRow: null\n  }),\n\n  computed: {\n    ...mapGetters({\n      workspaces: 'getMyWorkspaces',\n      keyAccounts: 'getWorkspaceKeyAccounts',\n      portifolios: 'getPortifolios',\n      portifoliosByWorkspace: 'getPortifoliosByWorkspace'\n    }),\n\n    search: {\n      get() {\n        return this.modelSearch || this.filterTerm\n      },\n\n      set(value) {\n        this.modelSearch = value\n      }\n    },\n\n    portifolioById() {\n      return (id) => this.portifolios.find(portifolio => Number(portifolio.id) === Number(id))\n    },\n\n    filteredWorkspaces() {\n      if (!this.search) {\n        return this.workspaces.map(item => ({\n          portifolios: [],\n          ...item\n        }))\n      } else {\n        return this.workspaces.filter(({ name, teamName, keyAccountId }) => {\n          const lowerCaseSearch = this.search.toLocaleLowerCase()\n\n          const lowerCaseTeamName = (teamName || '').toLocaleLowerCase()\n          const lowerCaseKeyAccount = (this.keyAccountTemplate(this.findKeyAccount(keyAccountId)) || '').toLocaleLowerCase()\n          const lowerCaseName = (name || '').toLocaleLowerCase()\n\n          return lowerCaseTeamName.includes(lowerCaseSearch) || lowerCaseName.includes(lowerCaseSearch) || lowerCaseKeyAccount.includes(lowerCaseSearch)\n        }).map(item => ({\n          portifolios: [],\n          ...item\n        }))\n      }\n    },\n\n    handledDialogPortifolios: {\n      get() {\n        return this.portifoliosByWorkspace[this.dialog.workspace] || []\n      },\n\n      set(values) {\n        const portifolios = values.filter(name => {\n          if (typeof name === 'string') {\n            this.createPortifolioAndInsert({\n              name,\n              workspaceId: this.dialog.workspace\n            }).finally(() => this.$forceUpdate())\n\n            return false\n          }\n\n          return true\n        })\n\n        this.insertPortifolios({\n          portifolios,\n          workspaceId: this.dialog.workspace\n        })\n      }\n    },\n\n    disableSavePortifolios() {\n      return _.isEqual(this.handledDialogPortifolios, this.dialog.portifolios)\n    }\n  },\n\n  beforeMount() {\n    this.init()\n  },\n\n  methods: {\n    ...mapActions([\n      'myWorkspace',\n      'getPortifolios',\n      'getPortifolioAssociated',\n      'getWorkspaceKeyAccounts',\n      'setPortifolioToWorkspace',\n      'updateWorkspaceKeyAccount',\n      'createPortifolioAndInsert',\n      'associatePortifolioToWorkspace',\n      'disassociatePortifolioToWorkspace'\n    ]),\n\n    ...mapMutations([\n      'insertPortifolios'\n    ]),\n\n    init() {\n      this.isLoading = true\n\n      Promise.all([\n        this.myWorkspace(),\n        this.getPortifolios(),\n        this.getWorkspaceKeyAccounts()\n      ]).then(() => {}).finally(() => {\n        this.isLoading = false\n      })\n    },\n\n    findKeyAccount(keyAccountId) {\n      return this.keyAccounts.find(({ id }) => Number(id) === Number(keyAccountId))\n    },\n\n    keyAccountTemplate(ka) {\n      if (ka) {\n        return (ka.name ? `${ka.name} - ` : '') + `${ka.email}`\n      } else {\n        return '-'\n      }\n    },\n\n    updateWorkspacePortifolios(workspaceId, portifolios) {\n      this.$set(this.workspaces.find(({ id }) => Number(id) === Number(workspaceId)), 'portifolios', portifolios)\n    },\n\n    openPortifolioDialog(workspaceId) {\n      this.isLoading = true\n\n      this.getPortifolioAssociated(workspaceId).then(portifolios => {\n        this.updateWorkspacePortifolios(workspaceId, portifolios)\n\n        this.dialog = {\n          portifolios: portifolios.map(({ id }) => Number(id)),\n          visible: true,\n          workspace: workspaceId\n        }\n\n        this.handledDialogPortifolios = portifolios.map(({ id }) => Number(id))\n      }).finally(() => {\n        this.isLoading = false\n      })\n    },\n\n    salvarPortifolios() {\n      const toSave = _.difference(this.handledDialogPortifolios, this.dialog.portifolios)\n      const toRemove = _.difference(this.dialog.portifolios, this.handledDialogPortifolios)\n      const workspaceId = this.dialog.workspace\n\n      this.isLoading = true\n\n      Promise.all([\n        ...toRemove.map(portifolioId => this.disassociatePortifolioToWorkspace({ portifolioId, workspaceId })),\n        ...toSave.map(portifolioId => this.associatePortifolioToWorkspace({ portifolioId, workspaceId }))\n      ]).then(() => {\n        this.updateWorkspacePortifolios(workspaceId, this.handledDialogPortifolios.map(id => ({ id })))\n\n        this.$jusNotification({\n          type: 'success',\n          title: 'Yay!',\n          message: 'Tipos de carteira salvos com sucesso'\n        })\n        this.closeDialog()\n      }).finally(() => {\n        this.isLoading = false\n      })\n    },\n\n    closeDialog() {\n      this.dialog = {\n        portifolios: [],\n        visible: false,\n        workspace: null\n      }\n    },\n\n    handleRowClick(row, column, _event) {\n      switch (column.property) {\n        case 'portifolios':\n          this.openPortifolioDialog(row.id)\n          break\n        case 'keyAccountId':\n          this.setActiveRow(row.id)\n          break\n        default:\n          break\n      }\n    },\n\n    setActiveRow(row) {\n      this.activeRow = row\n      this.$nextTick(() => {\n        if (document.querySelector(`#ka-select-${row}`)) {\n          document.querySelector(`#ka-select-${row}`).click()\n        }\n      })\n    },\n\n    saveKeyAccountInToWorkspace(keyAccountId, { id }) {\n      this.updateWorkspaceKeyAccount({ keyAccountId, workspaceId: id }).then(() => {\n        this.setActiveRow(null)\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.portifolios-dialog {\n  .el-dialog__body {\n    .el-select {\n      width: 100%;\n    }\n  }\n}\n\n.portifolios-column {\n  padding: 4px 0 !important;\n\n  .cell {\n    .el-tag {\n      margin: 4px;\n    }\n  }\n}\n</style>\n\n<style lang=\"scss\" scoped>\n.workspace-container {\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WorkspaceList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WorkspaceList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WorkspaceList.vue?vue&type=template&id=82438f12&scoped=true&\"\nimport script from \"./WorkspaceList.vue?vue&type=script&lang=js&\"\nexport * from \"./WorkspaceList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WorkspaceList.vue?vue&type=style&index=0&id=82438f12&prod&lang=scss&\"\nimport style1 from \"./WorkspaceList.vue?vue&type=style&index=1&id=82438f12&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"82438f12\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".portifolios-dialog .el-dialog__body .el-select{width:100%}.portifolios-column{padding:4px 0!important}.portifolios-column .cell .el-tag{margin:4px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/views/main/configurations/partials/WorkspaceList.vue\"],\"names\":[],\"mappings\":\"AAGI,gDACE,UAAA,CAKN,oBACE,uBAAA,CAGE,kCACE,UAAA\",\"sourcesContent\":[\"\\n.portifolios-dialog {\\n  .el-dialog__body {\\n    .el-select {\\n      width: 100%;\\n    }\\n  }\\n}\\n\\n.portifolios-column {\\n  padding: 4px 0 !important;\\n\\n  .cell {\\n    .el-tag {\\n      margin: 4px;\\n    }\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".workspace-container[data-v-82438f12]{width:100%}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/views/main/configurations/partials/WorkspaceList.vue\"],\"names\":[],\"mappings\":\"AACA,sCACE,UAAA\",\"sourcesContent\":[\"\\n.workspace-container {\\n  width: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[4]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WorkspaceList.vue?vue&type=style&index=0&id=82438f12&prod&lang=scss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"32abddbb\", content, true, {\"sourceMap\":true,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[4]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WorkspaceList.vue?vue&type=style&index=1&id=82438f12&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"327051ef\", content, true, {\"sourceMap\":true,\"shadowMode\":false});"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","isLoading","expression","staticClass","staticStyle","attrs","filteredWorkspaces","on","handleRowClick","scopedSlots","_u","key","fn","scope","row","id","activeRow","keyAccountId","$event","saveKeyAccountInToWorkspace","_l","keyAccounts","keyAccount","keyAccountTemplate","style","cursor","_v","_s","findKeyAccount","portifolios","tag","portifolioById","length","_e","hideSearch","slot","search","domProps","target","composing","$forceUpdate","dialog","visible","$set","model","handledDialogPortifolios","callback","$$v","portifolio","closeDialog","disableSavePortifolios","salvarPortifolios","staticRenderFns","props","filterTerm","type","String","default","Boolean","data","modelSearch","workspace","computed","mapGetters","workspaces","portifoliosByWorkspace","get","set","find","Number","filter","teamName","lowerCaseSearch","toLocaleLowerCase","lowerCaseTeamName","lowerCaseKeyAccount","lowerCaseName","includes","map","item","values","createPortifolioAndInsert","workspaceId","finally","insertPortifolios","_","beforeMount","init","methods","mapActions","mapMutations","Promise","all","myWorkspace","getPortifolios","getWorkspaceKeyAccounts","then","ka","email","updateWorkspacePortifolios","openPortifolioDialog","getPortifolioAssociated","toSave","toRemove","portifolioId","disassociatePortifolioToWorkspace","associatePortifolioToWorkspace","$jusNotification","title","message","column","_event","property","setActiveRow","$nextTick","document","querySelector","click","updateWorkspaceKeyAccount","component","___CSS_LOADER_EXPORT___","push","module","content","__esModule","locals","exports","add"],"sourceRoot":""}